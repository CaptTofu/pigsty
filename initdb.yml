#!/usr/bin/env ansible-playbook
---
#==============================================================#
# File      :   initdb.yml
# Ctime     :   2020-04-13
# Mtime     :   2020-09-07
# Desc      :   init postgres database clusters
# Path      :   initdb.yml
# Copyright (C) 2018-2021 Ruohang Feng
#==============================================================#


#------------------------------------------------------------------------------
# create or recreate postgres database clusters
#------------------------------------------------------------------------------
- name: Init database cluster
  become: yes
  hosts: all
  gather_facts: false

  roles:
    - role: postgres                        # init postgres
      tags: postgres

    - role: monitor                         # init monitor system
      tags: monitor

    - role: haproxy                         # init haproxy
      tags: haproxy

    - role: vip                             # init vip-manager
      tags: vip
...
