{
    "style": "light",
    "description": "PGSQL log for single instance", 
    "links": [
        {
            "keepTime": true, 
            "tags": [
                "Pigsty", 
                "Overview"
            ], 
            "url": "", 
            "title": "Overview", 
            "includeVars": true, 
            "tooltip": "", 
            "targetBlank": false, 
            "asDropdown": true, 
            "type": "dashboards", 
            "icon": "external link"
        }, 
        {
            "keepTime": true, 
            "tags": [
                "Pigsty", 
                "Cluster"
            ], 
            "url": "", 
            "title": "Cluster", 
            "includeVars": true, 
            "tooltip": "", 
            "targetBlank": false, 
            "asDropdown": true, 
            "type": "dashboards", 
            "icon": "external link"
        }, 
        {
            "keepTime": true, 
            "tags": [
                "Pigsty", 
                "Instance"
            ], 
            "url": "", 
            "title": "Instance", 
            "includeVars": true, 
            "tooltip": "", 
            "targetBlank": false, 
            "asDropdown": true, 
            "type": "dashboards", 
            "icon": "external link"
        }, 
        {
            "keepTime": true, 
            "tags": [
                "Pigsty", 
                "Database"
            ], 
            "url": "", 
            "title": "Database", 
            "includeVars": true, 
            "tooltip": "", 
            "targetBlank": false, 
            "asDropdown": true, 
            "type": "dashboards", 
            "icon": "external link"
        }
    ], 
    "tags": [
        "Pigsty", 
        "Instance", 
        "Log"
    ], 
    "graphTooltip": 1, 
    "title": "PGSQL Log", 
    "editable": true, 
    "iteration": 1623233738526, 
    "annotations": {
        "list": [
            {
                "enable": true, 
                "hide": true, 
                "name": "Annotations & Alerts", 
                "builtIn": 1, 
                "datasource": "-- Grafana --", 
                "type": "dashboard", 
                "iconColor": "rgba(0, 211, 255, 1)"
            }
        ]
    }, 
    "gnetId": null, 
    "timepicker": {}, 
    "refresh": false, 
    "version": 4, 
    "time": {
        "to": "now", 
        "from": "now-6h"
    }, 
    "uid": "pgsql-log", 
    "timezone": "", 
    "schemaVersion": 30, 
    "panels": [
        {
            "timeFrom": null, 
            "fieldConfig": {
                "overrides": [
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "ERROR"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "Errlog"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "FATAL"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "purple", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "LOG"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "super-light-blue", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "WARNING"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "orange", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "log"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "blue", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }
                ], 
                "defaults": {
                    "mappings": [], 
                    "color": {
                        "fixedColor": "green", 
                        "mode": "fixed"
                    }, 
                    "thresholds": {
                        "steps": [
                            {
                                "color": "green", 
                                "value": null
                            }
                        ], 
                        "mode": "absolute"
                    }, 
                    "custom": {
                        "stacking": {
                            "group": "A", 
                            "mode": "normal"
                        }, 
                        "drawStyle": "bars", 
                        "spanNulls": true, 
                        "hideFrom": {
                            "viz": false, 
                            "graph": false, 
                            "legend": false, 
                            "tooltip": false
                        }, 
                        "lineInterpolation": "linear", 
                        "axisLabel": "", 
                        "thresholdsStyle": {
                            "mode": "off"
                        }, 
                        "axisPlacement": "auto", 
                        "fillOpacity": 100, 
                        "barAlignment": 0, 
                        "scaleDistribution": {
                            "type": "linear"
                        }, 
                        "pointSize": 5, 
                        "lineWidth": 1, 
                        "showPoints": "never", 
                        "gradientMode": "none"
                    }, 
                    "decimals": 0, 
                    "unit": "none"
                }
            }, 
            "title": "Logs", 
            "timeShift": null, 
            "interval": "1s", 
            "options": {
                "legend": {
                    "placement": "bottom", 
                    "calcs": [
                        "mean", 
                        "sum"
                    ], 
                    "displayMode": "table"
                }, 
                "tooltip": {
                    "mode": "single"
                }
            }, 
            "targets": [
                {
                    "expr": "sum(count_over_time(({ins=\"$ins\", job=\"$job\"})[$__interval]))", 
                    "refId": "A", 
                    "legendFormat": "logs per $__interval"
                }
            ], 
            "pluginVersion": "8.0.0-beta2", 
            "datasource": "Loki", 
            "gridPos": {
                "y": 0, 
                "h": 8, 
                "w": 8, 
                "x": 0
            }, 
            "type": "timeseries", 
            "id": 9
        }, 
        {
            "timeFrom": null, 
            "fieldConfig": {
                "overrides": [
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "ERROR"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "Errlog"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "FATAL"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "purple", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "LOG"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "super-light-blue", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "WARNING"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "orange", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "errs per 10s"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "log"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "blue", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }
                ], 
                "defaults": {
                    "mappings": [], 
                    "color": {
                        "fixedColor": "super-light-red", 
                        "mode": "fixed"
                    }, 
                    "thresholds": {
                        "steps": [
                            {
                                "color": "green", 
                                "value": null
                            }
                        ], 
                        "mode": "absolute"
                    }, 
                    "custom": {
                        "stacking": {
                            "group": "A", 
                            "mode": "normal"
                        }, 
                        "drawStyle": "bars", 
                        "spanNulls": true, 
                        "hideFrom": {
                            "viz": false, 
                            "graph": false, 
                            "legend": false, 
                            "tooltip": false
                        }, 
                        "lineInterpolation": "linear", 
                        "axisLabel": "", 
                        "thresholdsStyle": {
                            "mode": "off"
                        }, 
                        "axisPlacement": "auto", 
                        "fillOpacity": 100, 
                        "barAlignment": 0, 
                        "scaleDistribution": {
                            "type": "linear"
                        }, 
                        "pointSize": 5, 
                        "lineWidth": 1, 
                        "showPoints": "never", 
                        "gradientMode": "none"
                    }, 
                    "decimals": 0, 
                    "unit": "none"
                }
            }, 
            "title": "Error Logs", 
            "timeShift": null, 
            "interval": "1s", 
            "options": {
                "legend": {
                    "placement": "bottom", 
                    "calcs": [
                        "max", 
                        "sum"
                    ], 
                    "displayMode": "table"
                }, 
                "tooltip": {
                    "mode": "single"
                }
            }, 
            "targets": [
                {
                    "expr": "sum(count_over_time(({ins=\"$ins\", job=\"$job\"} |~ \"ERROR|FATAL|PANIC\")[$__interval]))", 
                    "refId": "A", 
                    "legendFormat": "errs per $__interval"
                }
            ], 
            "pluginVersion": "8.0.0-beta2", 
            "datasource": "Loki", 
            "gridPos": {
                "y": 0, 
                "h": 8, 
                "w": 8, 
                "x": 8
            }, 
            "type": "timeseries", 
            "id": 8
        }, 
        {
            "timeFrom": null, 
            "fieldConfig": {
                "overrides": [
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "ERROR"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "Errlog"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "red", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "FATAL"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "purple", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "LOG"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "super-light-blue", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "WARNING"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "orange", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }, 
                    {
                        "matcher": {
                            "id": "byName", 
                            "options": "log"
                        }, 
                        "properties": [
                            {
                                "id": "color", 
                                "value": {
                                    "fixedColor": "blue", 
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }
                ], 
                "defaults": {
                    "mappings": [], 
                    "color": {
                        "fixedColor": "super-light-blue", 
                        "mode": "fixed"
                    }, 
                    "thresholds": {
                        "steps": [
                            {
                                "color": "super-light-blue", 
                                "value": null
                            }
                        ], 
                        "mode": "absolute"
                    }, 
                    "custom": {
                        "stacking": {
                            "group": "A", 
                            "mode": "normal"
                        }, 
                        "drawStyle": "bars", 
                        "spanNulls": true, 
                        "hideFrom": {
                            "viz": false, 
                            "graph": false, 
                            "legend": false, 
                            "tooltip": false
                        }, 
                        "lineInterpolation": "linear", 
                        "axisLabel": "", 
                        "thresholdsStyle": {
                            "mode": "off"
                        }, 
                        "axisPlacement": "auto", 
                        "fillOpacity": 100, 
                        "barAlignment": 0, 
                        "scaleDistribution": {
                            "type": "linear"
                        }, 
                        "pointSize": 5, 
                        "lineWidth": 1, 
                        "showPoints": "never", 
                        "gradientMode": "none"
                    }, 
                    "decimals": 0, 
                    "unit": "none"
                }
            }, 
            "title": "Searched Logs", 
            "timeShift": null, 
            "interval": "1s", 
            "options": {
                "legend": {
                    "placement": "bottom", 
                    "calcs": [
                        "mean", 
                        "sum"
                    ], 
                    "displayMode": "table"
                }, 
                "tooltip": {
                    "mode": "single"
                }
            }, 
            "targets": [
                {
                    "expr": "sum(count_over_time(({ins=\"$ins\", job=\"$job\"} |~ \"$search\")[$__interval]))", 
                    "refId": "A", 
                    "legendFormat": "logs per $__interval"
                }
            ], 
            "pluginVersion": "8.0.0-beta2", 
            "datasource": "Loki", 
            "gridPos": {
                "y": 0, 
                "h": 8, 
                "w": 8, 
                "x": 16
            }, 
            "type": "timeseries", 
            "id": 7
        }, 
        {
            "timeFrom": null, 
            "title": "Rencent Logs", 
            "timeShift": null, 
            "options": {
                "showLabels": false, 
                "wrapLogMessage": false, 
                "showTime": false, 
                "dedupStrategy": "none", 
                "sortOrder": "Descending", 
                "enableLogDetails": true
            }, 
            "pluginVersion": "7.5.4", 
            "datasource": "Loki", 
            "id": 2, 
            "gridPos": {
                "y": 8, 
                "h": 18, 
                "w": 24, 
                "x": 0
            }, 
            "type": "logs", 
            "targets": [
                {
                    "expr": "{ins=\"$ins\", job=\"$job\"} |~ \"$search\"", 
                    "range": true, 
                    "instant": false, 
                    "refId": "A"
                }
            ]
        }
    ], 
    "id": null, 
    "templating": {
        "list": [
            {
                "regex": "", 
                "definition": "label_values(ins)", 
                "multi": false, 
                "hide": 0, 
                "description": null, 
                "name": "ins", 
                "allValue": null, 
                "tagValuesQuery": "", 
                "skipUrlSync": false, 
                "refresh": 2, 
                "label": "Instance", 
                "current": {}, 
                "sort": 0, 
                "type": "query", 
                "datasource": "Loki", 
                "error": null, 
                "query": "label_values(ins)", 
                "useTags": false, 
                "tagsQuery": "", 
                "options": [], 
                "includeAll": false
            }, 
            {
                "regex": "", 
                "definition": "label_values({ins=\"$ins\"},job)", 
                "multi": false, 
                "hide": 0, 
                "description": null, 
                "name": "job", 
                "allValue": ".*", 
                "tagValuesQuery": "", 
                "skipUrlSync": false, 
                "refresh": 2, 
                "label": "Log Type", 
                "current": {}, 
                "sort": 0, 
                "type": "query", 
                "datasource": "Loki", 
                "error": null, 
                "query": "label_values({ins=\"$ins\"},job)", 
                "useTags": false, 
                "tagsQuery": "", 
                "options": [], 
                "includeAll": false
            }, 
            {
                "skipUrlSync": false, 
                "hide": 0, 
                "description": null, 
                "label": "Search", 
                "current": {}, 
                "error": null, 
                "query": "", 
                "type": "textbox", 
                "options": [
                    {
                        "text": "", 
                        "selected": true, 
                        "value": ""
                    }
                ], 
                "name": "search"
            }
        ]
    }
}