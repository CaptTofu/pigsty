---
######################################################################
# File      :   pigsty-build.yml
# Desc      :   Pigsty 3-node building environment
# Link      :   https://github.com/Vonng/pigsty/wiki/Configuration
# Ctime     :   2022-10-12
# Mtime     :   2022-11-04
# Copyright (C) 2018-2022 Ruohang Feng (rh@vonng.com)
######################################################################

######################################################################
#                    Spec (3-node, build.rb)                         #
#====================================================================#
# 1.  meta   : 10.10.10.10  (2 Core | 4GB)  CentOS 7.9               #
# 2.  node-1 : 10.10.10.11  (1 Core | 1GB)  Rocky 8.6                #
# 3.  node-2 : 10.10.10.12  (1 Core | 1GB)  Rocky 9.0                #
######################################################################

all:
  children:

    # meta nodes
    meta:
      vars:
        meta_node: true
        nginx_enabled: true
        ansible_group_priority: 99
      hosts:
        10.10.10.10: { }
        10.10.10.11: { }
        10.10.10.12: { }

    # build el7 packages on CentOS 7.9
    pg-el7:
      hosts: { 10.10.10.10: { pg_seq: 1, pg_role: primary } }
      vars:
        os_version: 7
        meta_ip: 10.10.10.10
        pg_cluster: pg-el7
        repo_packages:                    # which packages to be included
          - epel-release nginx wget createrepo_c sshpass zip unzip chrony yum yum-utils #modulemd-tools
          - uuid lz4 bzip2 netcat pv jq vim-enhanced make patch bash lsof wget git tuned perf ftp lrzsz rsync nvme-cli numactl grubby sysstat dstat iotop bind-utils net-tools tcpdump socat ipvsadm telnet audit ca-certificates
          - readline zlib openssl openssh-clients libyaml libxml2 libxslt libevent readline-devel zlib-devel uuid-devel libuuid-devel libxml2-devel libxslt-devel openssl-devel libicu-devel perl perl-devel perl-ExtUtils*
          - clang coreutils diffutils rpm-build rpm-devel rpmlint rpmdevtools bison flex docker-ce docker-compose* # kubelet kubectl kubeadm kubernetes-cni helm
          - grafana prometheus2 pushgateway alertmanager mtail consul consul_exporter consul-template etcd dnsmasq node_exporter nginx_exporter blackbox_exporter redis_exporter #redis haproxy
          - ansible python3 python3-pip python3-requests python3-psycopg2 python3-psycopg3 python3-etcd python3-consul python3-urllib3 python3-idna python36-pyOpenSSL #python3-pyOpenSSL python3-jmespath
          - postgresql14* pg_repack_14 wal2json_14 pglogical_14* postgis33_14* citus111_14* timescaledb-2-postgresql-14
          - postgresql15* pg_repack_15 wal2json_15 pglogical_15* postgis33_15* citus111_15* #timescaledb-2-postgresql-15
          - patroni patroni-consul patroni-etcd pgbouncer pgbadger tail_n_mail pgbackrest nagios-plugins-pgbackrest pg_activity
          - boxinfo check_postgres barman barman-cli pgFormatter pitrery pspg PyGreSQL pgxnclient pgcenter emaj pgbconsole pg_bloat_check pgloader pg_cli pgquarrel
          - pg_qualstats_14 pg_stat_kcache_14 pg_stat_monitor_14 pg_top_14 pg_track_settings_14 pg_wait_sampling_14 plsh_14 pldebugger_14 plpgsql_check_14
          - mysql_fdw_14 ogr_fdw_14 sqlite_fdw_14 firebird_fdw_14 hdfs_fdw_14 mongo_fdw_14 pgbouncer_fdw_14 hypopg_14 geoip_14 tdigest_14 multicorn2_14 pg_ivm_14
          - bgw_replstatus_14 ddlx_14 mysqlcompat_14 orafce_14 repmgr_14 pg_auto_failover_14 pg_catcheck_14 pg_cron_14 pg_fkpart_14 pg_jobmon_14 pg_partman_14 pg_permissions_14
          - pg_readonly_14 pgagent_14 pgaudit16_14 pgauditlogtofile_14 pgfincore_14 powa_14 pgq_14 pgsql_tweaks_14 pgtt_14 postgresql-unit_14 postgresql_anonymizer_14
          - rum_14 postgresql_faker_14 semver_14 pg_statement_rollback_14 system_stats_14 plproxy_14 pgmemcache_14 hll_14 ip4r_14 prefix_14 pguri_14 topn_14 periods_14
          - count_distinct_14 credcheck_14 extra_window_functions_14 logerrors_14 pg_auth_mon_14 pg_background_14 pg_bulkload_14 pg_comparator_14
          - pg_prioritize_14 pgcryptokey_14 pgexportdoc_14 pgimportdoc_14 pgmp_14 pgtap_14 safeupdate_14 set_user_14 sslutils_14 table_version_14
        repo_url_packages:                # extra packages from url
          - http://download.pigsty.cc/rpm/loki-2.6.1.x86_64.rpm
          - http://download.pigsty.cc/rpm/promtail-2.6.1.x86_64.rpm
          - http://download.pigsty.cc/rpm/pg_exporter-0.5.0.x86_64.rpm
          - http://download.pigsty.cc/rpm/vip-manager-1.0.2-1.x86_64.rpm
          - http://download.pigsty.cc/rpm/pev.html
          - http://download.pigsty.cc/rpm/polysh-0.4-1.noarch.rpm
          - http://download.pigsty.cc/rpm/redis-6.2.7-1.el7.remi.x86_64.rpm
          - http://download.pigsty.cc/rpm/haproxy-2.6.6-1.el7.x86_64.rpm
        node_packages: [ ]                # extra packages for all nodes
        node_packages_default:            # common packages for all nodes
          - chrony,zip,unzip,bzip2,lz4,netcat,pv,jq,wget,sshpass,uuid,make,patch,bash,lsof,git,ftp,perf,rsync,tuned,ca-certificates
          - numactl,grubby,vim-minimal,sysstat,dstat,iotop,bind-utils,net-tools,tcpdump,socat,ipvsadm,telnet,perf,nvme-cli,coreutils,diffutils
          - python3,python3-pip,python3-requests,python3-psycopg2,python3-etcd,python3-consul,python3-urllib3,python3-idna,python36-pyOpenSSL
          - readline,zlib,openssl,openssl-libs,openssh-clients,node_exporter,consul,etcd,promtail
        node_packages_meta:               # extra packages for meta nodes
          - grafana,prometheus2,alertmanager,loki,nginx_exporter,blackbox_exporter,pushgateway
          - nginx,pgbadger,dnsmasq,python3-psycopg3,postgresql15,redis,ansible,polysh
        node_packages_meta_pip: jupyterlab

    # build el8 packages on RockyLinux 8.6
    pg-el8:
      hosts: { 10.10.10.11: { pg_seq: 1, pg_role: primary } }
      vars:
        os_version: 8
        meta_ip: 10.10.10.11
        pg_cluster: pg-el8
        repo_packages:                    # which packages to be included
          - epel-release nginx wget createrepo_c sshpass zip unzip chrony yum yum-utils modulemd-tools
          - uuid lz4 bzip2 netcat pv jq vim-enhanced make patch bash lsof wget git tuned perf ftp lrzsz rsync nvme-cli numactl grubby sysstat dstat iotop bind-utils net-tools tcpdump socat ipvsadm telnet audit ca-certificates
          - readline zlib openssl openssh-clients libyaml libxml2 libxslt libevent readline-devel zlib-devel uuid-devel libuuid-devel libxml2-devel libxslt-devel openssl-devel libicu-devel perl perl-devel perl-ExtUtils*
          - clang coreutils diffutils rpm-build rpm-devel rpmlint rpmdevtools bison flex docker-ce docker-compose* # kubelet kubectl kubeadm kubernetes-cni helm
          - grafana*.x86_64 prometheus2 pushgateway alertmanager mtail consul consul_exporter consul-template etcd dnsmasq node_exporter nginx_exporter blackbox_exporter redis_exporter redis haproxy
          - ansible python3 python3-pip python3-requests python3-psycopg2 python3-psycopg3 python3-etcd python3-consul python3-urllib3 python3-idna python3-pyOpenSSL python38-jmespath
          - postgresql14* pg_repack_14 wal2json_14 pglogical_14* postgis33_14* citus111_14* timescaledb-2-postgresql-14
          - postgresql15* pg_repack_15 wal2json_15 pglogical_15* postgis33_15* citus111_15* #timescaledb-2-postgresql-15
          - patroni patroni-consul patroni-etcd pgbouncer pgbadger tail_n_mail pgbackrest nagios-plugins-pgbackrest pg_activity
          - boxinfo check_postgres barman barman-cli pgFormatter pitrery pspg PyGreSQL pgxnclient pgcenter emaj pgbconsole pg_bloat_check pgloader pgquarrel
          - pg_qualstats_14 pg_stat_kcache_14 pg_stat_monitor_14 pg_top_14 pg_track_settings_14 pg_wait_sampling_14 plsh_14 pldebugger_14 plpgsql_check_14
          - mysql_fdw_14 ogr_fdw_14 sqlite_fdw_14 firebird_fdw_14 hdfs_fdw_14 mongo_fdw_14 pgbouncer_fdw_14 hypopg_14 geoip_14 tdigest_14 multicorn2_14 pg_ivm_14
          - bgw_replstatus_14 ddlx_14 mysqlcompat_14 orafce_14 repmgr_14 pg_auto_failover_14 pg_catcheck_14 pg_cron_14 pg_fkpart_14 pg_jobmon_14 pg_partman_14 pg_permissions_14
          - pg_readonly_14 pgagent_14 pgaudit16_14 pgauditlogtofile_14 pgfincore_14 powa_14 pgq_14 pgsql_tweaks_14 pgtt_14 postgresql-unit_14 postgresql_anonymizer_14
          - rum_14 postgresql_faker_14 semver_14 pg_statement_rollback_14 system_stats_14 plproxy_14 pgmemcache_14 hll_14 ip4r_14 prefix_14 pguri_14 topn_14 periods_14
          - count_distinct_14 credcheck_14 extra_window_functions_14 logerrors_14 pg_auth_mon_14 pg_background_14 pg_bulkload_14 pg_comparator_14
          - pg_prioritize_14 pgcryptokey_14 pgexportdoc_14 pgimportdoc_14 pgmp_14 pgtap_14 safeupdate_14 set_user_14 sslutils_14 table_version_14
        repo_url_packages:                # remove haproxy, redis, polysh on el8
          - http://download.pigsty.cc/rpm/loki-2.6.1.x86_64.rpm
          - http://download.pigsty.cc/rpm/promtail-2.6.1.x86_64.rpm
          - http://download.pigsty.cc/rpm/pg_exporter-0.5.0.x86_64.rpm
          - http://download.pigsty.cc/rpm/vip-manager-1.0.2-1.x86_64.rpm
          - http://download.pigsty.cc/rpm/pev.html
        node_packages_default:            # common packages for all nodes
          - chrony,zip,unzip,bzip2,lz4,netcat,pv,jq,wget,sshpass,uuid,make,patch,bash,lsof,git,ftp,perf,rsync,tuned,ca-certificates
          - numactl,grubby,vim-minimal,sysstat,dstat,iotop,bind-utils,net-tools,tcpdump,socat,ipvsadm,telnet,perf,nvme-cli
          - python3,python3-pip,python3-requests,python3-psycopg2,python3-etcd,python3-consul,python3-urllib3,python3-idna,python3-pyOpenSSL
          - readline,zlib,openssl,openssl-libs,openssh-clients,node_exporter,consul,etcd,promtail
        node_packages_meta:               # extra packages for meta nodes
          - grafana,prometheus2,alertmanager,loki,nginx_exporter,blackbox_exporter,pushgateway
          - nginx,ansible,pgbadger,dnsmasq,python3-psycopg3,python3-psycopg3,python38-jmespath,postgresql15,redis
        node_packages_meta_pip: ''        # jupyter is not ready for el8

    # build el9 packages on RockyLinux 9.0
    pg-el9:
      hosts: { 10.10.10.12: { pg_seq: 1, pg_role: primary } }
      vars:
        os_version: 9
        meta_ip: 10.10.10.12
        pg_cluster: pg-el9
        repo_packages:                    # which packages to be included
          - epel-release nginx wget createrepo_c sshpass zip unzip chrony yum yum-utils modulemd-tools
          - uuid lz4 bzip2 netcat pv jq vim-enhanced make patch bash lsof wget git tuned perf ftp lrzsz rsync nvme-cli numactl grubby sysstat dstat iotop bind-utils net-tools tcpdump socat ipvsadm telnet audit ca-certificates
          - readline zlib openssl openssh-clients libyaml libxml2 libxslt libevent readline-devel zlib-devel uuid-devel libuuid-devel libxml2-devel libxslt-devel openssl-devel libicu-devel perl perl-devel perl-ExtUtils*
          - clang coreutils diffutils rpm-build rpm-devel rpmlint rpmdevtools bison flex docker-ce docker-compose* # kubelet kubectl kubeadm kubernetes-cni helm
          - grafana*.x86_64 prometheus2 pushgateway alertmanager mtail consul consul_exporter consul-template etcd dnsmasq node_exporter nginx_exporter blackbox_exporter redis_exporter redis haproxy
          - ansible python3 python3-pip python3-requests python3-psycopg2 python3-psycopg3 python3-etcd python3-consul python3-urllib3 python3-idna python3-pyOpenSSL python3-jmespath
          - postgresql14* pg_repack_14 wal2json_14 pglogical_14* postgis33_14* #citus111_14* timescaledb-2-postgresql-14
          - postgresql15* pg_repack_15 wal2json_15 pglogical_15* postgis33_15* #citus111_15* timescaledb-2-postgresql-15
          - patroni patroni-consul patroni-etcd pgbouncer pgbadger tail_n_mail pgbackrest nagios-plugins-pgbackrest pg_activity
          - boxinfo check_postgres barman barman-cli pgFormatter pitrery pspg PyGreSQL pgloader #pgxnclient pgcenter emaj pgbconsole pg_bloat_check pgquarrel
          - pg_qualstats_14 pg_stat_kcache_14 pg_stat_monitor_14 pg_top_14 pg_track_settings_14 pg_wait_sampling_14 plsh_14 pldebugger_14 plpgsql_check_14
          - mysql_fdw_14 ogr_fdw_14 sqlite_fdw_14 firebird_fdw_14 hdfs_fdw_14 mongo_fdw_14 pgbouncer_fdw_14 hypopg_14 geoip_14 tdigest_14 multicorn2_14 pg_ivm_14
          - bgw_replstatus_14 ddlx_14 mysqlcompat_14 orafce_14 repmgr_14 pg_auto_failover_14 pg_catcheck_14 pg_cron_14 pg_fkpart_14 pg_jobmon_14 pg_partman_14 pg_permissions_14
          - pg_readonly_14 pgagent_14 pgaudit16_14 pgauditlogtofile_14 pgfincore_14 powa_14 pgq_14 pgsql_tweaks_14 pgtt_14 postgresql-unit_14 postgresql_anonymizer_14
          - rum_14 postgresql_faker_14 semver_14 #pg_statement_rollback_14 system_stats_14 plproxy_14 pgmemcache_14 hll_14 ip4r_14 prefix_14 pguri_14 topn_14 periods_14
          #- count_distinct_14 credcheck_14 extra_window_functions_14 logerrors_14 pg_auth_mon_14 pg_background_14 pg_bulkload_14 pg_comparator_14
          #- pg_prioritize_14 pgcryptokey_14 pgexportdoc_14 pgimportdoc_14 pgmp_14 pgtap_14 safeupdate_14 set_user_14 sslutils_14 table_version_14
        repo_url_packages:                # remove haproxy, redis, polysh on el8
          - http://download.pigsty.cc/rpm/loki-2.6.1.x86_64.rpm
          - http://download.pigsty.cc/rpm/promtail-2.6.1.x86_64.rpm
          - http://download.pigsty.cc/rpm/pg_exporter-0.5.0.x86_64.rpm
          - http://download.pigsty.cc/rpm/vip-manager-1.0.2-1.x86_64.rpm
          - http://download.pigsty.cc/rpm/pev.html
        node_packages_default:            # common packages for all nodes
          - chrony,zip,unzip,bzip2,lz4,netcat,pv,jq,wget,sshpass,uuid,make,patch,bash,lsof,git,ftp,perf,rsync,tuned,ca-certificates
          - numactl,grubby,vim-minimal,sysstat,dstat,iotop,bind-utils,net-tools,tcpdump,socat,ipvsadm,telnet,perf,nvme-cli
          - python3,python3-pip,python3-requests,python3-psycopg2,python3-etcd,python3-consul,python3-urllib3,python3-idna,python3-pyOpenSSL
          - readline,zlib,openssl,openssl-libs,openssh-clients,node_exporter,consul,etcd,promtail
        node_packages_meta:               # extra packages for meta nodes
          - grafana,prometheus2,alertmanager,loki,nginx_exporter,blackbox_exporter,pushgateway
          - nginx,ansible,pgbadger,dnsmasq,python3-psycopg3,python3-jmespath,python3-pip,postgresql15,redis
        node_packages_meta_pip: ''        # jupyter is not ready for el8
        pg_extensions:                    # postgresql extensions, citus & timescaledb are not ready for el9
          - postgis33_${pg_version}* pg_repack_${pg_version} wal2json_${pg_version} # citus111_${pg_version} timescaledb-2-postgresql-${pg_version}


  ####################################################################
  #                             VARS                                 #
  ####################################################################
  vars:                               # global variables

    #================================================================#
    #                         VARS: BASIC                            #
    #================================================================#
    version: v1.6.0-b3
    meta_ip: 10.10.10.10
    region: china
    pg_hostname: true                 # overwrite node identity with pgsql instance name
    node_admin_pk_list:               # add you ssh public keys on admin node
      - 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgQC7IMAMNavYtWwzAJajKqwdn3ar5BhvcwCnBTxxEkXhGlCO2vfgosSAQMEflfgvkiI5nM1HIFQ8KINlx1XLO7SdL5KdInG5LIJjAFh0pujS4kNCT9a5IGvSq1BrzGqhbEcwWYdju1ZPYBcJm/MG+JD0dYCh8vfrYB/cYMD0SOmNkQ== vagrant@pigsty.com'

    dcs_servers:                      # dcs server dict in name:ip format
      meta-1: 10.10.10.10             # using existing external dcs cluster is recommended for HA
      meta-2: 10.10.10.11             # node with ip in dcs_servers will be initialized as dcs servers
      meta-3: 10.10.10.12             # it's recommend to reuse meta nodes as dcs servers if no ad hoc cluster available

    repo_upstream:
      - { name: base           ,description: 'EL 7 Base'         ,category: nodes, releases: [7    ] ,baseurl: { default: 'http://mirror.centos.org/centos/$releasever/os/$basearch/'                    , china: 'https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/os/$basearch/'       , europe: 'https://mirrors.xtom.de/centos/$releasever/os/$basearch/'           }}
      - { name: updates        ,description: 'EL 7 Updates'      ,category: nodes, releases: [7    ] ,baseurl: { default: 'http://mirror.centos.org/centos/$releasever/updates/$basearch/'               , china: 'https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/updates/$basearch/'  , europe: 'https://mirrors.xtom.de/centos/$releasever/updates/$basearch/'      }}
      - { name: extras         ,description: 'EL 7 Extras'       ,category: nodes, releases: [7    ] ,baseurl: { default: 'http://mirror.centos.org/centos/$releasever/extras/$basearch/'                , china: 'https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/extras/$basearch/'   , europe: 'https://mirrors.xtom.de/centos/$releasever/extras/$basearch/'       }}
      - { name: epel           ,description: 'EL 7 EPEL'         ,category: nodes, releases: [7    ] ,baseurl: { default: 'http://download.fedoraproject.org/pub/epel/$releasever/$basearch/'            , china: 'https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/$basearch/'            , europe: 'https://mirrors.xtom.de/epel/$releasever/$basearch/'                }}
      - { name: centos-sclo    ,description: 'EL 7 SCLo'         ,category: nodes, releases: [7    ] ,baseurl: { default: 'http://mirror.centos.org/centos/$releasever/sclo/$basearch/sclo/'             , china: 'https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/sclo/'          , europe: 'https://mirrors.xtom.de/centos/$releasever/sclo/$basearch/sclo/'    }}
      - { name: centos-sclo-rh ,description: 'EL 7 SCLo rh'      ,category: nodes, releases: [7    ] ,baseurl: { default: 'http://mirror.centos.org/centos/$releasever/sclo/$basearch/rh/'               , china: 'https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/rh/'            , europe: 'https://mirrors.xtom.de/centos/$releasever/sclo/$basearch/rh/'      }}
      - { name: baseos         ,description: 'EL 8+ BaseOS'      ,category: nodes, releases: [  8,9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/BaseOS/$basearch/os/'         , china: 'https://mirrors.aliyun.com/rockylinux/$releasever/BaseOS/$basearch/os/'      , europe: 'https://mirrors.xtom.de/rocky/$releasever/BaseOS/$basearch/os/'     }}
      - { name: appstream      ,description: 'EL 8+ AppStream'   ,category: nodes, releases: [  8,9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/AppStream/$basearch/os/'      , china: 'https://mirrors.aliyun.com/rockylinux/$releasever/AppStream/$basearch/os/'   , europe: 'https://mirrors.xtom.de/rocky/$releasever/AppStream/$basearch/os/'  }}
      - { name: extras         ,description: 'EL 8+ Extras'      ,category: nodes, releases: [  8,9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/extras/$basearch/os/'         , china: 'https://mirrors.aliyun.com/rockylinux/$releasever/extras/$basearch/os/'      , europe: 'https://mirrors.xtom.de/rocky/$releasever/extras/$basearch/os/'     }}
      - { name: epel           ,description: 'EL 8+ EPEL'        ,category: nodes, releases: [  8,9] ,baseurl: { default: 'http://download.fedoraproject.org/pub/epel/$releasever/Everything/$basearch/' , china: 'https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/Everything/$basearch/' , europe: 'https://mirrors.xtom.de/epel/$releasever/Everything/$basearch/'     }}
      - { name: powertools     ,description: 'EL 8 PowerTools'   ,category: nodes, releases: [  8  ] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/PowerTools/$basearch/os/'     , china: 'https://mirrors.aliyun.com/rockylinux/$releasever/PowerTools/$basearch/os/'  , europe: 'https://mirrors.xtom.de/rocky/$releasever/PowerTools/$basearch/os/' }}
      - { name: crb            ,description: 'EL 9 CRB'          ,category: nodes, releases: [    9] ,baseurl: { default: 'https://dl.rockylinux.org/pub/rocky/$releasever/CRB/$basearch/os/'            , china: 'https://mirrors.aliyun.com/rockylinux/$releasever/CRB/$basearch/os/'         , europe: 'https://mirrors.xtom.de/rocky/$releasever/CRB/$basearch/os/'        }}
      - { name: grafana        ,description: 'Grafana'           ,category: infra, releases: [7,8,9] ,baseurl: { default: 'https://packages.grafana.com/oss/rpm'                                         , china: 'https://mirrors.tuna.tsinghua.edu.cn/grafana/yum/rpm' }}
      - { name: prometheus     ,description: 'Prometheus'        ,category: infra, releases: [7,8,9] ,baseurl: { default: 'https://packagecloud.io/prometheus-rpm/release/el/$releasever/$basearch' }}
      - { name: nginx          ,description: 'Nginx Repo'        ,category: infra, releases: [7,8,9] ,baseurl: { default: 'https://nginx.org/packages/centos/$releasever/$basearch/'                }}
      - { name: docker-ce      ,description: 'Docker CE'         ,category: infra, releases: [7,8,9] ,baseurl: { default: 'https://download.docker.com/linux/centos/$releasever/$basearch/stable'                  , china: 'https://mirrors.aliyun.com/docker-ce/linux/centos/$releasever/$basearch/stable'                     , europe: 'https://mirrors.xtom.de/docker-ce/linux/centos/$releasever/$basearch/stable'       }}
      - { name: pgdg14         ,description: 'PostgreSQL 14'     ,category: pgsql, releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/14/redhat/rhel-$releasever-$basearch'     , china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/14/redhat/rhel-$releasever-$basearch'     , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/14/redhat/rhel-$releasever-$basearch' }}
      - { name: pgdg15         ,description: 'PostgreSQL 15'     ,category: pgsql, releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/15/redhat/rhel-$releasever-$basearch'     , china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch'     , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch' }}
      - { name: pgdg-common    ,description: 'PostgreSQL Common' ,category: pgsql, releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/common/redhat/rhel-$releasever-$basearch' , china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch' , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch'                             }}
      - { name: pgdg-extras    ,description: 'PostgreSQL Extra'  ,category: pgsql, releases: [7,8,9] ,baseurl: { default: 'https://download.postgresql.org/pub/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch' , china: 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch' , europe: 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch' }}
      - { name: timescaledb    ,description: 'TimescaleDB'       ,category: pgsql, releases: [7,8  ] ,baseurl: { default: 'https://packagecloud.io/timescale/timescaledb/el/$releasever/$basearch'  }}
      - { name: citus          ,description: 'Citus Community'   ,category: pgsql, releases: [7,8  ] ,baseurl: { default: 'https://repos.citusdata.com/community/el/$releasever/$basearch'          }}
...
