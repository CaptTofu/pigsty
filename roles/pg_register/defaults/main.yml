---
#-----------------------------------------------------------------
# PG_SERVICE
#-----------------------------------------------------------------
pg_services: []                   # postgres business services
pg_default_services:              # postgres default service definitions
  - { name: primary ,port: 5433 ,dest: pgbouncer ,check: /primary   ,selector: "[]" }
  - { name: replica ,port: 5434 ,dest: pgbouncer ,check: /read-only ,selector: "[]" , backup: "[? pg_role == `primary` || pg_role == `offline` ]" }
  - { name: default ,port: 5436 ,dest: postgres  ,check: /primary   ,selector: "[]" }
  - { name: offline ,port: 5438 ,dest: postgres  ,check: /replica   ,selector: "[? pg_role == `offline` || pg_offline_query ]" , backup: "[? pg_role == `replica` && !pg_offline_query]"}
#-----------------------------------------------------------------
# GRAFANA (Reference)
#-----------------------------------------------------------------
grafana_admin_username: admin     # default grafana admin username
grafana_admin_password: pigsty    # default grafana admin password
#-----------------------------------------------------------------
# HAPROXY (Reference)
#-----------------------------------------------------------------
haproxy_reload: true              # reload haproxy after config?
#-----------------------------------------------------------------
# PG_INSTALL (Reference)
#-----------------------------------------------------------------
pg_version: 15                    # default postgresql version to be installed, 15 by default
#-----------------------------------------------------------------
# PG_BUSINESS (Reference)
#-----------------------------------------------------------------
pg_monitor_username: dbuser_monitor
pg_monitor_password: DBUser.Monitor
#-----------------------------------------------------------------
# PG_BOOTSTRAP (Reference)
#-----------------------------------------------------------------
pg_port: 5432                     # postgres listen port, 5432 by default
patroni_port: 8008                # patroni listen port, 8008 by default
pgbouncer_port: 6432              # pgbouncer listen port, 6432 by default
#-----------------------------------------------------------------
# PG_EXPORTER (Reference)
#-----------------------------------------------------------------
pg_exporter_port: 9630            # pg_exporter listen port, 9630 by default
pgbouncer_exporter_port: 9631     # pgbouncer_exporter listen port, 9631 by default
#-----------------------------------------------------------------
# INFRA (Reference)
#-----------------------------------------------------------------
infra_portal:                     # infra services exposed on the portal
  grafana: {domain: g.pigsty ,endpoint: "${admin_ip}:3000" ,websocket: true }
...