<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220226.1711)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2095pt" height="2181pt" viewBox="0.00 0.00 2094.52 2181.02" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param rootElement
 */
function highlightLinkedNodes(rootElement) {
    $(rootElement).find('link').each(function (index, element) {
        let target = $(element).attr('target');
        let currentElement = $('#' + target);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Recursively highlight
        highlightLinkedNodes(currentElement);
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} rootElement
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the rootElement is the current selected element
 */
function unHighlightLinkedNodes(rootElement, isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');

    // Do not unhighlight the current current selected element
    if ($(rootElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(rootElement).find('link').each(function (index, element) {
            let linkedElementId = $(element).attr('target');
            let linkedElement = $('#' + linkedElementId);

            if (linkedElement.attr("id") !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);
                // Recursively unhighlight
                unHighlightLinkedNodes(linkedElement, isHover);
            }
            
        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget);
}

/**
 * Hover handler for mouseleave event
 * @param event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, true);
}

/**
 * Handler when clicking on some elements
 * @param event
 */
function clickOnElement(event) {
    let newClickedElement = $(event.currentTarget);

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked the current selected node
        unHighlightLinkedNodes(currentSelectedElement, false);

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement);
        currentSelectedElement = newClickedElement;
    }
}


$("#svg").ready(function () {
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2177.02)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2177.02 2090.52,-2177.02 2090.52,4 -4,4"/>
<!-- pgsql&#45;remove.yml -->
<g id="root_node" class="node">
<title>pgsql-remove.yml</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="76.04" cy="-1145.02" rx="76.09" ry="18"/>
<text text-anchor="middle" x="76.04" y="-1141.32" font-family="Times,serif" font-size="14.00">pgsql-remove.yml</text>
</g>
<!-- play_01d6854a -->
<g id="play_01d6854a" class="node">
<title>play_01d6854a</title>
<g id="a_play_01d6854a"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13">
<polygon fill="#c00c9a" stroke="#c00c9a" points="411.09,-1190.02 199.09,-1190.02 199.09,-1154.02 411.09,-1154.02 411.09,-1190.02"/>
<text text-anchor="middle" x="305.09" y="-1168.32" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove Precheck (4)</text>
</a>
</g>
<links><link target="edge_d49f06d9"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;play_01d6854a -->
<g id="edge_67942c5b" class="edge">
<title>pgsql-remove.yml-&gt;play_01d6854a</title>
<g id="a_edge_67942c5b"><a xlink:title="1 ">
<path fill="none" stroke="#c00c9a" d="M144.24,-1153.01C158.29,-1154.68 173.49,-1156.49 188.73,-1158.3" id="path_edge_67942c5b"/>
<polygon fill="#c00c9a" stroke="#c00c9a" points="188.39,-1161.79 198.74,-1159.49 189.22,-1154.84 188.39,-1161.79"/>
</a>
</g>
<g id="a_edge_67942c5b-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#c00c9a" dy="-1%"><textPath xlink:href="#path_edge_67942c5b" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="play_01d6854a"/></links></g>
<!-- play_7724c5ff -->
<g id="play_7724c5ff" class="node">
<title>play_7724c5ff</title>
<g id="a_play_7724c5ff"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13">
<polygon fill="#a63226" stroke="#a63226" points="384.59,-1136.02 225.59,-1136.02 225.59,-1100.02 384.59,-1100.02 384.59,-1136.02"/>
<text text-anchor="middle" x="305.09" y="-1114.32" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove (4)</text>
</a>
</g>
<links><link target="edge_b67eedc9"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;play_7724c5ff -->
<g id="edge_1fb8dc45" class="edge">
<title>pgsql-remove.yml-&gt;play_7724c5ff</title>
<g id="a_edge_1fb8dc45"><a xlink:title="2 ">
<path fill="none" stroke="#a63226" d="M144.24,-1137.03C166.55,-1134.38 191.75,-1131.38 215.42,-1128.56" id="path_edge_1fb8dc45"/>
<polygon fill="#a63226" stroke="#a63226" points="215.95,-1132.03 225.46,-1127.37 215.12,-1125.08 215.95,-1132.03"/>
</a>
</g>
<g id="a_edge_1fb8dc45-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_1fb8dc45" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="play_7724c5ff"/></links></g>
<!-- task_4b728cc4 -->
<g id="task_4b728cc4" class="node">
<title>task_4b728cc4</title>
<g id="a_task_4b728cc4"><a xlink:title="Abort due to pg_safeguard enabled">
<polygon fill="none" stroke="#c00c9a" points="944.82,-1164.57 944.82,-1179.48 844.95,-1190.02 703.71,-1190.02 603.84,-1179.48 603.84,-1164.57 703.71,-1154.02 844.95,-1154.02 944.82,-1164.57"/>
<text text-anchor="middle" x="774.33" y="-1168.32" font-family="Times,serif" font-size="14.00">[task] Abort due to pg_safeguard enabled</text>
</a>
</g>
</g>
<!-- play_01d6854a&#45;&gt;task_4b728cc4 -->
<g id="edge_d49f06d9" class="edge">
<title>play_01d6854a-&gt;task_4b728cc4</title>
<g id="a_edge_d49f06d9"><a xlink:title="1 [when: pg_safeguard|bool]">
<path fill="none" stroke="#c00c9a" d="M411.24,-1172.02C465.02,-1172.02 532,-1172.02 593.67,-1172.02" id="path_edge_d49f06d9"/>
<polygon fill="#c00c9a" stroke="#c00c9a" points="593.91,-1175.52 603.91,-1172.02 593.91,-1168.52 593.91,-1175.52"/>
</a>
</g>
<g id="a_edge_d49f06d9-label"><a xlink:title="1 [when: pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#c00c9a" dy="-1%"><textPath xlink:href="#path_edge_d49f06d9" text-anchor="middle" startOffset="50%">1 [when: pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_4b728cc4"/></links></g>
<!-- role_b87a81d7 -->
<g id="role_b87a81d7" class="node">
<title>role_b87a81d7</title>
<g id="a_role_b87a81d7"><a xlink:title="pg_remove">
<ellipse fill="none" stroke="#a63226" cx="774.33" cy="-1118.02" rx="72.59" ry="18"/>
<text text-anchor="middle" x="774.33" y="-1114.32" font-family="Times,serif" font-size="14.00">[role] pg_remove</text>
</a>
</g>
<links><link target="edge_85c14ac0"/><link target="edge_5be4fd15"/><link target="edge_d46b5d23"/><link target="edge_091c7774"/><link target="edge_50ca3108"/><link target="edge_72205651"/><link target="edge_595fdb39"/><link target="edge_2e72f2d7"/><link target="edge_fe7e2ab1"/><link target="edge_29135831"/><link target="edge_7d7e1fcd"/><link target="edge_cfc66df4"/><link target="edge_db65ca1d"/><link target="edge_3108d09f"/><link target="edge_c8275cd5"/><link target="edge_b0455362"/><link target="edge_e19e6928"/><link target="edge_3ff8ac00"/><link target="edge_c7140335"/><link target="edge_92b4bb6b"/><link target="edge_694a411a"/><link target="edge_fd7efc16"/><link target="edge_40e62850"/><link target="edge_da92805c"/><link target="edge_8fe50dc7"/><link target="edge_6eba9031"/><link target="edge_8daeb39e"/><link target="edge_10546464"/><link target="edge_7af9aebb"/><link target="edge_5e5931e5"/><link target="edge_d2b1b307"/><link target="edge_80b7b74f"/><link target="edge_ad86c845"/><link target="edge_5aaf4364"/><link target="edge_33ac7701"/><link target="edge_4c78dbe3"/><link target="edge_2c793a7c"/><link target="edge_db6e1fdb"/><link target="edge_770f5f8c"/></links></g>
<!-- play_7724c5ff&#45;&gt;role_b87a81d7 -->
<g id="edge_b67eedc9" class="edge">
<title>play_7724c5ff-&gt;role_b87a81d7</title>
<g id="a_edge_b67eedc9"><a xlink:title="1 ">
<path fill="none" stroke="#a63226" d="M384.82,-1118.02C469.88,-1118.02 604.8,-1118.02 691.17,-1118.02" id="path_edge_b67eedc9"/>
<polygon fill="#a63226" stroke="#a63226" points="691.19,-1121.52 701.19,-1118.02 691.19,-1114.52 691.19,-1121.52"/>
</a>
</g>
<g id="a_edge_b67eedc9-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_b67eedc9" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_b87a81d7"/></links></g>
<!-- task_5642a0fe -->
<g id="task_5642a0fe" class="node">
<title>task_5642a0fe</title>
<g id="a_task_5642a0fe"><a xlink:title="pg_remove : Remove pgsql target from prometheus">
<polygon fill="none" stroke="#a63226" points="2021.55,-2136.57 2021.55,-2151.48 1897.66,-2162.02 1722.44,-2162.02 1598.55,-2151.48 1598.55,-2136.57 1722.44,-2126.02 1897.66,-2126.02 2021.55,-2136.57"/>
<text text-anchor="middle" x="1810.05" y="-2140.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgsql target from prometheus</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_5642a0fe -->
<g id="edge_85c14ac0" class="edge">
<title>role_b87a81d7-&gt;task_5642a0fe</title>
<g id="a_edge_85c14ac0"><a xlink:title="1 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M839.53,-1109.99C875.95,-1109.32 919.2,-1115.83 944.58,-1145.02 980.19,-1185.99 924.34,-2083.49 962.58,-2122.02 1006.73,-2166.51 1367.75,-2161.48 1603.84,-2153.17" id="path_edge_85c14ac0"/>
<polygon fill="#a63226" stroke="#a63226" points="1604.06,-2156.67 1613.93,-2152.81 1603.81,-2149.67 1604.06,-2156.67"/>
</a>
</g>
<g id="a_edge_85c14ac0-label"><a xlink:title="1 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_85c14ac0" text-anchor="middle" startOffset="50%">1 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_5642a0fe"/></links></g>
<!-- task_cc131b31 -->
<g id="task_cc131b31" class="node">
<title>task_cc131b31</title>
<g id="a_task_cc131b31"><a xlink:title="pg_remove : Remove grafana datasource on meta node">
<polygon fill="none" stroke="#a63226" points="2034.38,-2082.57 2034.38,-2097.48 1902.97,-2108.02 1717.13,-2108.02 1585.72,-2097.48 1585.72,-2082.57 1717.13,-2072.02 1902.97,-2072.02 2034.38,-2082.57"/>
<text text-anchor="middle" x="1810.05" y="-2086.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_cc131b31 -->
<g id="edge_5be4fd15" class="edge">
<title>role_b87a81d7-&gt;task_cc131b31</title>
<g id="a_edge_5be4fd15"><a xlink:title="2 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M839.52,-1110C875.94,-1109.33 919.19,-1115.84 944.58,-1145.02 978.24,-1183.71 926.43,-2031.64 962.58,-2068.02 1006.24,-2111.97 1359.46,-2107.58 1595.61,-2099.45" id="path_edge_5be4fd15"/>
<polygon fill="#a63226" stroke="#a63226" points="1595.84,-2102.95 1605.71,-2099.1 1595.6,-2095.95 1595.84,-2102.95"/>
</a>
</g>
<g id="a_edge_5be4fd15-label"><a xlink:title="2 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_5be4fd15" text-anchor="middle" startOffset="50%">2 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_cc131b31"/></links></g>
<!-- task_92ff749e -->
<g id="task_92ff749e" class="node">
<title>task_92ff749e</title>
<g id="a_task_92ff749e"><a xlink:title="pg_remove : Remove haproxy upstream from nginx">
<polygon fill="none" stroke="#a63226" points="2022.46,-2028.57 2022.46,-2043.48 1898.03,-2054.02 1722.07,-2054.02 1597.64,-2043.48 1597.64,-2028.57 1722.07,-2018.02 1898.03,-2018.02 2022.46,-2028.57"/>
<text text-anchor="middle" x="1810.05" y="-2032.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy upstream from nginx</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_92ff749e -->
<g id="edge_d46b5d23" class="edge">
<title>role_b87a81d7-&gt;task_92ff749e</title>
<g id="a_edge_d46b5d23"><a xlink:title="3 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M839.93,-1110C876.25,-1109.4 919.27,-1115.97 944.58,-1145.02 976.3,-1181.43 928.52,-1979.79 962.58,-2014.02 1006.75,-2058.43 1367.26,-2053.46 1603.34,-2045.17" id="path_edge_d46b5d23"/>
<polygon fill="#a63226" stroke="#a63226" points="1603.57,-2048.67 1613.44,-2044.82 1603.32,-2041.67 1603.57,-2048.67"/>
</a>
</g>
<g id="a_edge_d46b5d23-label"><a xlink:title="3 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_d46b5d23" text-anchor="middle" startOffset="50%">3 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_92ff749e"/></links></g>
<!-- task_ac83b6bf -->
<g id="task_ac83b6bf" class="node">
<title>task_ac83b6bf</title>
<g id="a_task_ac83b6bf"><a xlink:title="pg_remove : Remove haproxy url location from nginx">
<polygon fill="none" stroke="#a63226" points="2030.84,-1974.57 2030.84,-1989.48 1901.51,-2000.02 1718.59,-2000.02 1589.26,-1989.48 1589.26,-1974.57 1718.59,-1964.02 1901.51,-1964.02 2030.84,-1974.57"/>
<text text-anchor="middle" x="1810.05" y="-1978.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy url location from nginx</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_ac83b6bf -->
<g id="edge_091c7774" class="edge">
<title>role_b87a81d7-&gt;task_ac83b6bf</title>
<g id="a_edge_091c7774"><a xlink:title="4 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M839.91,-1110.01C876.23,-1109.42 919.25,-1115.98 944.58,-1145.02 974.35,-1179.15 930.62,-1927.93 962.58,-1960.02 1006.43,-2004.04 1361.57,-1999.51 1597.7,-1991.36" id="path_edge_091c7774"/>
<polygon fill="#a63226" stroke="#a63226" points="1597.93,-1994.86 1607.8,-1991.01 1597.68,-1987.86 1597.93,-1994.86"/>
</a>
</g>
<g id="a_edge_091c7774-label"><a xlink:title="4 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_091c7774" text-anchor="middle" startOffset="50%">4 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_ac83b6bf"/></links></g>
<!-- task_05f5c6bc -->
<g id="task_05f5c6bc" class="node">
<title>task_05f5c6bc</title>
<g id="a_task_05f5c6bc"><a xlink:title="pg_remove : Reload nginx to remove haproxy upstream">
<polygon fill="none" stroke="#a63226" points="2037.51,-1920.57 2037.51,-1935.48 1904.26,-1946.02 1715.83,-1946.02 1582.59,-1935.48 1582.59,-1920.57 1715.83,-1910.02 1904.26,-1910.02 2037.51,-1920.57"/>
<text text-anchor="middle" x="1810.05" y="-1924.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload nginx to remove haproxy upstream</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_05f5c6bc -->
<g id="edge_50ca3108" class="edge">
<title>role_b87a81d7-&gt;task_05f5c6bc</title>
<g id="a_edge_50ca3108"><a xlink:title="5 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M839.9,-1110.03C876.21,-1109.44 919.22,-1116 944.58,-1145.02 972.4,-1176.87 932.71,-1876.08 962.58,-1906.02 1006.19,-1949.74 1357.2,-1945.54 1593.31,-1937.5" id="path_edge_50ca3108"/>
<polygon fill="#a63226" stroke="#a63226" points="1593.54,-1940.99 1603.41,-1937.15 1593.29,-1934 1593.54,-1940.99"/>
</a>
</g>
<g id="a_edge_50ca3108-label"><a xlink:title="5 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_50ca3108" text-anchor="middle" startOffset="50%">5 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_05f5c6bc"/></links></g>
<!-- task_9b7dcf5b -->
<g id="task_9b7dcf5b" class="node">
<title>task_9b7dcf5b</title>
<g id="a_task_9b7dcf5b"><a xlink:title="pg_remove : Remove cluster service from consul">
<polygon fill="none" stroke="#a63226" points="2011.85,-1866.57 2011.85,-1881.48 1893.64,-1892.02 1726.46,-1892.02 1608.24,-1881.48 1608.24,-1866.57 1726.46,-1856.02 1893.64,-1856.02 2011.85,-1866.57"/>
<text text-anchor="middle" x="1810.05" y="-1870.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove cluster service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_9b7dcf5b -->
<g id="edge_72205651" class="edge">
<title>role_b87a81d7-&gt;task_9b7dcf5b</title>
<g id="a_edge_72205651"><a xlink:title="6 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M839.88,-1110.05C876.19,-1109.46 919.2,-1116.03 944.58,-1145.02 970.46,-1174.58 934.8,-1824.23 962.58,-1852.02 1007.27,-1896.74 1374.14,-1891.29 1610,-1882.91" id="path_edge_72205651"/>
<polygon fill="#a63226" stroke="#a63226" points="1610.22,-1886.4 1620.08,-1882.54 1609.96,-1879.41 1610.22,-1886.4"/>
</a>
</g>
<g id="a_edge_72205651-label"><a xlink:title="6 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_72205651" text-anchor="middle" startOffset="50%">6 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_9b7dcf5b"/></links></g>
<!-- task_72137345 -->
<g id="task_72137345" class="node">
<title>task_72137345</title>
<g id="a_task_72137345"><a xlink:title="pg_remove : Remove haproxy service from consul">
<polygon fill="none" stroke="#a63226" points="2017.61,-1812.57 2017.61,-1827.48 1896.02,-1838.02 1724.08,-1838.02 1602.49,-1827.48 1602.49,-1812.57 1724.08,-1802.02 1896.02,-1802.02 2017.61,-1812.57"/>
<text text-anchor="middle" x="1810.05" y="-1816.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_72137345 -->
<g id="edge_595fdb39" class="edge">
<title>role_b87a81d7-&gt;task_72137345</title>
<g id="a_edge_595fdb39"><a xlink:title="7 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M839.85,-1110.06C876.16,-1109.48 919.17,-1116.05 944.58,-1145.02 992.44,-1199.59 911.21,-1746.74 962.58,-1798.02 1007.06,-1842.44 1369.97,-1837.32 1605.95,-1829.03" id="path_edge_595fdb39"/>
<polygon fill="#a63226" stroke="#a63226" points="1606.17,-1832.53 1616.04,-1828.68 1605.92,-1825.53 1606.17,-1832.53"/>
</a>
</g>
<g id="a_edge_595fdb39-label"><a xlink:title="7 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_595fdb39" text-anchor="middle" startOffset="50%">7 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_72137345"/></links></g>
<!-- task_f36539d1 -->
<g id="task_f36539d1" class="node">
<title>task_f36539d1</title>
<g id="a_task_f36539d1"><a xlink:title="pg_remove : Reload consul to dereigster haproxy">
<polygon fill="none" stroke="#a63226" points="2011.45,-1758.57 2011.45,-1773.48 1893.47,-1784.02 1726.63,-1784.02 1608.65,-1773.48 1608.65,-1758.57 1726.63,-1748.02 1893.47,-1748.02 2011.45,-1758.57"/>
<text text-anchor="middle" x="1810.05" y="-1762.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster haproxy</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_f36539d1 -->
<g id="edge_2e72f2d7" class="edge">
<title>role_b87a81d7-&gt;task_f36539d1</title>
<g id="a_edge_2e72f2d7"><a xlink:title="8 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M839.83,-1110.09C876.12,-1109.52 919.13,-1116.09 944.58,-1145.02 988.55,-1195.02 915.4,-1697.03 962.58,-1744.02 1007.37,-1788.64 1374.2,-1783.22 1610.03,-1774.87" id="path_edge_2e72f2d7"/>
<polygon fill="#a63226" stroke="#a63226" points="1610.25,-1778.37 1620.11,-1774.51 1610,-1771.37 1610.25,-1778.37"/>
</a>
</g>
<g id="a_edge_2e72f2d7-label"><a xlink:title="8 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_2e72f2d7" text-anchor="middle" startOffset="50%">8 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_f36539d1"/></links></g>
<!-- task_d530f892 -->
<g id="task_d530f892" class="node">
<title>task_d530f892</title>
<g id="a_task_d530f892"><a xlink:title="pg_remove : Stop and disable haproxy load balancer">
<polygon fill="none" stroke="#a63226" points="2023.77,-1704.57 2023.77,-1719.48 1898.58,-1730.02 1721.52,-1730.02 1596.33,-1719.48 1596.33,-1704.57 1721.52,-1694.02 1898.58,-1694.02 2023.77,-1704.57"/>
<text text-anchor="middle" x="1810.05" y="-1708.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable haproxy load balancer</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_d530f892 -->
<g id="edge_fe7e2ab1" class="edge">
<title>role_b87a81d7-&gt;task_d530f892</title>
<g id="a_edge_fe7e2ab1"><a xlink:title="9 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M839.8,-1110.12C876.08,-1109.55 919.09,-1116.12 944.58,-1145.02 984.66,-1190.46 919.58,-1647.33 962.58,-1690.02 1006.91,-1734.04 1365.62,-1729.3 1601.64,-1721.15" id="path_edge_fe7e2ab1"/>
<polygon fill="#a63226" stroke="#a63226" points="1601.86,-1724.64 1611.73,-1720.79 1601.62,-1717.64 1601.86,-1724.64"/>
</a>
</g>
<g id="a_edge_fe7e2ab1-label"><a xlink:title="9 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_fe7e2ab1" text-anchor="middle" startOffset="50%">9 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_d530f892"/></links></g>
<!-- task_e606b7ac -->
<g id="task_e606b7ac" class="node">
<title>task_e606b7ac</title>
<g id="a_task_e606b7ac"><a xlink:title="pg_remove : Stop and disable vip-manager">
<polygon fill="none" stroke="#a63226" points="1987.11,-1650.57 1987.11,-1665.48 1883.39,-1676.02 1736.71,-1676.02 1632.99,-1665.48 1632.99,-1650.57 1736.71,-1640.02 1883.39,-1640.02 1987.11,-1650.57"/>
<text text-anchor="middle" x="1810.05" y="-1654.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable vip-manager</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_e606b7ac -->
<g id="edge_29135831" class="edge">
<title>role_b87a81d7-&gt;task_e606b7ac</title>
<g id="a_edge_29135831"><a xlink:title="10 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M840.18,-1110.14C876.36,-1109.65 919.13,-1116.28 944.58,-1145.02 980.76,-1185.9 923.77,-1597.62 962.58,-1636.02 1008.58,-1681.54 1391.82,-1674.85 1626.58,-1666.23" id="path_edge_29135831"/>
<polygon fill="#a63226" stroke="#a63226" points="1626.74,-1669.73 1636.6,-1665.86 1626.48,-1662.73 1626.74,-1669.73"/>
</a>
</g>
<g id="a_edge_29135831-label"><a xlink:title="10 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_29135831" text-anchor="middle" startOffset="50%">10 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_e606b7ac"/></links></g>
<!-- task_0afd2a2e -->
<g id="task_0afd2a2e" class="node">
<title>task_0afd2a2e</title>
<g id="a_task_0afd2a2e"><a xlink:title="pg_remove : Remove pg_exporter service from consul">
<polygon fill="none" stroke="#a63226" points="2032.16,-1596.57 2032.16,-1611.48 1902.05,-1622.02 1718.05,-1622.02 1587.94,-1611.48 1587.94,-1596.57 1718.05,-1586.02 1902.05,-1586.02 2032.16,-1596.57"/>
<text text-anchor="middle" x="1810.05" y="-1600.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_0afd2a2e -->
<g id="edge_7d7e1fcd" class="edge">
<title>role_b87a81d7-&gt;task_0afd2a2e</title>
<g id="a_edge_7d7e1fcd"><a xlink:title="11 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M840.13,-1110.19C876.29,-1109.71 919.07,-1116.34 944.58,-1145.02 976.87,-1181.33 927.95,-1547.92 962.58,-1582.02 1006.72,-1625.5 1359.78,-1621.25 1595.77,-1613.29" id="path_edge_7d7e1fcd"/>
<polygon fill="#a63226" stroke="#a63226" points="1596,-1616.78 1605.87,-1612.94 1595.76,-1609.78 1596,-1616.78"/>
</a>
</g>
<g id="a_edge_7d7e1fcd-label"><a xlink:title="11 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_7d7e1fcd" text-anchor="middle" startOffset="50%">11 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_0afd2a2e"/></links></g>
<!-- task_a609781f -->
<g id="task_a609781f" class="node">
<title>task_a609781f</title>
<g id="a_task_a609781f"><a xlink:title="pg_remove : Reload consul to dereigster pg_exporter">
<polygon fill="none" stroke="#a63226" points="2025.99,-1542.57 2025.99,-1557.48 1899.5,-1568.02 1720.6,-1568.02 1594.11,-1557.48 1594.11,-1542.57 1720.6,-1532.02 1899.5,-1532.02 2025.99,-1542.57"/>
<text text-anchor="middle" x="1810.05" y="-1546.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pg_exporter</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_a609781f -->
<g id="edge_cfc66df4" class="edge">
<title>role_b87a81d7-&gt;task_a609781f</title>
<g id="a_edge_cfc66df4"><a xlink:title="12 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M840.07,-1110.24C876.21,-1109.78 918.99,-1116.41 944.58,-1145.02 972.98,-1176.77 932.14,-1498.21 962.58,-1528.02 1007.07,-1571.59 1363.49,-1567.12 1599.43,-1559.12" id="path_edge_cfc66df4"/>
<polygon fill="#a63226" stroke="#a63226" points="1599.65,-1562.61 1609.52,-1558.77 1599.41,-1555.62 1599.65,-1562.61"/>
</a>
</g>
<g id="a_edge_cfc66df4-label"><a xlink:title="12 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_cfc66df4" text-anchor="middle" startOffset="50%">12 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_a609781f"/></links></g>
<!-- task_2d45e9ee -->
<g id="task_2d45e9ee" class="node">
<title>task_2d45e9ee</title>
<g id="a_task_2d45e9ee"><a xlink:title="pg_remove : Stop and disable pg_exporter service">
<polygon fill="none" stroke="#a63226" points="2014.08,-1488.57 2014.08,-1503.48 1894.56,-1514.02 1725.54,-1514.02 1606.02,-1503.48 1606.02,-1488.57 1725.54,-1478.02 1894.56,-1478.02 2014.08,-1488.57"/>
<text text-anchor="middle" x="1810.05" y="-1492.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pg_exporter service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_2d45e9ee -->
<g id="edge_db65ca1d" class="edge">
<title>role_b87a81d7-&gt;task_2d45e9ee</title>
<g id="a_edge_db65ca1d"><a xlink:title="13 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M840.41,-1110.31C876.43,-1109.93 918.97,-1116.62 944.58,-1145.02 969.02,-1172.13 936.41,-1447.57 962.58,-1473.02 1007.56,-1516.77 1369.05,-1512.4 1604.86,-1504.63" id="path_edge_db65ca1d"/>
<polygon fill="#a63226" stroke="#a63226" points="1605.07,-1508.12 1614.95,-1504.29 1604.84,-1501.13 1605.07,-1508.12"/>
</a>
</g>
<g id="a_edge_db65ca1d-label"><a xlink:title="13 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_db65ca1d" text-anchor="middle" startOffset="50%">13 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_2d45e9ee"/></links></g>
<!-- task_664b07a1 -->
<g id="task_664b07a1" class="node">
<title>task_664b07a1</title>
<g id="a_task_664b07a1"><a xlink:title="pg_remove : Remove pgbouncer_exporter service from consul">
<polygon fill="none" stroke="#a63226" points="2062.66,-1434.57 2062.66,-1449.48 1914.68,-1460.02 1705.42,-1460.02 1557.44,-1449.48 1557.44,-1434.57 1705.42,-1424.02 1914.68,-1424.02 2062.66,-1434.57"/>
<text text-anchor="middle" x="1810.05" y="-1438.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_664b07a1 -->
<g id="edge_3108d09f" class="edge">
<title>role_b87a81d7-&gt;task_664b07a1</title>
<g id="a_edge_3108d09f"><a xlink:title="14 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M840.71,-1110.41C876.6,-1110.13 918.91,-1116.88 944.58,-1145.02 985.39,-1189.78 918.97,-1374.98 962.58,-1417.02 1005.37,-1458.28 1331.97,-1457.38 1566.68,-1451.13" id="path_edge_3108d09f"/>
<polygon fill="#a63226" stroke="#a63226" points="1566.84,-1454.63 1576.74,-1450.86 1566.65,-1447.63 1566.84,-1454.63"/>
</a>
</g>
<g id="a_edge_3108d09f-label"><a xlink:title="14 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_3108d09f" text-anchor="middle" startOffset="50%">14 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_664b07a1"/></links></g>
<!-- task_f0851068 -->
<g id="task_f0851068" class="node">
<title>task_f0851068</title>
<g id="a_task_f0851068"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer_exporter">
<polygon fill="none" stroke="#a63226" points="2056.49,-1380.57 2056.49,-1395.48 1912.13,-1406.02 1707.97,-1406.02 1563.6,-1395.48 1563.6,-1380.57 1707.97,-1370.02 1912.13,-1370.02 2056.49,-1380.57"/>
<text text-anchor="middle" x="1810.05" y="-1384.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer_exporter</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_f0851068 -->
<g id="edge_c8275cd5" class="edge">
<title>role_b87a81d7-&gt;task_f0851068</title>
<g id="a_edge_c8275cd5"><a xlink:title="15 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M840.95,-1110.58C876.69,-1110.4 918.78,-1117.21 944.58,-1145.02 977.33,-1180.33 927.66,-1327.85 962.58,-1361.02 1005.48,-1401.78 1329.22,-1401.95 1563.59,-1396.47" id="path_edge_c8275cd5"/>
<polygon fill="#a63226" stroke="#a63226" points="1563.71,-1399.96 1573.63,-1396.23 1563.55,-1392.97 1563.71,-1399.96"/>
</a>
</g>
<g id="a_edge_c8275cd5-label"><a xlink:title="15 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_c8275cd5" text-anchor="middle" startOffset="50%">15 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_f0851068"/></links></g>
<!-- task_90dc9bac -->
<g id="task_90dc9bac" class="node">
<title>task_90dc9bac</title>
<g id="a_task_90dc9bac"><a xlink:title="pg_remove : Stop and disable pgbouncer_exporter service">
<polygon fill="none" stroke="#a63226" points="2044.98,-1326.57 2044.98,-1341.48 1907.36,-1352.02 1712.74,-1352.02 1575.12,-1341.48 1575.12,-1326.57 1712.74,-1316.02 1907.36,-1316.02 2044.98,-1326.57"/>
<text text-anchor="middle" x="1810.05" y="-1330.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer_exporter service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_90dc9bac -->
<g id="edge_b0455362" class="edge">
<title>role_b87a81d7-&gt;task_90dc9bac</title>
<g id="a_edge_b0455362"><a xlink:title="16 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M841.48,-1110.87C876.94,-1110.9 918.57,-1117.81 944.58,-1145.02 993.71,-1196.44 910.38,-1255.71 962.58,-1304.02 1006.08,-1344.29 1330.61,-1345.73 1564.88,-1341.28" id="path_edge_b0455362"/>
<polygon fill="#a63226" stroke="#a63226" points="1564.99,-1344.78 1574.92,-1341.09 1564.85,-1337.78 1564.99,-1344.78"/>
</a>
</g>
<g id="a_edge_b0455362-label"><a xlink:title="16 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_b0455362" text-anchor="middle" startOffset="50%">16 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_90dc9bac"/></links></g>
<!-- task_fb400549 -->
<g id="task_fb400549" class="node">
<title>task_fb400549</title>
<g id="a_task_fb400549"><a xlink:title="pg_remove : Remove pgbouncer service from consul">
<polygon fill="none" stroke="#a63226" points="2026.9,-1272.57 2026.9,-1287.48 1899.87,-1298.02 1720.23,-1298.02 1593.2,-1287.48 1593.2,-1272.57 1720.23,-1262.02 1899.87,-1262.02 2026.9,-1272.57"/>
<text text-anchor="middle" x="1810.05" y="-1276.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_fb400549 -->
<g id="edge_e19e6928" class="edge">
<title>role_b87a81d7-&gt;task_fb400549</title>
<g id="a_edge_e19e6928"><a xlink:title="17 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M842.47,-1111.57C877.35,-1112.02 918.1,-1119.11 944.58,-1145.02 976.54,-1176.3 928.86,-1214.64 962.58,-1244.02 1008.43,-1283.97 1348.28,-1287.33 1583.15,-1284.7" id="path_edge_e19e6928"/>
<polygon fill="#a63226" stroke="#a63226" points="1583.25,-1288.2 1593.21,-1284.58 1583.17,-1281.2 1583.25,-1288.2"/>
</a>
</g>
<g id="a_edge_e19e6928-label"><a xlink:title="17 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_e19e6928" text-anchor="middle" startOffset="50%">17 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_fb400549"/></links></g>
<!-- task_8eff3aed -->
<g id="task_8eff3aed" class="node">
<title>task_8eff3aed</title>
<g id="a_task_8eff3aed"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer">
<polygon fill="none" stroke="#a63226" points="2020.24,-1218.57 2020.24,-1233.48 1897.11,-1244.02 1722.99,-1244.02 1599.86,-1233.48 1599.86,-1218.57 1722.99,-1208.02 1897.11,-1208.02 2020.24,-1218.57"/>
<text text-anchor="middle" x="1810.05" y="-1222.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_8eff3aed -->
<g id="edge_3ff8ac00" class="edge">
<title>role_b87a81d7-&gt;task_8eff3aed</title>
<g id="a_edge_3ff8ac00"><a xlink:title="18 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M846.1,-1114.92C878.86,-1116.86 916.61,-1124.28 944.58,-1145.02 959.27,-1155.91 947.33,-1171.92 962.58,-1182.02 1013.62,-1215.82 1355.94,-1224.27 1589.32,-1226.05" id="path_edge_3ff8ac00"/>
<polygon fill="#a63226" stroke="#a63226" points="1589.63,-1229.55 1599.65,-1226.12 1589.68,-1222.55 1589.63,-1229.55"/>
</a>
</g>
<g id="a_edge_3ff8ac00-label"><a xlink:title="18 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_3ff8ac00" text-anchor="middle" startOffset="50%">18 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_8eff3aed"/></links></g>
<!-- task_f25cc084 -->
<g id="task_f25cc084" class="node">
<title>task_f25cc084</title>
<g id="a_task_f25cc084"><a xlink:title="pg_remove : Stop and disable pgbouncer service">
<polygon fill="none" stroke="#a63226" points="2008.32,-1164.57 2008.32,-1179.48 1892.18,-1190.02 1727.92,-1190.02 1611.78,-1179.48 1611.78,-1164.57 1727.92,-1154.02 1892.18,-1154.02 2008.32,-1164.57"/>
<text text-anchor="middle" x="1810.05" y="-1168.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_f25cc084 -->
<g id="edge_c7140335" class="edge">
<title>role_b87a81d7-&gt;task_f25cc084</title>
<g id="a_edge_c7140335"><a xlink:title="19 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M840.67,-1125.62C876.6,-1129.55 922,-1134.13 962.58,-1137.02 1180.32,-1152.56 1430.1,-1161.84 1601.59,-1166.9" id="path_edge_c7140335"/>
<polygon fill="#a63226" stroke="#a63226" points="1601.64,-1170.41 1611.74,-1167.2 1601.85,-1163.41 1601.64,-1170.41"/>
</a>
</g>
<g id="a_edge_c7140335-label"><a xlink:title="19 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_c7140335" text-anchor="middle" startOffset="50%">19 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_f25cc084"/></links></g>
<!-- task_b8862a07 -->
<g id="task_b8862a07" class="node">
<title>task_b8862a07</title>
<g id="a_task_b8862a07"><a xlink:title="pg_remove : Get actuall pg_role">
<polygon fill="none" stroke="#a63226" points="1946.5,-1110.57 1946.5,-1125.48 1866.57,-1136.02 1753.53,-1136.02 1673.59,-1125.48 1673.59,-1110.57 1753.53,-1100.02 1866.57,-1100.02 1946.5,-1110.57"/>
<text text-anchor="middle" x="1810.05" y="-1114.32" font-family="Times,serif" font-size="14.00">pg_remove : Get actuall pg_role</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_b8862a07 -->
<g id="edge_92b4bb6b" class="edge">
<title>role_b87a81d7-&gt;task_b8862a07</title>
<g id="a_edge_92b4bb6b"><a xlink:title="20 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M847.2,-1118.02C1015.62,-1118.02 1438.52,-1118.02 1663.3,-1118.02" id="path_edge_92b4bb6b"/>
<polygon fill="#a63226" stroke="#a63226" points="1663.52,-1121.52 1673.52,-1118.02 1663.52,-1114.52 1663.52,-1121.52"/>
</a>
</g>
<g id="a_edge_92b4bb6b-label"><a xlink:title="20 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_92b4bb6b" text-anchor="middle" startOffset="50%">20 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_b8862a07"/></links></g>
<!-- task_29cbcf9c -->
<g id="task_29cbcf9c" class="node">
<title>task_29cbcf9c</title>
<g id="a_task_29cbcf9c"><a xlink:title="pg_remove : Get pg_role from result">
<polygon fill="none" stroke="#a63226" points="1963.27,-1056.57 1963.27,-1071.48 1873.52,-1082.02 1746.58,-1082.02 1656.83,-1071.48 1656.83,-1056.57 1746.58,-1046.02 1873.52,-1046.02 1963.27,-1056.57"/>
<text text-anchor="middle" x="1810.05" y="-1060.32" font-family="Times,serif" font-size="14.00">pg_remove : Get pg_role from result</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_29cbcf9c -->
<g id="edge_694a411a" class="edge">
<title>role_b87a81d7-&gt;task_29cbcf9c</title>
<g id="a_edge_694a411a"><a xlink:title="21 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#a63226" d="M840.67,-1110.42C876.6,-1106.49 922,-1101.92 962.58,-1099.02 1200.28,-1082.06 1476.16,-1072.55 1646.68,-1067.85" id="path_edge_694a411a"/>
<polygon fill="#a63226" stroke="#a63226" points="1646.85,-1071.35 1656.75,-1067.58 1646.66,-1064.35 1646.85,-1071.35"/>
</a>
</g>
<g id="a_edge_694a411a-label"><a xlink:title="21 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_694a411a" text-anchor="middle" startOffset="50%">21 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
<links><link target="task_29cbcf9c"/></links></g>
<!-- task_0b082361 -->
<g id="task_0b082361" class="node">
<title>task_0b082361</title>
<g id="a_task_0b082361"><a xlink:title="pg_remove : Set pg_role if applicable">
<polygon fill="none" stroke="#a63226" points="1966.81,-1002.57 1966.81,-1017.48 1874.98,-1028.02 1745.12,-1028.02 1653.29,-1017.48 1653.29,-1002.57 1745.12,-992.02 1874.98,-992.02 1966.81,-1002.57"/>
<text text-anchor="middle" x="1810.05" y="-1006.32" font-family="Times,serif" font-size="14.00">pg_remove : Set pg_role if applicable</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_0b082361 -->
<g id="edge_fd7efc16" class="edge">
<title>role_b87a81d7-&gt;task_0b082361</title>
<g id="a_edge_fd7efc16"><a xlink:title="22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<path fill="none" stroke="#a63226" d="M810.74,-1102.33C847.78,-1086.74 908.03,-1063.65 962.58,-1053.02 1195.52,-1007.63 1470.94,-1002.37 1642.85,-1004.68" id="path_edge_fd7efc16"/>
<polygon fill="#a63226" stroke="#a63226" points="1642.95,-1008.19 1652.99,-1004.83 1643.05,-1001.19 1642.95,-1008.19"/>
</a>
</g>
<g id="a_edge_fd7efc16-label"><a xlink:title="22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_fd7efc16" text-anchor="middle" startOffset="50%">22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']</textPath></text>
</a>
</g>
<links><link target="task_0b082361"/></links></g>
<!-- task_08698246 -->
<g id="task_08698246" class="node">
<title>task_08698246</title>
<g id="a_task_08698246"><a xlink:title="pg_remove : Remove follower postgres service from consul">
<polygon fill="none" stroke="#a63226" points="2052.96,-948.57 2052.96,-963.48 1910.67,-974.02 1709.43,-974.02 1567.14,-963.48 1567.14,-948.57 1709.43,-938.02 1910.67,-938.02 2052.96,-948.57"/>
<text text-anchor="middle" x="1810.05" y="-952.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower postgres service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_08698246 -->
<g id="edge_40e62850" class="edge">
<title>role_b87a81d7-&gt;task_08698246</title>
<g id="a_edge_40e62850"><a xlink:title="23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M792.42,-1100.42C823.15,-1070.14 891.18,-1009.15 962.58,-985.02 1068.63,-949.18 1347.95,-945.71 1556.93,-948.79" id="path_edge_40e62850"/>
<polygon fill="#a63226" stroke="#a63226" points="1557.09,-952.29 1567.14,-948.95 1557.19,-945.29 1557.09,-952.29"/>
</a>
</g>
<g id="a_edge_40e62850-label"><a xlink:title="23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_40e62850" text-anchor="middle" startOffset="50%">23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_08698246"/></links></g>
<!-- task_41c58ebf -->
<g id="task_41c58ebf" class="node">
<title>task_41c58ebf</title>
<g id="a_task_41c58ebf"><a xlink:title="pg_remove : Remove follower patroni service from consul">
<polygon fill="none" stroke="#a63226" points="2047.61,-894.57 2047.61,-909.48 1908.45,-920.02 1711.65,-920.02 1572.49,-909.48 1572.49,-894.57 1711.65,-884.02 1908.45,-884.02 2047.61,-894.57"/>
<text text-anchor="middle" x="1810.05" y="-898.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower patroni service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_41c58ebf -->
<g id="edge_da92805c" class="edge">
<title>role_b87a81d7-&gt;task_41c58ebf</title>
<g id="a_edge_da92805c"><a xlink:title="24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M786.11,-1100.04C811.15,-1060.2 877.69,-965.09 962.58,-928.02 1073.24,-879.7 1390.42,-882.68 1603.51,-891.03" id="path_edge_da92805c"/>
<polygon fill="#a63226" stroke="#a63226" points="1603.44,-894.53 1613.58,-891.43 1603.72,-887.53 1603.44,-894.53"/>
</a>
</g>
<g id="a_edge_da92805c-label"><a xlink:title="24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_da92805c" text-anchor="middle" startOffset="50%">24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_41c58ebf"/></links></g>
<!-- task_af554169 -->
<g id="task_af554169" class="node">
<title>task_af554169</title>
<g id="a_task_af554169"><a xlink:title="pg_remove : Reload follower consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#a63226" points="2086.49,-840.57 2086.49,-855.48 1924.56,-866.02 1695.54,-866.02 1533.6,-855.48 1533.6,-840.57 1695.54,-830.02 1924.56,-830.02 2086.49,-840.57"/>
<text text-anchor="middle" x="1810.05" y="-844.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_af554169 -->
<g id="edge_8fe50dc7" class="edge">
<title>role_b87a81d7-&gt;task_af554169</title>
<g id="a_edge_8fe50dc7"><a xlink:title="25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M782.15,-1099.98C801.57,-1051.52 862.32,-918.73 962.58,-867.02 1073.25,-809.94 1408.23,-820.1 1622.11,-833.49" id="path_edge_8fe50dc7"/>
<polygon fill="#a63226" stroke="#a63226" points="1622,-836.99 1632.2,-834.13 1622.44,-830 1622,-836.99"/>
</a>
</g>
<g id="a_edge_8fe50dc7-label"><a xlink:title="25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_8fe50dc7" text-anchor="middle" startOffset="50%">25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_af554169"/></links></g>
<!-- task_572bd514 -->
<g id="task_572bd514" class="node">
<title>task_572bd514</title>
<g id="a_task_572bd514"><a xlink:title="pg_remove : Stop and disable follower patroni service">
<polygon fill="none" stroke="#a63226" points="2030.44,-786.57 2030.44,-801.48 1901.34,-812.02 1718.76,-812.02 1589.66,-801.48 1589.66,-786.57 1718.76,-776.02 1901.34,-776.02 2030.44,-786.57"/>
<text text-anchor="middle" x="1810.05" y="-790.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower patroni service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_572bd514 -->
<g id="edge_6eba9031" class="edge">
<title>role_b87a81d7-&gt;task_572bd514</title>
<g id="a_edge_6eba9031"><a xlink:title="26 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#a63226" d="M779.59,-1099.73C793.84,-1043.25 845.69,-871.32 962.58,-804.02 1077.55,-737.82 1451.37,-760.02 1661.75,-778.86" id="path_edge_6eba9031"/>
<polygon fill="#a63226" stroke="#a63226" points="1661.67,-782.37 1671.95,-779.78 1662.3,-775.4 1661.67,-782.37"/>
</a>
</g>
<g id="a_edge_6eba9031-label"><a xlink:title="26 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_6eba9031" text-anchor="middle" startOffset="50%">26 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_572bd514"/></links></g>
<!-- task_9680e8ef -->
<g id="task_9680e8ef" class="node">
<title>task_9680e8ef</title>
<g id="a_task_9680e8ef"><a xlink:title="pg_remove : Stop and disable follower postgres service">
<polygon fill="none" stroke="#a63226" points="2035.28,-732.57 2035.28,-747.48 1903.34,-758.02 1716.75,-758.02 1584.81,-747.48 1584.81,-732.57 1716.75,-722.02 1903.34,-722.02 2035.28,-732.57"/>
<text text-anchor="middle" x="1810.05" y="-736.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower postgres service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_9680e8ef -->
<g id="edge_8daeb39e" class="edge">
<title>role_b87a81d7-&gt;task_9680e8ef</title>
<g id="a_edge_8daeb39e"><a xlink:title="27 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#a63226" d="M777.71,-1099.77C787.08,-1036.17 827.86,-823.63 962.58,-740.02 1016.12,-706.79 1377.87,-718.09 1610.81,-729.16" id="path_edge_8daeb39e"/>
<polygon fill="#a63226" stroke="#a63226" points="1610.95,-732.67 1621.11,-729.66 1611.29,-725.68 1610.95,-732.67"/>
</a>
</g>
<g id="a_edge_8daeb39e-label"><a xlink:title="27 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_8daeb39e" text-anchor="middle" startOffset="50%">27 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_9680e8ef"/></links></g>
<!-- task_f01b0273 -->
<g id="task_f01b0273" class="node">
<title>task_f01b0273</title>
<g id="a_task_f01b0273"><a xlink:title="pg_remove : Force follower postgres shutdown">
<polygon fill="none" stroke="#a63226" points="2003.47,-678.57 2003.47,-693.48 1890.17,-704.02 1729.93,-704.02 1616.63,-693.48 1616.63,-678.57 1729.93,-668.02 1890.17,-668.02 2003.47,-678.57"/>
<text text-anchor="middle" x="1810.05" y="-682.32" font-family="Times,serif" font-size="14.00">pg_remove : Force follower postgres shutdown</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_f01b0273 -->
<g id="edge_10546464" class="edge">
<title>role_b87a81d7-&gt;task_f01b0273</title>
<g id="a_edge_10546464"><a xlink:title="28 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#a63226" d="M776.83,-1099.8C783.5,-1032.11 816.93,-794.03 962.58,-698.02 1015.23,-663.31 1377.78,-669.75 1611.01,-677.76" id="path_edge_10546464"/>
<polygon fill="#a63226" stroke="#a63226" points="1611.21,-681.27 1621.32,-678.12 1611.45,-674.28 1611.21,-681.27"/>
</a>
</g>
<g id="a_edge_10546464-label"><a xlink:title="28 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_10546464" text-anchor="middle" startOffset="50%">28 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_f01b0273"/></links></g>
<!-- task_5d18ba37 -->
<g id="task_5d18ba37" class="node">
<title>task_5d18ba37</title>
<g id="a_task_5d18ba37"><a xlink:title="pg_remove : Remove leader postgres service from consul">
<polygon fill="none" stroke="#a63226" points="2043.67,-624.57 2043.67,-639.48 1906.82,-650.02 1713.28,-650.02 1576.43,-639.48 1576.43,-624.57 1713.28,-614.02 1906.82,-614.02 2043.67,-624.57"/>
<text text-anchor="middle" x="1810.05" y="-628.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader postgres service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_5d18ba37 -->
<g id="edge_7af9aebb" class="edge">
<title>role_b87a81d7-&gt;task_5d18ba37</title>
<g id="a_edge_7af9aebb"><a xlink:title="29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M776.02,-1099.94C779.84,-1028.12 804.58,-761.55 962.58,-652.02 1071.54,-576.48 1447.23,-597.47 1659.65,-616.46" id="path_edge_7af9aebb"/>
<polygon fill="#a63226" stroke="#a63226" points="1659.37,-619.94 1669.64,-617.36 1660,-612.97 1659.37,-619.94"/>
</a>
</g>
<g id="a_edge_7af9aebb-label"><a xlink:title="29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_7af9aebb" text-anchor="middle" startOffset="50%">29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_5d18ba37"/></links></g>
<!-- task_58888f07 -->
<g id="task_58888f07" class="node">
<title>task_58888f07</title>
<g id="a_task_58888f07"><a xlink:title="pg_remove : Remove leader patroni service from consul">
<polygon fill="none" stroke="#a63226" points="2039.23,-570.57 2039.23,-585.48 1904.98,-596.02 1715.12,-596.02 1580.87,-585.48 1580.87,-570.57 1715.12,-560.02 1904.98,-560.02 2039.23,-570.57"/>
<text text-anchor="middle" x="1810.05" y="-574.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader patroni service from consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_58888f07 -->
<g id="edge_5e5931e5" class="edge">
<title>role_b87a81d7-&gt;task_58888f07</title>
<g id="a_edge_5e5931e5"><a xlink:title="30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M774.89,-1099.85C774.1,-1021.05 782.63,-707.16 962.58,-579.02 1014.22,-542.25 1380.84,-554.59 1614.35,-566.55" id="path_edge_5e5931e5"/>
<polygon fill="#a63226" stroke="#a63226" points="1614.51,-570.06 1624.68,-567.08 1614.87,-563.07 1614.51,-570.06"/>
</a>
</g>
<g id="a_edge_5e5931e5-label"><a xlink:title="30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_5e5931e5" text-anchor="middle" startOffset="50%">30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_58888f07"/></links></g>
<!-- task_b1ce809e -->
<g id="task_b1ce809e" class="node">
<title>task_b1ce809e</title>
<g id="a_task_b1ce809e"><a xlink:title="pg_remove : Reload leader consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#a63226" points="2077.2,-516.57 2077.2,-531.48 1920.71,-542.02 1699.39,-542.02 1542.9,-531.48 1542.9,-516.57 1699.39,-506.02 1920.71,-506.02 2077.2,-516.57"/>
<text text-anchor="middle" x="1810.05" y="-520.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_b1ce809e -->
<g id="edge_d2b1b307" class="edge">
<title>role_b87a81d7-&gt;task_b1ce809e</title>
<g id="a_edge_d2b1b307"><a xlink:title="31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#a63226" d="M778.26,-1100.03C793.37,-1009.67 865.55,-606.74 962.58,-535.02 1010.86,-499.33 1342.37,-504.72 1575.88,-513.29" id="path_edge_d2b1b307"/>
<polygon fill="#a63226" stroke="#a63226" points="1575.75,-516.79 1585.88,-513.66 1576.01,-509.79 1575.75,-516.79"/>
</a>
</g>
<g id="a_edge_d2b1b307-label"><a xlink:title="31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_d2b1b307" text-anchor="middle" startOffset="50%">31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_b1ce809e"/></links></g>
<!-- task_711f449f -->
<g id="task_711f449f" class="node">
<title>task_711f449f</title>
<g id="a_task_711f449f"><a xlink:title="pg_remove : Stop and disable leader patroni service">
<polygon fill="none" stroke="#a63226" points="2021.14,-462.57 2021.14,-477.48 1897.49,-488.02 1722.61,-488.02 1598.95,-477.48 1598.95,-462.57 1722.61,-452.02 1897.49,-452.02 2021.14,-462.57"/>
<text text-anchor="middle" x="1810.05" y="-466.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader patroni service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_711f449f -->
<g id="edge_80b7b74f" class="edge">
<title>role_b87a81d7-&gt;task_711f449f</title>
<g id="a_edge_80b7b74f"><a xlink:title="32 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#a63226" d="M777.84,-1099.86C791.39,-1004.81 858.97,-565.98 962.58,-487.02 1011.85,-449.47 1363.29,-454 1597.57,-461.48" id="path_edge_80b7b74f"/>
<polygon fill="#a63226" stroke="#a63226" points="1597.48,-464.98 1607.59,-461.8 1597.71,-457.98 1597.48,-464.98"/>
</a>
</g>
<g id="a_edge_80b7b74f-label"><a xlink:title="32 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_80b7b74f" text-anchor="middle" startOffset="50%">32 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_711f449f"/></links></g>
<!-- task_87523225 -->
<g id="task_87523225" class="node">
<title>task_87523225</title>
<g id="a_task_87523225"><a xlink:title="pg_remove : Stop and disable leader postgres service">
<polygon fill="none" stroke="#a63226" points="2025.99,-408.57 2025.99,-423.48 1899.5,-434.02 1720.6,-434.02 1594.11,-423.48 1594.11,-408.57 1720.6,-398.02 1899.5,-398.02 2025.99,-408.57"/>
<text text-anchor="middle" x="1810.05" y="-412.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader postgres service</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_87523225 -->
<g id="edge_ad86c845" class="edge">
<title>role_b87a81d7-&gt;task_87523225</title>
<g id="a_edge_ad86c845"><a xlink:title="33 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#a63226" d="M777.45,-1099.78C789.42,-1000.19 851.98,-523.5 962.58,-437.02 1010.65,-399.43 1352.5,-401.77 1586.79,-408.05" id="path_edge_ad86c845"/>
<polygon fill="#a63226" stroke="#a63226" points="1586.73,-411.55 1596.82,-408.33 1586.92,-404.56 1586.73,-411.55"/>
</a>
</g>
<g id="a_edge_ad86c845-label"><a xlink:title="33 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_ad86c845" text-anchor="middle" startOffset="50%">33 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_87523225"/></links></g>
<!-- task_c597a687 -->
<g id="task_c597a687" class="node">
<title>task_c597a687</title>
<g id="a_task_c597a687"><a xlink:title="pg_remove : Force leader postgres shutdown">
<polygon fill="none" stroke="#a63226" points="1994.18,-354.57 1994.18,-369.48 1886.32,-380.02 1733.78,-380.02 1625.92,-369.48 1625.92,-354.57 1733.78,-344.02 1886.32,-344.02 1994.18,-354.57"/>
<text text-anchor="middle" x="1810.05" y="-358.32" font-family="Times,serif" font-size="14.00">pg_remove : Force leader postgres shutdown</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_c597a687 -->
<g id="edge_5aaf4364" class="edge">
<title>role_b87a81d7-&gt;task_c597a687</title>
<g id="a_edge_5aaf4364"><a xlink:title="34 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#a63226" d="M777.08,-1099.79C787.46,-995.84 844.55,-479.28 962.58,-385.02 1012.26,-345.34 1381.42,-348.79 1615.54,-355.19" id="path_edge_5aaf4364"/>
<polygon fill="#a63226" stroke="#a63226" points="1615.45,-358.69 1625.54,-355.47 1615.64,-351.7 1615.45,-358.69"/>
</a>
</g>
<g id="a_edge_5aaf4364-label"><a xlink:title="34 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_5aaf4364" text-anchor="middle" startOffset="50%">34 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_c597a687"/></links></g>
<!-- task_5f0d57af -->
<g id="task_5f0d57af" class="node">
<title>task_5f0d57af</title>
<g id="a_task_5f0d57af"><a xlink:title="pg_remove : Remove postgres metadata in consul">
<polygon fill="none" stroke="#a63226" points="2014.08,-300.57 2014.08,-315.48 1894.56,-326.02 1725.54,-326.02 1606.02,-315.48 1606.02,-300.57 1725.54,-290.02 1894.56,-290.02 2014.08,-300.57"/>
<text text-anchor="middle" x="1810.05" y="-304.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres metadata in consul</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_5f0d57af -->
<g id="edge_33ac7701" class="edge">
<title>role_b87a81d7-&gt;task_5f0d57af</title>
<g id="a_edge_33ac7701"><a xlink:title="35 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'consul']">
<path fill="none" stroke="#a63226" d="M776.74,-1099.92C785.56,-991.96 836.86,-434.23 962.58,-332.02 1010.56,-293.01 1361.19,-294.91 1595.86,-300.8" id="path_edge_33ac7701"/>
<polygon fill="#a63226" stroke="#a63226" points="1595.82,-304.3 1605.9,-301.06 1596,-297.3 1595.82,-304.3"/>
</a>
</g>
<g id="a_edge_33ac7701-label"><a xlink:title="35 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_33ac7701" text-anchor="middle" startOffset="50%">35 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_5f0d57af"/></links></g>
<!-- task_92531804 -->
<g id="task_92531804" class="node">
<title>task_92531804</title>
<g id="a_task_92531804"><a xlink:title="pg_remove : Remove postgres metadata in etcd">
<polygon fill="none" stroke="#a63226" points="2005.69,-246.57 2005.69,-261.48 1891.09,-272.02 1729.01,-272.02 1614.41,-261.48 1614.41,-246.57 1729.01,-236.02 1891.09,-236.02 2005.69,-246.57"/>
<text text-anchor="middle" x="1810.05" y="-250.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres metadata in etcd</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_92531804 -->
<g id="edge_4c78dbe3" class="edge">
<title>role_b87a81d7-&gt;task_92531804</title>
<g id="a_edge_4c78dbe3"><a xlink:title="36 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']">
<path fill="none" stroke="#a63226" d="M776.46,-1099.8C783.83,-987.29 829.04,-388.21 962.58,-278.02 1010.86,-238.18 1369.51,-240.73 1604.22,-246.9" id="path_edge_4c78dbe3"/>
<polygon fill="#a63226" stroke="#a63226" points="1604.17,-250.4 1614.26,-247.16 1604.36,-243.4 1604.17,-250.4"/>
</a>
</g>
<g id="a_edge_4c78dbe3-label"><a xlink:title="36 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_4c78dbe3" text-anchor="middle" startOffset="50%">36 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']</textPath></text>
</a>
</g>
<links><link target="task_92531804"/></links></g>
<!-- task_d68df326 -->
<g id="task_d68df326" class="node">
<title>task_d68df326</title>
<g id="a_task_d68df326"><a xlink:title="pg_remove : Remove postgres data">
<polygon fill="none" stroke="#a63226" points="1958.02,-192.57 1958.02,-207.48 1871.34,-218.02 1748.76,-218.02 1662.08,-207.48 1662.08,-192.57 1748.76,-182.02 1871.34,-182.02 1958.02,-192.57"/>
<text text-anchor="middle" x="1810.05" y="-196.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres data</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_d68df326 -->
<g id="edge_2c793a7c" class="edge">
<title>role_b87a81d7-&gt;task_d68df326</title>
<g id="a_edge_2c793a7c"><a xlink:title="37 [when: not pg_safeguard|bool and rm_pgdata|bool]">
<path fill="none" stroke="#a63226" d="M776.2,-1099.79C782.17,-983.13 821.15,-342.26 962.58,-224.02 1013.98,-181.05 1421.38,-187.1 1651.72,-194.16" id="path_edge_2c793a7c"/>
<polygon fill="#a63226" stroke="#a63226" points="1651.77,-197.66 1661.87,-194.47 1651.99,-190.66 1651.77,-197.66"/>
</a>
</g>
<g id="a_edge_2c793a7c-label"><a xlink:title="37 [when: not pg_safeguard|bool and rm_pgdata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_2c793a7c" text-anchor="middle" startOffset="50%">37 [when: not pg_safeguard|bool and rm_pgdata|bool]</textPath></text>
</a>
</g>
<links><link target="task_d68df326"/></links></g>
<!-- task_69b07895 -->
<g id="task_69b07895" class="node">
<title>task_69b07895</title>
<g id="a_task_69b07895"><a xlink:title="pg_remove : Remove pg packages">
<polygon fill="none" stroke="#a63226" points="1954.89,-138.57 1954.89,-153.48 1870.04,-164.02 1750.06,-164.02 1665.21,-153.48 1665.21,-138.57 1750.06,-128.02 1870.04,-128.02 1954.89,-138.57"/>
<text text-anchor="middle" x="1810.05" y="-142.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg packages</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_69b07895 -->
<g id="edge_db6e1fdb" class="edge">
<title>role_b87a81d7-&gt;task_69b07895</title>
<g id="a_edge_db6e1fdb"><a xlink:title="38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#a63226" d="M775.97,-1099.88C780.58,-979.47 813.19,-296.37 962.58,-170.02 1013.97,-126.55 1425.1,-133 1654.91,-140.18" id="path_edge_db6e1fdb"/>
<polygon fill="#a63226" stroke="#a63226" points="1654.94,-143.69 1665.04,-140.51 1655.16,-136.69 1654.94,-143.69"/>
</a>
</g>
<g id="a_edge_db6e1fdb-label"><a xlink:title="38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_db6e1fdb" text-anchor="middle" startOffset="50%">38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_69b07895"/></links></g>
<!-- task_e0633304 -->
<g id="task_e0633304" class="node">
<title>task_e0633304</title>
<g id="a_task_e0633304"><a xlink:title="pg_remove : Remove pg extensions">
<polygon fill="none" stroke="#a63226" points="1959.74,-84.57 1959.74,-99.48 1872.05,-110.02 1748.05,-110.02 1660.36,-99.48 1660.36,-84.57 1748.05,-74.02 1872.05,-74.02 1959.74,-84.57"/>
<text text-anchor="middle" x="1810.05" y="-88.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg extensions</text>
</a>
</g>
</g>
<!-- role_b87a81d7&#45;&gt;task_e0633304 -->
<g id="edge_770f5f8c" class="edge">
<title>role_b87a81d7-&gt;task_e0633304</title>
<g id="a_edge_770f5f8c"><a xlink:title="39 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#a63226" d="M775.76,-1099.65C779.1,-974.62 805.13,-249.45 962.58,-115.02 1191.36,80.32 1595.25,-21.93 1748.12,-70.83" id="path_edge_770f5f8c"/>
<polygon fill="#a63226" stroke="#a63226" points="1747.23,-74.22 1757.82,-73.97 1749.38,-67.56 1747.23,-74.22"/>
</a>
</g>
<g id="a_edge_770f5f8c-label"><a xlink:title="39 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#a63226" dy="-1%"><textPath xlink:href="#path_edge_770f5f8c" text-anchor="middle" startOffset="50%">39 [when: not pg_safeguard|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_e0633304"/></links></g>
</g>
</svg>