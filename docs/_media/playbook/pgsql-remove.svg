<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 6.0.2 (20221011.1828)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2293pt" height="2181pt" viewBox="0.00 0.00 2292.52 2181.02" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param {Element} parentElement
 * @param {string[]} visitedElements
 */
function highlightLinkedNodes(parentElement, visitedElements = []) {
    $(parentElement).find('link').each(function (index, element) {
        const linkedElementId = $(element).attr('target');
        const edgeId = $(element).attr('edge');

        const currentElement = $(`#${linkedElementId}`);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Highlight the edge point to the target
        $(`#${edgeId}`).addClass(HIGHLIGHT_CLASS);

        if (!visitedElements.includes(linkedElementId)) {
            visitedElements.push(linkedElementId);
            // Recursively highlight
            highlightLinkedNodes(currentElement, visitedElements);
        }
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} parentElement
 * @param {string[]} visitedElements
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the parentElement is the current selected element
 */
function unHighlightLinkedNodes(parentElement, visitedElements = [], isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');
    // Do not unhighlight the current selected element
    if ($(parentElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(parentElement).find('link').each(function (index, element) {
            const linkedElementId = $(element).attr('target');
            const edgeId = $(element).attr('edge');

            const linkedElement = $(`#${linkedElementId}`);

            if (linkedElement.attr('id') !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);

                // Unhighlight the edge point to the target
                $(`#${edgeId}`).removeClass(HIGHLIGHT_CLASS);

                if (!visitedElements.includes(linkedElementId)) {
                    visitedElements.push(linkedElementId);
                    // Recursively unhighlight
                    unHighlightLinkedNodes(linkedElement, visitedElements, isHover);
                }
            }

        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param {Event} event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget, []);
}

/**
 * Hover handler for mouseleave event
 * @param {Event} event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, [], true);
}

/**
 * Handler when clicking on some elements
 * @param {Event} event
 */
function clickOnElement(event) {
    const newClickedElement = $(event.currentTarget);

    event.preventDefault(); // Disable the default click behavior since we override it here

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, [], false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked to the current selected node
        unHighlightLinkedNodes(currentSelectedElement, [], false);
        if (currentSelectedElement) {
            currentSelectedElement.removeClass(HIGHLIGHT_CLASS);
        }

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement, []);
        currentSelectedElement = newClickedElement;
    }
}

/**
 * Handler when double clicking on some elements
 * @param {Event} event
 */
function dblClickElement(event) {
    const newElementDlbClicked = event.currentTarget;
    const links = $(newElementDlbClicked).find("a[xlink\\:href]");

    if (links.length > 0) {
        document.location = $(links[0]).attr("xlink:href");
    } else {
        console.log("No links found on this element");
    }
}


$("#svg").ready(function () {
    let playbooks = $("g[id^=playbook_]");
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");
    let tasks = $("g[id^=pre_task_], g[id^=task_], g[id^=post_task_]");

    playbooks.hover(hoverMouseEnter, hoverMouseLeave);
    playbooks.click(clickOnElement);
    playbooks.dblclick(dblClickElement);

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);
    plays.dblclick(dblClickElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);
    roles.dblclick(dblClickElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);
    blocks.dblclick(dblClickElement);

    // Set hover and click events on the tasks
    tasks.hover(hoverMouseEnter, hoverMouseLeave);
    tasks.click(clickOnElement);
    tasks.dblclick(dblClickElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2177.02)">
<polygon fill="white" stroke="none" points="-4,4 -4,-2177.02 2288.52,-2177.02 2288.52,4 -4,4"/>
<!-- pgsql&#45;remove.yml -->
<g id="playbook_16e8ad6e" class="node">
<title>pgsql-remove.yml</title>
<g id="a_playbook_16e8ad6e"><a xlink:href="/Users/vonng/pigsty/pgsql-remove.yml" xlink:title="pgsql-remove.yml">
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="76.04" cy="-1145.02" rx="76.09" ry="18"/>
<text text-anchor="middle" x="76.04" y="-1141.32" font-family="Times,serif" font-size="14.00">pgsql-remove.yml</text>
</a>
</g>
<links><link target="play_0bc9d2d0" edge="edge_1_playbook_16e8ad6e_play_0bc9d2d0"/><link target="play_c8aff1fc" edge="edge_2_playbook_16e8ad6e_play_c8aff1fc"/></links></g>
<!-- play_0bc9d2d0 -->
<g id="play_0bc9d2d0" class="node">
<title>play_0bc9d2d0</title>
<g id="a_play_0bc9d2d0"><a xlink:href="/Users/vonng/pigsty/pgsql-remove.yml" xlink:title="10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13">
<polygon fill="#ad1f92" stroke="#ad1f92" points="609.09,-1190.02 396.09,-1190.02 396.09,-1154.02 609.09,-1154.02 609.09,-1190.02"/>
<text text-anchor="middle" x="502.59" y="-1168.32" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove Precheck (4)</text>
</a>
</g>
<links><link target="task_d3c23e98" edge="edge_1_play_0bc9d2d0_task_d3c23e98"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;play_0bc9d2d0 -->
<g id="edge_playbook_16e8ad6e_play_0bc9d2d0" class="edge">
<title>pgsql-remove.yml-&gt;play_0bc9d2d0</title>
<g id="a_edge_playbook_16e8ad6e_play_0bc9d2d0"><a xlink:title="1 Play: PGSQL Remove Precheck (4)">
<path fill="none" stroke="#ad1f92" d="M150.02,-1149.66C214.8,-1153.78 310.56,-1159.87 385.79,-1164.66" id="path_edge_playbook_16e8ad6e_play_0bc9d2d0"/>
<polygon fill="#ad1f92" stroke="#ad1f92" points="385.59,-1168.15 395.79,-1165.29 386.04,-1161.16 385.59,-1168.15"/>
</a>
</g>
<g id="a_edge_playbook_16e8ad6e_play_0bc9d2d0-label"><a xlink:title="1 Play: PGSQL Remove Precheck (4)">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#ad1f92" dy="-0.2%"><textPath xlink:href="#path_edge_playbook_16e8ad6e_play_0bc9d2d0" startOffset="146.5474753715011">1 Play: PGSQL Remove Precheck (4)</textPath></text>
</a>
</g>
</g>
<!-- play_c8aff1fc -->
<g id="play_c8aff1fc" class="node">
<title>play_c8aff1fc</title>
<g id="a_play_c8aff1fc"><a xlink:href="/Users/vonng/pigsty/pgsql-remove.yml" xlink:title="10.10.10.10,10.10.10.11,10.10.10.12,10.10.10.13">
<polygon fill="#b93b13" stroke="#b93b13" points="582.59,-1136.02 422.59,-1136.02 422.59,-1100.02 582.59,-1100.02 582.59,-1136.02"/>
<text text-anchor="middle" x="502.59" y="-1114.32" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove (4)</text>
</a>
</g>
<links><link target="role_594b62b5" edge="edge_1_play_c8aff1fc_role_594b62b5"/></links></g>
<!-- pgsql&#45;remove.yml&#45;&gt;play_c8aff1fc -->
<g id="edge_playbook_16e8ad6e_play_c8aff1fc" class="edge">
<title>pgsql-remove.yml-&gt;play_c8aff1fc</title>
<g id="a_edge_playbook_16e8ad6e_play_c8aff1fc"><a xlink:title="2 Play: PGSQL Remove (4)">
<path fill="none" stroke="#b93b13" d="M140.26,-1135.35C150.22,-1134.07 160.42,-1132.9 170.09,-1132.02 251.94,-1124.59 345.52,-1121.1 412.34,-1119.45" id="path_edge_playbook_16e8ad6e_play_c8aff1fc"/>
<polygon fill="#b93b13" stroke="#b93b13" points="412.49,-1122.95 422.41,-1119.22 412.33,-1115.95 412.49,-1122.95"/>
</a>
</g>
<g id="a_edge_playbook_16e8ad6e_play_c8aff1fc-label"><a xlink:title="2 Play: PGSQL Remove (4)">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_playbook_16e8ad6e_play_c8aff1fc" startOffset="183.20169526720068">2 Play: PGSQL Remove (4)</textPath></text>
</a>
</g>
</g>
<!-- task_d3c23e98 -->
<g id="task_d3c23e98" class="node">
<title>task_d3c23e98</title>
<g id="a_task_d3c23e98"><a xlink:href="/Users/vonng/pigsty/pgsql-remove.yml" xlink:title="Abort due to pg_safeguard enabled">
<polygon fill="none" stroke="#ad1f92" points="1142.82,-1164.57 1142.82,-1179.48 1042.95,-1190.02 901.71,-1190.02 801.84,-1179.48 801.84,-1164.57 901.71,-1154.02 1042.95,-1154.02 1142.82,-1164.57"/>
<text text-anchor="middle" x="972.33" y="-1168.32" font-family="Times,serif" font-size="14.00">[task] Abort due to pg_safeguard enabled</text>
</a>
</g>
</g>
<!-- play_0bc9d2d0&#45;&gt;task_d3c23e98 -->
<g id="edge_1_play_0bc9d2d0_task_d3c23e98" class="edge">
<title>play_0bc9d2d0-&gt;task_d3c23e98</title>
<g id="a_edge_1_play_0bc9d2d0_task_d3c23e98"><a xlink:title="1 [when: pg_safeguard|bool]">
<path fill="none" stroke="#ad1f92" d="M609.14,-1172.02C663,-1172.02 730,-1172.02 791.68,-1172.02" id="path_edge_1_play_0bc9d2d0_task_d3c23e98"/>
<polygon fill="#ad1f92" stroke="#ad1f92" points="791.93,-1175.52 801.93,-1172.02 791.93,-1168.52 791.93,-1175.52"/>
</a>
</g>
<g id="a_edge_1_play_0bc9d2d0_task_d3c23e98-label"><a xlink:title="1 [when: pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#ad1f92" dy="-0.2%"><textPath xlink:href="#path_edge_1_play_0bc9d2d0_task_d3c23e98" startOffset="111.73039999999997">1 [when: pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- role_594b62b5 -->
<g id="role_594b62b5" class="node">
<title>role_594b62b5</title>
<g id="a_role_594b62b5"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove" xlink:title="pg_remove">
<ellipse fill="none" stroke="#b93b13" cx="972.33" cy="-1118.02" rx="72.59" ry="18"/>
<text text-anchor="middle" x="972.33" y="-1114.32" font-family="Times,serif" font-size="14.00">[role] pg_remove</text>
</a>
</g>
<links><link target="task_25d47bea" edge="edge_1_role_594b62b5_task_25d47bea"/><link target="task_5f11947a" edge="edge_2_role_594b62b5_task_5f11947a"/><link target="task_1f6839ac" edge="edge_3_role_594b62b5_task_1f6839ac"/><link target="task_ec7428f9" edge="edge_4_role_594b62b5_task_ec7428f9"/><link target="task_86ff11bc" edge="edge_5_role_594b62b5_task_86ff11bc"/><link target="task_023991f4" edge="edge_6_role_594b62b5_task_023991f4"/><link target="task_0b394c8c" edge="edge_7_role_594b62b5_task_0b394c8c"/><link target="task_91f490f0" edge="edge_8_role_594b62b5_task_91f490f0"/><link target="task_4148da53" edge="edge_9_role_594b62b5_task_4148da53"/><link target="task_b122688c" edge="edge_10_role_594b62b5_task_b122688c"/><link target="task_8d87738b" edge="edge_11_role_594b62b5_task_8d87738b"/><link target="task_a58a895c" edge="edge_12_role_594b62b5_task_a58a895c"/><link target="task_32b0a4d3" edge="edge_13_role_594b62b5_task_32b0a4d3"/><link target="task_c40c1c9e" edge="edge_14_role_594b62b5_task_c40c1c9e"/><link target="task_08d94452" edge="edge_15_role_594b62b5_task_08d94452"/><link target="task_482f60b4" edge="edge_16_role_594b62b5_task_482f60b4"/><link target="task_fe4229ba" edge="edge_17_role_594b62b5_task_fe4229ba"/><link target="task_b50eee42" edge="edge_18_role_594b62b5_task_b50eee42"/><link target="task_98279598" edge="edge_19_role_594b62b5_task_98279598"/><link target="task_6fc6d925" edge="edge_20_role_594b62b5_task_6fc6d925"/><link target="task_c6e8e0b0" edge="edge_21_role_594b62b5_task_c6e8e0b0"/><link target="task_84be0d81" edge="edge_22_role_594b62b5_task_84be0d81"/><link target="task_2eee2062" edge="edge_23_role_594b62b5_task_2eee2062"/><link target="task_105b01b3" edge="edge_24_role_594b62b5_task_105b01b3"/><link target="task_58e940a5" edge="edge_25_role_594b62b5_task_58e940a5"/><link target="task_613bba5e" edge="edge_26_role_594b62b5_task_613bba5e"/><link target="task_d8a9df27" edge="edge_27_role_594b62b5_task_d8a9df27"/><link target="task_a1ee2452" edge="edge_28_role_594b62b5_task_a1ee2452"/><link target="task_29c6578b" edge="edge_29_role_594b62b5_task_29c6578b"/><link target="task_ae1ba88d" edge="edge_30_role_594b62b5_task_ae1ba88d"/><link target="task_fdae6ff8" edge="edge_31_role_594b62b5_task_fdae6ff8"/><link target="task_f0b1ef13" edge="edge_32_role_594b62b5_task_f0b1ef13"/><link target="task_9bc0da23" edge="edge_33_role_594b62b5_task_9bc0da23"/><link target="task_7d9c88ed" edge="edge_34_role_594b62b5_task_7d9c88ed"/><link target="task_2db1d05e" edge="edge_35_role_594b62b5_task_2db1d05e"/><link target="task_318cda30" edge="edge_36_role_594b62b5_task_318cda30"/><link target="task_bf52851c" edge="edge_37_role_594b62b5_task_bf52851c"/><link target="task_71d32e1d" edge="edge_38_role_594b62b5_task_71d32e1d"/><link target="task_2170cd4b" edge="edge_39_role_594b62b5_task_2170cd4b"/></links></g>
<!-- play_c8aff1fc&#45;&gt;role_594b62b5 -->
<g id="edge_1_play_c8aff1fc_role_594b62b5" class="edge">
<title>play_c8aff1fc-&gt;role_594b62b5</title>
<g id="a_edge_1_play_c8aff1fc_role_594b62b5"><a xlink:title="1 ">
<path fill="none" stroke="#b93b13" d="M582.67,-1118.02C667.87,-1118.02 802.81,-1118.02 889.18,-1118.02" id="path_edge_1_play_c8aff1fc_role_594b62b5"/>
<polygon fill="#b93b13" stroke="#b93b13" points="889.2,-1121.52 899.2,-1118.02 889.2,-1114.52 889.2,-1121.52"/>
</a>
</g>
<g id="a_edge_1_play_c8aff1fc_role_594b62b5-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_1_play_c8aff1fc_role_594b62b5" startOffset="230.9476">1 </textPath></text>
</a>
</g>
</g>
<!-- task_25d47bea -->
<g id="task_25d47bea" class="node">
<title>task_25d47bea</title>
<g id="a_task_25d47bea"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/prometheus.yml" xlink:title="pg_remove : Remove pgsql target from prometheus">
<polygon fill="none" stroke="#b93b13" points="2219.55,-2136.57 2219.55,-2151.48 2095.66,-2162.02 1920.44,-2162.02 1796.55,-2151.48 1796.55,-2136.57 1920.44,-2126.02 2095.66,-2126.02 2219.55,-2136.57"/>
<text text-anchor="middle" x="2008.05" y="-2140.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgsql target from prometheus</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_25d47bea -->
<g id="edge_1_role_594b62b5_task_25d47bea" class="edge">
<title>role_594b62b5-&gt;task_25d47bea</title>
<g id="a_edge_1_role_594b62b5_task_25d47bea"><a xlink:title="1 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1037.53,-1109.99C1073.95,-1109.32 1117.2,-1115.83 1142.58,-1145.02 1178.19,-1185.99 1122.34,-2083.49 1160.58,-2122.02 1204.73,-2166.51 1565.75,-2161.48 1801.84,-2153.17" id="path_edge_1_role_594b62b5_task_25d47bea"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1802.06,-2156.67 1811.93,-2152.81 1801.81,-2149.67 1802.06,-2156.67"/>
</a>
</g>
<g id="a_edge_1_role_594b62b5_task_25d47bea-label"><a xlink:title="1 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_1_role_594b62b5_task_25d47bea" startOffset="1291.8841535408737">1 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_5f11947a -->
<g id="task_5f11947a" class="node">
<title>task_5f11947a</title>
<g id="a_task_5f11947a"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/grafana.yml" xlink:title="pg_remove : Remove grafana datasource on meta node">
<polygon fill="none" stroke="#b93b13" points="2232.38,-2082.57 2232.38,-2097.48 2100.97,-2108.02 1915.13,-2108.02 1783.72,-2097.48 1783.72,-2082.57 1915.13,-2072.02 2100.97,-2072.02 2232.38,-2082.57"/>
<text text-anchor="middle" x="2008.05" y="-2086.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_5f11947a -->
<g id="edge_2_role_594b62b5_task_5f11947a" class="edge">
<title>role_594b62b5-&gt;task_5f11947a</title>
<g id="a_edge_2_role_594b62b5_task_5f11947a"><a xlink:title="2 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1037.52,-1110C1073.94,-1109.33 1117.19,-1115.84 1142.58,-1145.02 1176.24,-1183.71 1124.43,-2031.64 1160.58,-2068.02 1204.24,-2111.97 1557.46,-2107.58 1793.61,-2099.45" id="path_edge_2_role_594b62b5_task_5f11947a"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1793.84,-2102.95 1803.71,-2099.1 1793.6,-2095.95 1793.84,-2102.95"/>
</a>
</g>
<g id="a_edge_2_role_594b62b5_task_5f11947a-label"><a xlink:title="2 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_2_role_594b62b5_task_5f11947a" startOffset="1244.4685787255962">2 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_1f6839ac -->
<g id="task_1f6839ac" class="node">
<title>task_1f6839ac</title>
<g id="a_task_1f6839ac"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/nginx.yml" xlink:title="pg_remove : Remove haproxy upstream from nginx">
<polygon fill="none" stroke="#b93b13" points="2220.46,-2028.57 2220.46,-2043.48 2096.03,-2054.02 1920.07,-2054.02 1795.64,-2043.48 1795.64,-2028.57 1920.07,-2018.02 2096.03,-2018.02 2220.46,-2028.57"/>
<text text-anchor="middle" x="2008.05" y="-2032.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy upstream from nginx</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_1f6839ac -->
<g id="edge_3_role_594b62b5_task_1f6839ac" class="edge">
<title>role_594b62b5-&gt;task_1f6839ac</title>
<g id="a_edge_3_role_594b62b5_task_1f6839ac"><a xlink:title="3 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1037.93,-1110C1074.25,-1109.4 1117.27,-1115.97 1142.58,-1145.02 1174.3,-1181.43 1126.52,-1979.79 1160.58,-2014.02 1204.75,-2058.43 1565.26,-2053.46 1801.34,-2045.17" id="path_edge_3_role_594b62b5_task_1f6839ac"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1801.57,-2048.67 1811.44,-2044.82 1801.32,-2041.67 1801.57,-2048.67"/>
</a>
</g>
<g id="a_edge_3_role_594b62b5_task_1f6839ac-label"><a xlink:title="3 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_3_role_594b62b5_task_1f6839ac" startOffset="1208.8685327701999">3 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_ec7428f9 -->
<g id="task_ec7428f9" class="node">
<title>task_ec7428f9</title>
<g id="a_task_ec7428f9"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/nginx.yml" xlink:title="pg_remove : Remove haproxy url location from nginx">
<polygon fill="none" stroke="#b93b13" points="2228.84,-1974.57 2228.84,-1989.48 2099.51,-2000.02 1916.59,-2000.02 1787.26,-1989.48 1787.26,-1974.57 1916.59,-1964.02 2099.51,-1964.02 2228.84,-1974.57"/>
<text text-anchor="middle" x="2008.05" y="-1978.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy url location from nginx</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_ec7428f9 -->
<g id="edge_4_role_594b62b5_task_ec7428f9" class="edge">
<title>role_594b62b5-&gt;task_ec7428f9</title>
<g id="a_edge_4_role_594b62b5_task_ec7428f9"><a xlink:title="4 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1037.91,-1110.01C1074.23,-1109.42 1117.25,-1115.98 1142.58,-1145.02 1172.35,-1179.15 1128.62,-1927.93 1160.58,-1960.02 1204.43,-2004.04 1559.57,-1999.51 1795.7,-1991.36" id="path_edge_4_role_594b62b5_task_ec7428f9"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1795.93,-1994.86 1805.8,-1991.01 1795.68,-1987.86 1795.93,-1994.86"/>
</a>
</g>
<g id="a_edge_4_role_594b62b5_task_ec7428f9-label"><a xlink:title="4 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_4_role_594b62b5_task_ec7428f9" startOffset="1163.4263217299538">4 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_86ff11bc -->
<g id="task_86ff11bc" class="node">
<title>task_86ff11bc</title>
<g id="a_task_86ff11bc"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/nginx.yml" xlink:title="pg_remove : Reload nginx to remove haproxy upstream">
<polygon fill="none" stroke="#b93b13" points="2235.51,-1920.57 2235.51,-1935.48 2102.26,-1946.02 1913.83,-1946.02 1780.59,-1935.48 1780.59,-1920.57 1913.83,-1910.02 2102.26,-1910.02 2235.51,-1920.57"/>
<text text-anchor="middle" x="2008.05" y="-1924.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload nginx to remove haproxy upstream</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_86ff11bc -->
<g id="edge_5_role_594b62b5_task_86ff11bc" class="edge">
<title>role_594b62b5-&gt;task_86ff11bc</title>
<g id="a_edge_5_role_594b62b5_task_86ff11bc"><a xlink:title="5 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1037.9,-1110.03C1074.21,-1109.44 1117.22,-1116 1142.58,-1145.02 1170.4,-1176.87 1130.71,-1876.08 1160.58,-1906.02 1204.19,-1949.74 1555.2,-1945.54 1791.31,-1937.5" id="path_edge_5_role_594b62b5_task_86ff11bc"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1791.54,-1940.99 1801.41,-1937.15 1791.29,-1934 1791.54,-1940.99"/>
</a>
</g>
<g id="a_edge_5_role_594b62b5_task_86ff11bc-label"><a xlink:title="5 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_5_role_594b62b5_task_86ff11bc" startOffset="1118.9273099281343">5 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_023991f4 -->
<g id="task_023991f4" class="node">
<title>task_023991f4</title>
<g id="a_task_023991f4"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Remove cluster service from consul">
<polygon fill="none" stroke="#b93b13" points="2209.85,-1866.57 2209.85,-1881.48 2091.64,-1892.02 1924.46,-1892.02 1806.24,-1881.48 1806.24,-1866.57 1924.46,-1856.02 2091.64,-1856.02 2209.85,-1866.57"/>
<text text-anchor="middle" x="2008.05" y="-1870.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove cluster service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_023991f4 -->
<g id="edge_6_role_594b62b5_task_023991f4" class="edge">
<title>role_594b62b5-&gt;task_023991f4</title>
<g id="a_edge_6_role_594b62b5_task_023991f4"><a xlink:title="6 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1037.88,-1110.05C1074.19,-1109.46 1117.2,-1116.03 1142.58,-1145.02 1168.46,-1174.58 1132.8,-1824.23 1160.58,-1852.02 1205.27,-1896.74 1572.14,-1891.29 1808,-1882.91" id="path_edge_6_role_594b62b5_task_023991f4"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1808.22,-1886.4 1818.08,-1882.54 1807.96,-1879.41 1808.22,-1886.4"/>
</a>
</g>
<g id="a_edge_6_role_594b62b5_task_023991f4-label"><a xlink:title="6 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_6_role_594b62b5_task_023991f4" startOffset="1061.4656109391706">6 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_0b394c8c -->
<g id="task_0b394c8c" class="node">
<title>task_0b394c8c</title>
<g id="a_task_0b394c8c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Remove haproxy service from consul">
<polygon fill="none" stroke="#b93b13" points="2215.61,-1812.57 2215.61,-1827.48 2094.02,-1838.02 1922.08,-1838.02 1800.49,-1827.48 1800.49,-1812.57 1922.08,-1802.02 2094.02,-1802.02 2215.61,-1812.57"/>
<text text-anchor="middle" x="2008.05" y="-1816.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_0b394c8c -->
<g id="edge_7_role_594b62b5_task_0b394c8c" class="edge">
<title>role_594b62b5-&gt;task_0b394c8c</title>
<g id="a_edge_7_role_594b62b5_task_0b394c8c"><a xlink:title="7 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1037.85,-1110.06C1074.16,-1109.48 1117.17,-1116.05 1142.58,-1145.02 1190.44,-1199.59 1109.21,-1746.74 1160.58,-1798.02 1205.06,-1842.44 1567.97,-1837.32 1803.95,-1829.03" id="path_edge_7_role_594b62b5_task_0b394c8c"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1804.17,-1832.53 1814.04,-1828.68 1803.92,-1825.53 1804.17,-1832.53"/>
</a>
</g>
<g id="a_edge_7_role_594b62b5_task_0b394c8c-label"><a xlink:title="7 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_7_role_594b62b5_task_0b394c8c" startOffset="1019.9811985153221">7 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_91f490f0 -->
<g id="task_91f490f0" class="node">
<title>task_91f490f0</title>
<g id="a_task_91f490f0"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Reload consul to dereigster haproxy">
<polygon fill="none" stroke="#b93b13" points="2209.45,-1758.57 2209.45,-1773.48 2091.47,-1784.02 1924.63,-1784.02 1806.65,-1773.48 1806.65,-1758.57 1924.63,-1748.02 2091.47,-1748.02 2209.45,-1758.57"/>
<text text-anchor="middle" x="2008.05" y="-1762.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster haproxy</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_91f490f0 -->
<g id="edge_8_role_594b62b5_task_91f490f0" class="edge">
<title>role_594b62b5-&gt;task_91f490f0</title>
<g id="a_edge_8_role_594b62b5_task_91f490f0"><a xlink:title="8 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1037.83,-1110.09C1074.12,-1109.52 1117.13,-1116.09 1142.58,-1145.02 1186.55,-1195.02 1113.4,-1697.03 1160.58,-1744.02 1205.37,-1788.64 1572.2,-1783.22 1808.03,-1774.87" id="path_edge_8_role_594b62b5_task_91f490f0"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1808.25,-1778.37 1818.11,-1774.51 1808,-1771.37 1808.25,-1778.37"/>
</a>
</g>
<g id="a_edge_8_role_594b62b5_task_91f490f0-label"><a xlink:title="8 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_8_role_594b62b5_task_91f490f0" startOffset="981.6895770723268">8 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_4148da53 -->
<g id="task_4148da53" class="node">
<title>task_4148da53</title>
<g id="a_task_4148da53"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Stop and disable haproxy load balancer">
<polygon fill="none" stroke="#b93b13" points="2221.77,-1704.57 2221.77,-1719.48 2096.58,-1730.02 1919.52,-1730.02 1794.33,-1719.48 1794.33,-1704.57 1919.52,-1694.02 2096.58,-1694.02 2221.77,-1704.57"/>
<text text-anchor="middle" x="2008.05" y="-1708.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable haproxy load balancer</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_4148da53 -->
<g id="edge_9_role_594b62b5_task_4148da53" class="edge">
<title>role_594b62b5-&gt;task_4148da53</title>
<g id="a_edge_9_role_594b62b5_task_4148da53"><a xlink:title="9 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1037.8,-1110.12C1074.08,-1109.55 1117.09,-1116.12 1142.58,-1145.02 1182.66,-1190.46 1117.58,-1647.33 1160.58,-1690.02 1204.91,-1734.04 1563.62,-1729.3 1799.64,-1721.15" id="path_edge_9_role_594b62b5_task_4148da53"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1799.86,-1724.64 1809.73,-1720.79 1799.62,-1717.64 1799.86,-1724.64"/>
</a>
</g>
<g id="a_edge_9_role_594b62b5_task_4148da53-label"><a xlink:title="9 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_9_role_594b62b5_task_4148da53" startOffset="962.9269906248754">9 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_b122688c -->
<g id="task_b122688c" class="node">
<title>task_b122688c</title>
<g id="a_task_b122688c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Stop and disable vip-manager">
<polygon fill="none" stroke="#b93b13" points="2185.11,-1650.57 2185.11,-1665.48 2081.39,-1676.02 1934.71,-1676.02 1830.99,-1665.48 1830.99,-1650.57 1934.71,-1640.02 2081.39,-1640.02 2185.11,-1650.57"/>
<text text-anchor="middle" x="2008.05" y="-1654.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable vip-manager</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_b122688c -->
<g id="edge_10_role_594b62b5_task_b122688c" class="edge">
<title>role_594b62b5-&gt;task_b122688c</title>
<g id="a_edge_10_role_594b62b5_task_b122688c"><a xlink:title="10 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1038.18,-1110.14C1074.36,-1109.65 1117.13,-1116.28 1142.58,-1145.02 1178.76,-1185.9 1121.77,-1597.62 1160.58,-1636.02 1206.58,-1681.54 1589.82,-1674.85 1824.58,-1666.23" id="path_edge_10_role_594b62b5_task_b122688c"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1824.74,-1669.73 1834.6,-1665.86 1824.48,-1662.73 1824.74,-1669.73"/>
</a>
</g>
<g id="a_edge_10_role_594b62b5_task_b122688c-label"><a xlink:title="10 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_10_role_594b62b5_task_b122688c" startOffset="939.1940144390236">10 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_8d87738b -->
<g id="task_8d87738b" class="node">
<title>task_8d87738b</title>
<g id="a_task_8d87738b"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Remove pg_exporter service from consul">
<polygon fill="none" stroke="#b93b13" points="2230.16,-1596.57 2230.16,-1611.48 2100.05,-1622.02 1916.05,-1622.02 1785.94,-1611.48 1785.94,-1596.57 1916.05,-1586.02 2100.05,-1586.02 2230.16,-1596.57"/>
<text text-anchor="middle" x="2008.05" y="-1600.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_8d87738b -->
<g id="edge_11_role_594b62b5_task_8d87738b" class="edge">
<title>role_594b62b5-&gt;task_8d87738b</title>
<g id="a_edge_11_role_594b62b5_task_8d87738b"><a xlink:title="11 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1038.13,-1110.19C1074.29,-1109.71 1117.07,-1116.34 1142.58,-1145.02 1174.87,-1181.33 1125.95,-1547.92 1160.58,-1582.02 1204.72,-1625.5 1557.78,-1621.25 1793.77,-1613.29" id="path_edge_11_role_594b62b5_task_8d87738b"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1794,-1616.78 1803.87,-1612.94 1793.76,-1609.78 1794,-1616.78"/>
</a>
</g>
<g id="a_edge_11_role_594b62b5_task_8d87738b-label"><a xlink:title="11 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_11_role_594b62b5_task_8d87738b" startOffset="845.3884581491031">11 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_a58a895c -->
<g id="task_a58a895c" class="node">
<title>task_a58a895c</title>
<g id="a_task_a58a895c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Reload consul to dereigster pg_exporter">
<polygon fill="none" stroke="#b93b13" points="2223.99,-1542.57 2223.99,-1557.48 2097.5,-1568.02 1918.6,-1568.02 1792.11,-1557.48 1792.11,-1542.57 1918.6,-1532.02 2097.5,-1532.02 2223.99,-1542.57"/>
<text text-anchor="middle" x="2008.05" y="-1546.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pg_exporter</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_a58a895c -->
<g id="edge_12_role_594b62b5_task_a58a895c" class="edge">
<title>role_594b62b5-&gt;task_a58a895c</title>
<g id="a_edge_12_role_594b62b5_task_a58a895c"><a xlink:title="12 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1038.07,-1110.24C1074.21,-1109.78 1116.99,-1116.41 1142.58,-1145.02 1170.98,-1176.77 1130.14,-1498.21 1160.58,-1528.02 1205.07,-1571.59 1561.49,-1567.12 1797.43,-1559.12" id="path_edge_12_role_594b62b5_task_a58a895c"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1797.65,-1562.61 1807.52,-1558.77 1797.41,-1555.62 1797.65,-1562.61"/>
</a>
</g>
<g id="a_edge_12_role_594b62b5_task_a58a895c-label"><a xlink:title="12 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_12_role_594b62b5_task_a58a895c" startOffset="806.8012330277662">12 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_32b0a4d3 -->
<g id="task_32b0a4d3" class="node">
<title>task_32b0a4d3</title>
<g id="a_task_32b0a4d3"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Stop and disable pg_exporter service">
<polygon fill="none" stroke="#b93b13" points="2212.08,-1488.57 2212.08,-1503.48 2092.56,-1514.02 1923.54,-1514.02 1804.02,-1503.48 1804.02,-1488.57 1923.54,-1478.02 2092.56,-1478.02 2212.08,-1488.57"/>
<text text-anchor="middle" x="2008.05" y="-1492.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pg_exporter service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_32b0a4d3 -->
<g id="edge_13_role_594b62b5_task_32b0a4d3" class="edge">
<title>role_594b62b5-&gt;task_32b0a4d3</title>
<g id="a_edge_13_role_594b62b5_task_32b0a4d3"><a xlink:title="13 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1038.41,-1110.31C1074.43,-1109.93 1116.97,-1116.62 1142.58,-1145.02 1167.02,-1172.13 1134.41,-1447.57 1160.58,-1473.02 1205.56,-1516.77 1567.05,-1512.4 1802.86,-1504.63" id="path_edge_13_role_594b62b5_task_32b0a4d3"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1803.07,-1508.12 1812.95,-1504.29 1802.84,-1501.13 1803.07,-1508.12"/>
</a>
</g>
<g id="a_edge_13_role_594b62b5_task_32b0a4d3-label"><a xlink:title="13 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_13_role_594b62b5_task_32b0a4d3" startOffset="797.5032286038454">13 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_c40c1c9e -->
<g id="task_c40c1c9e" class="node">
<title>task_c40c1c9e</title>
<g id="a_task_c40c1c9e"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Remove pgbouncer_exporter service from consul">
<polygon fill="none" stroke="#b93b13" points="2260.66,-1434.57 2260.66,-1449.48 2112.68,-1460.02 1903.42,-1460.02 1755.44,-1449.48 1755.44,-1434.57 1903.42,-1424.02 2112.68,-1424.02 2260.66,-1434.57"/>
<text text-anchor="middle" x="2008.05" y="-1438.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_c40c1c9e -->
<g id="edge_14_role_594b62b5_task_c40c1c9e" class="edge">
<title>role_594b62b5-&gt;task_c40c1c9e</title>
<g id="a_edge_14_role_594b62b5_task_c40c1c9e"><a xlink:title="14 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1038.71,-1110.41C1074.6,-1110.13 1116.91,-1116.88 1142.58,-1145.02 1183.39,-1189.78 1116.97,-1374.98 1160.58,-1417.02 1203.37,-1458.28 1529.97,-1457.38 1764.68,-1451.13" id="path_edge_14_role_594b62b5_task_c40c1c9e"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1764.84,-1454.63 1774.74,-1450.86 1764.65,-1447.63 1764.84,-1454.63"/>
</a>
</g>
<g id="a_edge_14_role_594b62b5_task_c40c1c9e-label"><a xlink:title="14 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_14_role_594b62b5_task_c40c1c9e" startOffset="699.4401303191362">14 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_08d94452 -->
<g id="task_08d94452" class="node">
<title>task_08d94452</title>
<g id="a_task_08d94452"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Reload consul to dereigster pgbouncer_exporter">
<polygon fill="none" stroke="#b93b13" points="2254.49,-1380.57 2254.49,-1395.48 2110.13,-1406.02 1905.97,-1406.02 1761.6,-1395.48 1761.6,-1380.57 1905.97,-1370.02 2110.13,-1370.02 2254.49,-1380.57"/>
<text text-anchor="middle" x="2008.05" y="-1384.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer_exporter</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_08d94452 -->
<g id="edge_15_role_594b62b5_task_08d94452" class="edge">
<title>role_594b62b5-&gt;task_08d94452</title>
<g id="a_edge_15_role_594b62b5_task_08d94452"><a xlink:title="15 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1038.95,-1110.58C1074.69,-1110.4 1116.78,-1117.21 1142.58,-1145.02 1175.33,-1180.33 1125.66,-1327.85 1160.58,-1361.02 1203.48,-1401.78 1527.22,-1401.95 1761.59,-1396.47" id="path_edge_15_role_594b62b5_task_08d94452"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1761.71,-1399.96 1771.63,-1396.23 1761.55,-1392.97 1761.71,-1399.96"/>
</a>
</g>
<g id="a_edge_15_role_594b62b5_task_08d94452-label"><a xlink:title="15 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_15_role_594b62b5_task_08d94452" startOffset="653.2775371838098">15 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_482f60b4 -->
<g id="task_482f60b4" class="node">
<title>task_482f60b4</title>
<g id="a_task_482f60b4"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Stop and disable pgbouncer_exporter service">
<polygon fill="none" stroke="#b93b13" points="2242.98,-1326.57 2242.98,-1341.48 2105.36,-1352.02 1910.74,-1352.02 1773.12,-1341.48 1773.12,-1326.57 1910.74,-1316.02 2105.36,-1316.02 2242.98,-1326.57"/>
<text text-anchor="middle" x="2008.05" y="-1330.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer_exporter service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_482f60b4 -->
<g id="edge_16_role_594b62b5_task_482f60b4" class="edge">
<title>role_594b62b5-&gt;task_482f60b4</title>
<g id="a_edge_16_role_594b62b5_task_482f60b4"><a xlink:title="16 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1039.48,-1110.87C1074.94,-1110.9 1116.57,-1117.81 1142.58,-1145.02 1191.71,-1196.44 1108.38,-1255.71 1160.58,-1304.02 1204.08,-1344.29 1528.61,-1345.73 1762.88,-1341.28" id="path_edge_16_role_594b62b5_task_482f60b4"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1762.99,-1344.78 1772.92,-1341.09 1762.85,-1337.78 1762.99,-1344.78"/>
</a>
</g>
<g id="a_edge_16_role_594b62b5_task_482f60b4-label"><a xlink:title="16 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_16_role_594b62b5_task_482f60b4" startOffset="643.7968415265576">16 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_fe4229ba -->
<g id="task_fe4229ba" class="node">
<title>task_fe4229ba</title>
<g id="a_task_fe4229ba"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgbouncer.yml" xlink:title="pg_remove : Remove pgbouncer service from consul">
<polygon fill="none" stroke="#b93b13" points="2224.9,-1272.57 2224.9,-1287.48 2097.87,-1298.02 1918.23,-1298.02 1791.2,-1287.48 1791.2,-1272.57 1918.23,-1262.02 2097.87,-1262.02 2224.9,-1272.57"/>
<text text-anchor="middle" x="2008.05" y="-1276.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_fe4229ba -->
<g id="edge_17_role_594b62b5_task_fe4229ba" class="edge">
<title>role_594b62b5-&gt;task_fe4229ba</title>
<g id="a_edge_17_role_594b62b5_task_fe4229ba"><a xlink:title="17 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1040.47,-1111.57C1075.35,-1112.02 1116.1,-1119.11 1142.58,-1145.02 1174.54,-1176.3 1126.86,-1214.64 1160.58,-1244.02 1206.43,-1283.97 1546.28,-1287.33 1781.15,-1284.7" id="path_edge_17_role_594b62b5_task_fe4229ba"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1781.25,-1288.2 1791.21,-1284.58 1781.17,-1281.2 1781.25,-1288.2"/>
</a>
</g>
<g id="a_edge_17_role_594b62b5_task_fe4229ba-label"><a xlink:title="17 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_17_role_594b62b5_task_fe4229ba" startOffset="578.8992528680427">17 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_b50eee42 -->
<g id="task_b50eee42" class="node">
<title>task_b50eee42</title>
<g id="a_task_b50eee42"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgbouncer.yml" xlink:title="pg_remove : Reload consul to dereigster pgbouncer">
<polygon fill="none" stroke="#b93b13" points="2218.24,-1218.57 2218.24,-1233.48 2095.11,-1244.02 1920.99,-1244.02 1797.86,-1233.48 1797.86,-1218.57 1920.99,-1208.02 2095.11,-1208.02 2218.24,-1218.57"/>
<text text-anchor="middle" x="2008.05" y="-1222.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_b50eee42 -->
<g id="edge_18_role_594b62b5_task_b50eee42" class="edge">
<title>role_594b62b5-&gt;task_b50eee42</title>
<g id="a_edge_18_role_594b62b5_task_b50eee42"><a xlink:title="18 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M1044.1,-1114.92C1076.86,-1116.86 1114.61,-1124.28 1142.58,-1145.02 1157.27,-1155.91 1145.33,-1171.92 1160.58,-1182.02 1211.62,-1215.82 1553.94,-1224.27 1787.32,-1226.05" id="path_edge_18_role_594b62b5_task_b50eee42"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1787.63,-1229.55 1797.65,-1226.12 1787.68,-1222.55 1787.63,-1229.55"/>
</a>
</g>
<g id="a_edge_18_role_594b62b5_task_b50eee42-label"><a xlink:title="18 [when: not pg_safeguard|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_18_role_594b62b5_task_b50eee42" startOffset="529.9791728405385">18 [when: not pg_safeguard|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_98279598 -->
<g id="task_98279598" class="node">
<title>task_98279598</title>
<g id="a_task_98279598"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgbouncer.yml" xlink:title="pg_remove : Stop and disable pgbouncer service">
<polygon fill="none" stroke="#b93b13" points="2206.32,-1164.57 2206.32,-1179.48 2090.18,-1190.02 1925.92,-1190.02 1809.78,-1179.48 1809.78,-1164.57 1925.92,-1154.02 2090.18,-1154.02 2206.32,-1164.57"/>
<text text-anchor="middle" x="2008.05" y="-1168.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_98279598 -->
<g id="edge_19_role_594b62b5_task_98279598" class="edge">
<title>role_594b62b5-&gt;task_98279598</title>
<g id="a_edge_19_role_594b62b5_task_98279598"><a xlink:title="19 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1038.67,-1125.62C1074.6,-1129.55 1120,-1134.13 1160.58,-1137.02 1378.32,-1152.56 1628.1,-1161.84 1799.59,-1166.9" id="path_edge_19_role_594b62b5_task_98279598"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1799.64,-1170.41 1809.74,-1167.2 1799.85,-1163.41 1799.64,-1170.41"/>
</a>
</g>
<g id="a_edge_19_role_594b62b5_task_98279598-label"><a xlink:title="19 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_19_role_594b62b5_task_98279598" startOffset="547.2721283567505">19 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_6fc6d925 -->
<g id="task_6fc6d925" class="node">
<title>task_6fc6d925</title>
<g id="a_task_6fc6d925"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Get actuall pg_role">
<polygon fill="none" stroke="#b93b13" points="2144.5,-1110.57 2144.5,-1125.48 2064.57,-1136.02 1951.53,-1136.02 1871.59,-1125.48 1871.59,-1110.57 1951.53,-1100.02 2064.57,-1100.02 2144.5,-1110.57"/>
<text text-anchor="middle" x="2008.05" y="-1114.32" font-family="Times,serif" font-size="14.00">pg_remove : Get actuall pg_role</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_6fc6d925 -->
<g id="edge_20_role_594b62b5_task_6fc6d925" class="edge">
<title>role_594b62b5-&gt;task_6fc6d925</title>
<g id="a_edge_20_role_594b62b5_task_6fc6d925"><a xlink:title="20 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1045.2,-1118.02C1213.62,-1118.02 1636.52,-1118.02 1861.3,-1118.02" id="path_edge_20_role_594b62b5_task_6fc6d925"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1861.52,-1121.52 1871.52,-1118.02 1861.52,-1114.52 1861.52,-1121.52"/>
</a>
</g>
<g id="a_edge_20_role_594b62b5_task_6fc6d925-label"><a xlink:title="20 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_20_role_594b62b5_task_6fc6d925" startOffset="588.236">20 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_c6e8e0b0 -->
<g id="task_c6e8e0b0" class="node">
<title>task_c6e8e0b0</title>
<g id="a_task_c6e8e0b0"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Get pg_role from result">
<polygon fill="none" stroke="#b93b13" points="2161.27,-1056.57 2161.27,-1071.48 2071.52,-1082.02 1944.58,-1082.02 1854.83,-1071.48 1854.83,-1056.57 1944.58,-1046.02 2071.52,-1046.02 2161.27,-1056.57"/>
<text text-anchor="middle" x="2008.05" y="-1060.32" font-family="Times,serif" font-size="14.00">pg_remove : Get pg_role from result</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_c6e8e0b0 -->
<g id="edge_21_role_594b62b5_task_c6e8e0b0" class="edge">
<title>role_594b62b5-&gt;task_c6e8e0b0</title>
<g id="a_edge_21_role_594b62b5_task_c6e8e0b0"><a xlink:title="21 [when: not pg_safeguard|bool]">
<path fill="none" stroke="#b93b13" d="M1038.67,-1110.42C1074.6,-1106.49 1120,-1101.92 1160.58,-1099.02 1398.28,-1082.06 1674.16,-1072.55 1844.68,-1067.85" id="path_edge_21_role_594b62b5_task_c6e8e0b0"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1844.85,-1071.35 1854.75,-1067.58 1844.66,-1064.35 1844.85,-1071.35"/>
</a>
</g>
<g id="a_edge_21_role_594b62b5_task_c6e8e0b0-label"><a xlink:title="21 [when: not pg_safeguard|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_21_role_594b62b5_task_c6e8e0b0" startOffset="581.5544619739475">21 [when: not pg_safeguard|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_84be0d81 -->
<g id="task_84be0d81" class="node">
<title>task_84be0d81</title>
<g id="a_task_84be0d81"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Set pg_role if applicable">
<polygon fill="none" stroke="#b93b13" points="2164.81,-1002.57 2164.81,-1017.48 2072.98,-1028.02 1943.12,-1028.02 1851.29,-1017.48 1851.29,-1002.57 1943.12,-992.02 2072.98,-992.02 2164.81,-1002.57"/>
<text text-anchor="middle" x="2008.05" y="-1006.32" font-family="Times,serif" font-size="14.00">pg_remove : Set pg_role if applicable</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_84be0d81 -->
<g id="edge_22_role_594b62b5_task_84be0d81" class="edge">
<title>role_594b62b5-&gt;task_84be0d81</title>
<g id="a_edge_22_role_594b62b5_task_84be0d81"><a xlink:title="22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<path fill="none" stroke="#b93b13" d="M1008.74,-1102.33C1045.78,-1086.74 1106.03,-1063.65 1160.58,-1053.02 1393.52,-1007.63 1668.94,-1002.37 1840.85,-1004.68" id="path_edge_22_role_594b62b5_task_84be0d81"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1840.95,-1008.19 1850.99,-1004.83 1841.05,-1001.19 1840.95,-1008.19"/>
</a>
</g>
<g id="a_edge_22_role_594b62b5_task_84be0d81-label"><a xlink:title="22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_22_role_594b62b5_task_84be0d81" startOffset="541.6837654008359">22 [when: not pg_safeguard|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']</textPath></text>
</a>
</g>
</g>
<!-- task_2eee2062 -->
<g id="task_2eee2062" class="node">
<title>task_2eee2062</title>
<g id="a_task_2eee2062"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove follower postgres service from consul">
<polygon fill="none" stroke="#b93b13" points="2250.96,-948.57 2250.96,-963.48 2108.67,-974.02 1907.43,-974.02 1765.14,-963.48 1765.14,-948.57 1907.43,-938.02 2108.67,-938.02 2250.96,-948.57"/>
<text text-anchor="middle" x="2008.05" y="-952.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower postgres service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_2eee2062 -->
<g id="edge_23_role_594b62b5_task_2eee2062" class="edge">
<title>role_594b62b5-&gt;task_2eee2062</title>
<g id="a_edge_23_role_594b62b5_task_2eee2062"><a xlink:title="23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M990.42,-1100.42C1021.15,-1070.14 1089.18,-1009.15 1160.58,-985.02 1266.63,-949.18 1545.95,-945.71 1754.93,-948.79" id="path_edge_23_role_594b62b5_task_2eee2062"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1755.09,-952.29 1765.14,-948.95 1755.19,-945.29 1755.09,-952.29"/>
</a>
</g>
<g id="a_edge_23_role_594b62b5_task_2eee2062-label"><a xlink:title="23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_23_role_594b62b5_task_2eee2062" startOffset="525.2865956617699">23 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_105b01b3 -->
<g id="task_105b01b3" class="node">
<title>task_105b01b3</title>
<g id="a_task_105b01b3"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove follower patroni service from consul">
<polygon fill="none" stroke="#b93b13" points="2245.61,-894.57 2245.61,-909.48 2106.45,-920.02 1909.65,-920.02 1770.49,-909.48 1770.49,-894.57 1909.65,-884.02 2106.45,-884.02 2245.61,-894.57"/>
<text text-anchor="middle" x="2008.05" y="-898.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower patroni service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_105b01b3 -->
<g id="edge_24_role_594b62b5_task_105b01b3" class="edge">
<title>role_594b62b5-&gt;task_105b01b3</title>
<g id="a_edge_24_role_594b62b5_task_105b01b3"><a xlink:title="24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M984.11,-1100.04C1009.15,-1060.2 1075.69,-965.09 1160.58,-928.02 1271.24,-879.7 1588.42,-882.68 1801.51,-891.03" id="path_edge_24_role_594b62b5_task_105b01b3"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1801.44,-894.53 1811.58,-891.43 1801.72,-887.53 1801.44,-894.53"/>
</a>
</g>
<g id="a_edge_24_role_594b62b5_task_105b01b3-label"><a xlink:title="24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_24_role_594b62b5_task_105b01b3" startOffset="594.0819459651401">24 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_58e940a5 -->
<g id="task_58e940a5" class="node">
<title>task_58e940a5</title>
<g id="a_task_58e940a5"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Reload follower consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#b93b13" points="2284.49,-840.57 2284.49,-855.48 2122.56,-866.02 1893.54,-866.02 1731.6,-855.48 1731.6,-840.57 1893.54,-830.02 2122.56,-830.02 2284.49,-840.57"/>
<text text-anchor="middle" x="2008.05" y="-844.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_58e940a5 -->
<g id="edge_25_role_594b62b5_task_58e940a5" class="edge">
<title>role_594b62b5-&gt;task_58e940a5</title>
<g id="a_edge_25_role_594b62b5_task_58e940a5"><a xlink:title="25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M980.15,-1099.98C999.57,-1051.52 1060.32,-918.73 1160.58,-867.02 1271.25,-809.94 1606.23,-820.1 1820.11,-833.49" id="path_edge_25_role_594b62b5_task_58e940a5"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1820,-836.99 1830.2,-834.13 1820.44,-830 1820,-836.99"/>
</a>
</g>
<g id="a_edge_25_role_594b62b5_task_58e940a5-label"><a xlink:title="25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_25_role_594b62b5_task_58e940a5" startOffset="647.539617685467">25 [when: not pg_safeguard|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_613bba5e -->
<g id="task_613bba5e" class="node">
<title>task_613bba5e</title>
<g id="a_task_613bba5e"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable follower patroni service">
<polygon fill="none" stroke="#b93b13" points="2228.44,-786.57 2228.44,-801.48 2099.34,-812.02 1916.76,-812.02 1787.66,-801.48 1787.66,-786.57 1916.76,-776.02 2099.34,-776.02 2228.44,-786.57"/>
<text text-anchor="middle" x="2008.05" y="-790.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower patroni service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_613bba5e -->
<g id="edge_26_role_594b62b5_task_613bba5e" class="edge">
<title>role_594b62b5-&gt;task_613bba5e</title>
<g id="a_edge_26_role_594b62b5_task_613bba5e"><a xlink:title="26 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#b93b13" d="M977.59,-1099.73C991.84,-1043.25 1043.69,-871.32 1160.58,-804.02 1275.55,-737.82 1649.37,-760.02 1859.75,-778.86" id="path_edge_26_role_594b62b5_task_613bba5e"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1859.67,-782.37 1869.95,-779.78 1860.3,-775.4 1859.67,-782.37"/>
</a>
</g>
<g id="a_edge_26_role_594b62b5_task_613bba5e-label"><a xlink:title="26 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_26_role_594b62b5_task_613bba5e" startOffset="749.9516232722184">26 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_d8a9df27 -->
<g id="task_d8a9df27" class="node">
<title>task_d8a9df27</title>
<g id="a_task_d8a9df27"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable follower postgres service">
<polygon fill="none" stroke="#b93b13" points="2233.28,-732.57 2233.28,-747.48 2101.34,-758.02 1914.75,-758.02 1782.81,-747.48 1782.81,-732.57 1914.75,-722.02 2101.34,-722.02 2233.28,-732.57"/>
<text text-anchor="middle" x="2008.05" y="-736.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower postgres service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_d8a9df27 -->
<g id="edge_27_role_594b62b5_task_d8a9df27" class="edge">
<title>role_594b62b5-&gt;task_d8a9df27</title>
<g id="a_edge_27_role_594b62b5_task_d8a9df27"><a xlink:title="27 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#b93b13" d="M975.71,-1099.77C985.08,-1036.17 1025.86,-823.63 1160.58,-740.02 1214.12,-706.79 1575.87,-718.09 1808.81,-729.16" id="path_edge_27_role_594b62b5_task_d8a9df27"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1808.95,-732.67 1819.11,-729.66 1809.29,-725.68 1808.95,-732.67"/>
</a>
</g>
<g id="a_edge_27_role_594b62b5_task_d8a9df27-label"><a xlink:title="27 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_27_role_594b62b5_task_d8a9df27" startOffset="753.8318883882561">27 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_a1ee2452 -->
<g id="task_a1ee2452" class="node">
<title>task_a1ee2452</title>
<g id="a_task_a1ee2452"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Force follower postgres shutdown">
<polygon fill="none" stroke="#b93b13" points="2201.47,-678.57 2201.47,-693.48 2088.17,-704.02 1927.93,-704.02 1814.63,-693.48 1814.63,-678.57 1927.93,-668.02 2088.17,-668.02 2201.47,-678.57"/>
<text text-anchor="middle" x="2008.05" y="-682.32" font-family="Times,serif" font-size="14.00">pg_remove : Force follower postgres shutdown</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_a1ee2452 -->
<g id="edge_28_role_594b62b5_task_a1ee2452" class="edge">
<title>role_594b62b5-&gt;task_a1ee2452</title>
<g id="a_edge_28_role_594b62b5_task_a1ee2452"><a xlink:title="28 [when: not pg_safeguard|bool and pg_role != 'primary']">
<path fill="none" stroke="#b93b13" d="M974.83,-1099.8C981.5,-1032.11 1014.93,-794.03 1160.58,-698.02 1213.23,-663.31 1575.78,-669.75 1809.01,-677.76" id="path_edge_28_role_594b62b5_task_a1ee2452"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1809.21,-681.27 1819.32,-678.12 1809.45,-674.28 1809.21,-681.27"/>
</a>
</g>
<g id="a_edge_28_role_594b62b5_task_a1ee2452-label"><a xlink:title="28 [when: not pg_safeguard|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_28_role_594b62b5_task_a1ee2452" startOffset="784.5521123255382">28 [when: not pg_safeguard|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_29c6578b -->
<g id="task_29c6578b" class="node">
<title>task_29c6578b</title>
<g id="a_task_29c6578b"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove leader postgres service from consul">
<polygon fill="none" stroke="#b93b13" points="2241.67,-624.57 2241.67,-639.48 2104.82,-650.02 1911.28,-650.02 1774.43,-639.48 1774.43,-624.57 1911.28,-614.02 2104.82,-614.02 2241.67,-624.57"/>
<text text-anchor="middle" x="2008.05" y="-628.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader postgres service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_29c6578b -->
<g id="edge_29_role_594b62b5_task_29c6578b" class="edge">
<title>role_594b62b5-&gt;task_29c6578b</title>
<g id="a_edge_29_role_594b62b5_task_29c6578b"><a xlink:title="29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M974.02,-1099.94C977.84,-1028.12 1002.58,-761.55 1160.58,-652.02 1269.54,-576.48 1645.23,-597.47 1857.65,-616.46" id="path_edge_29_role_594b62b5_task_29c6578b"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1857.37,-619.94 1867.64,-617.36 1858,-612.97 1857.37,-619.94"/>
</a>
</g>
<g id="a_edge_29_role_594b62b5_task_29c6578b-label"><a xlink:title="29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_29_role_594b62b5_task_29c6578b" startOffset="830.6776521568185">29 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_ae1ba88d -->
<g id="task_ae1ba88d" class="node">
<title>task_ae1ba88d</title>
<g id="a_task_ae1ba88d"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove leader patroni service from consul">
<polygon fill="none" stroke="#b93b13" points="2237.23,-570.57 2237.23,-585.48 2102.98,-596.02 1913.12,-596.02 1778.87,-585.48 1778.87,-570.57 1913.12,-560.02 2102.98,-560.02 2237.23,-570.57"/>
<text text-anchor="middle" x="2008.05" y="-574.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader patroni service from consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_ae1ba88d -->
<g id="edge_30_role_594b62b5_task_ae1ba88d" class="edge">
<title>role_594b62b5-&gt;task_ae1ba88d</title>
<g id="a_edge_30_role_594b62b5_task_ae1ba88d"><a xlink:title="30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M972.89,-1099.85C972.1,-1021.05 980.63,-707.16 1160.58,-579.02 1212.22,-542.25 1578.84,-554.59 1812.35,-566.55" id="path_edge_30_role_594b62b5_task_ae1ba88d"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1812.51,-570.06 1822.68,-567.08 1812.87,-563.07 1812.51,-570.06"/>
</a>
</g>
<g id="a_edge_30_role_594b62b5_task_ae1ba88d-label"><a xlink:title="30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_30_role_594b62b5_task_ae1ba88d" startOffset="847.3394613803421">30 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_fdae6ff8 -->
<g id="task_fdae6ff8" class="node">
<title>task_fdae6ff8</title>
<g id="a_task_fdae6ff8"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Reload leader consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#b93b13" points="2275.2,-516.57 2275.2,-531.48 2118.71,-542.02 1897.39,-542.02 1740.9,-531.48 1740.9,-516.57 1897.39,-506.02 2118.71,-506.02 2275.2,-516.57"/>
<text text-anchor="middle" x="2008.05" y="-520.32" font-family="Times,serif" font-size="14.00">pg_remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_fdae6ff8 -->
<g id="edge_31_role_594b62b5_task_fdae6ff8" class="edge">
<title>role_594b62b5-&gt;task_fdae6ff8</title>
<g id="a_edge_31_role_594b62b5_task_fdae6ff8"><a xlink:title="31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#b93b13" d="M976.26,-1100.03C991.37,-1009.67 1063.55,-606.74 1160.58,-535.02 1208.86,-499.33 1540.37,-504.72 1773.88,-513.29" id="path_edge_31_role_594b62b5_task_fdae6ff8"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1773.75,-516.79 1783.88,-513.66 1774.01,-509.79 1773.75,-516.79"/>
</a>
</g>
<g id="a_edge_31_role_594b62b5_task_fdae6ff8-label"><a xlink:title="31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_31_role_594b62b5_task_fdae6ff8" startOffset="839.7387703970201">31 [when: not pg_safeguard|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_f0b1ef13 -->
<g id="task_f0b1ef13" class="node">
<title>task_f0b1ef13</title>
<g id="a_task_f0b1ef13"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable leader patroni service">
<polygon fill="none" stroke="#b93b13" points="2219.14,-462.57 2219.14,-477.48 2095.49,-488.02 1920.61,-488.02 1796.95,-477.48 1796.95,-462.57 1920.61,-452.02 2095.49,-452.02 2219.14,-462.57"/>
<text text-anchor="middle" x="2008.05" y="-466.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader patroni service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_f0b1ef13 -->
<g id="edge_32_role_594b62b5_task_f0b1ef13" class="edge">
<title>role_594b62b5-&gt;task_f0b1ef13</title>
<g id="a_edge_32_role_594b62b5_task_f0b1ef13"><a xlink:title="32 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#b93b13" d="M975.84,-1099.86C989.39,-1004.81 1056.97,-565.98 1160.58,-487.02 1209.85,-449.47 1561.29,-454 1795.57,-461.48" id="path_edge_32_role_594b62b5_task_f0b1ef13"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1795.48,-464.98 1805.59,-461.8 1795.71,-457.98 1795.48,-464.98"/>
</a>
</g>
<g id="a_edge_32_role_594b62b5_task_f0b1ef13-label"><a xlink:title="32 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_32_role_594b62b5_task_f0b1ef13" startOffset="920.7492370512316">32 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_9bc0da23 -->
<g id="task_9bc0da23" class="node">
<title>task_9bc0da23</title>
<g id="a_task_9bc0da23"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable leader postgres service">
<polygon fill="none" stroke="#b93b13" points="2223.99,-408.57 2223.99,-423.48 2097.5,-434.02 1918.6,-434.02 1792.11,-423.48 1792.11,-408.57 1918.6,-398.02 2097.5,-398.02 2223.99,-408.57"/>
<text text-anchor="middle" x="2008.05" y="-412.32" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader postgres service</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_9bc0da23 -->
<g id="edge_33_role_594b62b5_task_9bc0da23" class="edge">
<title>role_594b62b5-&gt;task_9bc0da23</title>
<g id="a_edge_33_role_594b62b5_task_9bc0da23"><a xlink:title="33 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#b93b13" d="M975.45,-1099.78C987.42,-1000.19 1049.98,-523.5 1160.58,-437.02 1208.65,-399.43 1550.5,-401.77 1784.79,-408.05" id="path_edge_33_role_594b62b5_task_9bc0da23"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1784.73,-411.55 1794.82,-408.33 1784.92,-404.56 1784.73,-411.55"/>
</a>
</g>
<g id="a_edge_33_role_594b62b5_task_9bc0da23-label"><a xlink:title="33 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_33_role_594b62b5_task_9bc0da23" startOffset="949.8237095857942">33 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_7d9c88ed -->
<g id="task_7d9c88ed" class="node">
<title>task_7d9c88ed</title>
<g id="a_task_7d9c88ed"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Force leader postgres shutdown">
<polygon fill="none" stroke="#b93b13" points="2192.18,-354.57 2192.18,-369.48 2084.32,-380.02 1931.78,-380.02 1823.92,-369.48 1823.92,-354.57 1931.78,-344.02 2084.32,-344.02 2192.18,-354.57"/>
<text text-anchor="middle" x="2008.05" y="-358.32" font-family="Times,serif" font-size="14.00">pg_remove : Force leader postgres shutdown</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_7d9c88ed -->
<g id="edge_34_role_594b62b5_task_7d9c88ed" class="edge">
<title>role_594b62b5-&gt;task_7d9c88ed</title>
<g id="a_edge_34_role_594b62b5_task_7d9c88ed"><a xlink:title="34 [when: not pg_safeguard|bool and pg_role == 'primary']">
<path fill="none" stroke="#b93b13" d="M975.08,-1099.79C985.46,-995.84 1042.55,-479.28 1160.58,-385.02 1210.26,-345.34 1579.42,-348.79 1813.54,-355.19" id="path_edge_34_role_594b62b5_task_7d9c88ed"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1813.45,-358.69 1823.54,-355.47 1813.64,-351.7 1813.45,-358.69"/>
</a>
</g>
<g id="a_edge_34_role_594b62b5_task_7d9c88ed-label"><a xlink:title="34 [when: not pg_safeguard|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_34_role_594b62b5_task_7d9c88ed" startOffset="1010.681220483868">34 [when: not pg_safeguard|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_2db1d05e -->
<g id="task_2db1d05e" class="node">
<title>task_2db1d05e</title>
<g id="a_task_2db1d05e"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove postgres metadata in consul">
<polygon fill="none" stroke="#b93b13" points="2212.08,-300.57 2212.08,-315.48 2092.56,-326.02 1923.54,-326.02 1804.02,-315.48 1804.02,-300.57 1923.54,-290.02 2092.56,-290.02 2212.08,-300.57"/>
<text text-anchor="middle" x="2008.05" y="-304.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres metadata in consul</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_2db1d05e -->
<g id="edge_35_role_594b62b5_task_2db1d05e" class="edge">
<title>role_594b62b5-&gt;task_2db1d05e</title>
<g id="a_edge_35_role_594b62b5_task_2db1d05e"><a xlink:title="35 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'consul']">
<path fill="none" stroke="#b93b13" d="M974.74,-1099.92C983.56,-991.96 1034.86,-434.23 1160.58,-332.02 1208.56,-293.01 1559.19,-294.91 1793.86,-300.8" id="path_edge_35_role_594b62b5_task_2db1d05e"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1793.82,-304.3 1803.9,-301.06 1794,-297.3 1793.82,-304.3"/>
</a>
</g>
<g id="a_edge_35_role_594b62b5_task_2db1d05e-label"><a xlink:title="35 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_35_role_594b62b5_task_2db1d05e" startOffset="1007.7065265867329">35 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_318cda30 -->
<g id="task_318cda30" class="node">
<title>task_318cda30</title>
<g id="a_task_318cda30"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove postgres metadata in etcd">
<polygon fill="none" stroke="#b93b13" points="2203.69,-246.57 2203.69,-261.48 2089.09,-272.02 1927.01,-272.02 1812.41,-261.48 1812.41,-246.57 1927.01,-236.02 2089.09,-236.02 2203.69,-246.57"/>
<text text-anchor="middle" x="2008.05" y="-250.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres metadata in etcd</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_318cda30 -->
<g id="edge_36_role_594b62b5_task_318cda30" class="edge">
<title>role_594b62b5-&gt;task_318cda30</title>
<g id="a_edge_36_role_594b62b5_task_318cda30"><a xlink:title="36 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']">
<path fill="none" stroke="#b93b13" d="M974.46,-1099.8C981.83,-987.29 1027.04,-388.21 1160.58,-278.02 1208.86,-238.18 1567.51,-240.73 1802.22,-246.9" id="path_edge_36_role_594b62b5_task_318cda30"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1802.17,-250.4 1812.26,-247.16 1802.36,-243.4 1802.17,-250.4"/>
</a>
</g>
<g id="a_edge_36_role_594b62b5_task_318cda30-label"><a xlink:title="36 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_36_role_594b62b5_task_318cda30" startOffset="1056.7355921797891">36 [when: not pg_safeguard|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']</textPath></text>
</a>
</g>
</g>
<!-- task_bf52851c -->
<g id="task_bf52851c" class="node">
<title>task_bf52851c</title>
<g id="a_task_bf52851c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgdata.yml" xlink:title="pg_remove : Remove postgres data">
<polygon fill="none" stroke="#b93b13" points="2156.02,-192.57 2156.02,-207.48 2069.34,-218.02 1946.76,-218.02 1860.08,-207.48 1860.08,-192.57 1946.76,-182.02 2069.34,-182.02 2156.02,-192.57"/>
<text text-anchor="middle" x="2008.05" y="-196.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres data</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_bf52851c -->
<g id="edge_37_role_594b62b5_task_bf52851c" class="edge">
<title>role_594b62b5-&gt;task_bf52851c</title>
<g id="a_edge_37_role_594b62b5_task_bf52851c"><a xlink:title="37 [when: not pg_safeguard|bool and rm_pgdata|bool]">
<path fill="none" stroke="#b93b13" d="M974.2,-1099.79C980.17,-983.13 1019.15,-342.26 1160.58,-224.02 1211.98,-181.05 1619.38,-187.1 1849.72,-194.16" id="path_edge_37_role_594b62b5_task_bf52851c"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1849.77,-197.66 1859.87,-194.47 1849.99,-190.66 1849.77,-197.66"/>
</a>
</g>
<g id="a_edge_37_role_594b62b5_task_bf52851c-label"><a xlink:title="37 [when: not pg_safeguard|bool and rm_pgdata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_37_role_594b62b5_task_bf52851c" startOffset="1165.7222405500481">37 [when: not pg_safeguard|bool and rm_pgdata|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_71d32e1d -->
<g id="task_71d32e1d" class="node">
<title>task_71d32e1d</title>
<g id="a_task_71d32e1d"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgpkgs.yml" xlink:title="pg_remove : Remove pg packages">
<polygon fill="none" stroke="#b93b13" points="2152.89,-138.57 2152.89,-153.48 2068.04,-164.02 1948.06,-164.02 1863.21,-153.48 1863.21,-138.57 1948.06,-128.02 2068.04,-128.02 2152.89,-138.57"/>
<text text-anchor="middle" x="2008.05" y="-142.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg packages</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_71d32e1d -->
<g id="edge_38_role_594b62b5_task_71d32e1d" class="edge">
<title>role_594b62b5-&gt;task_71d32e1d</title>
<g id="a_edge_38_role_594b62b5_task_71d32e1d"><a xlink:title="38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#b93b13" d="M973.97,-1099.88C978.58,-979.47 1011.19,-296.37 1160.58,-170.02 1211.97,-126.55 1623.1,-133 1852.91,-140.18" id="path_edge_38_role_594b62b5_task_71d32e1d"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1852.94,-143.69 1863.04,-140.51 1853.16,-136.69 1852.94,-143.69"/>
</a>
</g>
<g id="a_edge_38_role_594b62b5_task_71d32e1d-label"><a xlink:title="38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_38_role_594b62b5_task_71d32e1d" startOffset="1209.1933753788696">38 [when: not pg_safeguard|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_2170cd4b -->
<g id="task_2170cd4b" class="node">
<title>task_2170cd4b</title>
<g id="a_task_2170cd4b"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgpkgs.yml" xlink:title="pg_remove : Remove pg extensions">
<polygon fill="none" stroke="#b93b13" points="2157.74,-84.57 2157.74,-99.48 2070.05,-110.02 1946.05,-110.02 1858.36,-99.48 1858.36,-84.57 1946.05,-74.02 2070.05,-74.02 2157.74,-84.57"/>
<text text-anchor="middle" x="2008.05" y="-88.32" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg extensions</text>
</a>
</g>
</g>
<!-- role_594b62b5&#45;&gt;task_2170cd4b -->
<g id="edge_39_role_594b62b5_task_2170cd4b" class="edge">
<title>role_594b62b5-&gt;task_2170cd4b</title>
<g id="a_edge_39_role_594b62b5_task_2170cd4b"><a xlink:title="39 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#b93b13" d="M973.76,-1099.65C977.1,-974.62 1003.13,-249.45 1160.58,-115.02 1389.36,80.32 1793.25,-21.93 1946.12,-70.83" id="path_edge_39_role_594b62b5_task_2170cd4b"/>
<polygon fill="#b93b13" stroke="#b93b13" points="1945.23,-74.22 1955.82,-73.97 1947.38,-67.56 1945.23,-74.22"/>
</a>
</g>
<g id="a_edge_39_role_594b62b5_task_2170cd4b-label"><a xlink:title="39 [when: not pg_safeguard|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b93b13" dy="-0.2%"><textPath xlink:href="#path_edge_39_role_594b62b5_task_2170cd4b" startOffset="1343.719650836719">39 [when: not pg_safeguard|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
</g>
</g>
</svg>