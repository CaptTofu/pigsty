<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220226.1711)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="3325pt" height="19071pt" viewBox="0.00 0.00 3324.63 19070.90" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param rootElement
 */
function highlightLinkedNodes(rootElement) {
    $(rootElement).find('link').each(function (index, element) {
        let target = $(element).attr('target');
        let currentElement = $('#' + target);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Recursively highlight
        highlightLinkedNodes(currentElement);
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} rootElement
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the rootElement is the current selected element
 */
function unHighlightLinkedNodes(rootElement, isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');

    // Do not unhighlight the current current selected element
    if ($(rootElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(rootElement).find('link').each(function (index, element) {
            let linkedElementId = $(element).attr('target');
            let linkedElement = $('#' + linkedElementId);

            if (linkedElement.attr("id") !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);
                // Recursively unhighlight
                unHighlightLinkedNodes(linkedElement, isHover);
            }
            
        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget);
}

/**
 * Hover handler for mouseleave event
 * @param event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, true);
}

/**
 * Handler when clicking on some elements
 * @param event
 */
function clickOnElement(event) {
    let newClickedElement = $(event.currentTarget);

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked the current selected node
        unHighlightLinkedNodes(currentSelectedElement, false);

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement);
        currentSelectedElement = newClickedElement;
    }
}


$("#svg").ready(function () {
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 19066.9)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-19066.9 3320.63,-19066.9 3320.63,4 -4,4"/>
<!-- infra.yml -->
<g id="root_node" class="node">
<title>infra.yml</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="44.2" cy="-13058.9" rx="44.39" ry="18"/>
<text text-anchor="middle" x="44.2" y="-13055.2" font-family="Times,serif" font-size="14.00">infra.yml</text>
</g>
<!-- play_fac82083 -->
<g id="play_fac82083" class="node">
<title>play_fac82083</title>
<g id="a_play_fac82083"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#ae791e" stroke="#ae791e" points="336.39,-18881.9 193.39,-18881.9 193.39,-18845.9 336.39,-18845.9 336.39,-18881.9"/>
<text text-anchor="middle" x="264.89" y="-18860.2" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Node Identity (3)</text>
</a>
</g>
<links><link target="edge_b6195634"/><link target="edge_23157ef6"/><link target="edge_a11357e5"/></links></g>
<!-- infra.yml&#45;&gt;play_fac82083 -->
<g id="edge_d1ba7541" class="edge">
<title>infra.yml-&gt;play_fac82083</title>
<g id="a_edge_d1ba7541"><a xlink:title="1 ">
<path fill="none" stroke="#ae791e" d="M45.34,-13077.21C47.75,-13390.28 81.23,-17618.55 135.39,-18161.9 161.81,-18426.93 234.47,-18741.85 257.08,-18836" id="path_edge_d1ba7541"/>
<polygon fill="#ae791e" stroke="#ae791e" points="253.72,-18836.99 259.47,-18845.89 260.52,-18835.34 253.72,-18836.99"/>
</a>
</g>
<g id="a_edge_d1ba7541-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#ae791e" dy="-1%"><textPath xlink:href="#path_edge_d1ba7541" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="play_fac82083"/></links></g>
<!-- play_44bb0745 -->
<g id="play_44bb0745" class="node">
<title>play_44bb0745</title>
<g id="a_play_44bb0745"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#6baf1d" stroke="#6baf1d" points="339.89,-18152.9 189.89,-18152.9 189.89,-18116.9 339.89,-18116.9 339.89,-18152.9"/>
<text text-anchor="middle" x="264.89" y="-18131.2" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Infra Bootstrap (3)</text>
</a>
</g>
<links><link target="edge_30682700"/><link target="edge_d8c34717"/></links></g>
<!-- infra.yml&#45;&gt;play_44bb0745 -->
<g id="edge_c7b93ec7" class="edge">
<title>infra.yml-&gt;play_44bb0745</title>
<g id="a_edge_c7b93ec7"><a xlink:title="2 ">
<path fill="none" stroke="#6baf1d" d="M45.99,-13077.28C59.65,-13394.48 245.83,-17715.7 262.67,-18106.64" id="path_edge_c7b93ec7"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="259.19,-18106.98 263.11,-18116.82 266.18,-18106.68 259.19,-18106.98"/>
</a>
</g>
<g id="a_edge_c7b93ec7-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_c7b93ec7" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="play_44bb0745"/></links></g>
<!-- play_f43bb34a -->
<g id="play_f43bb34a" class="node">
<title>play_f43bb34a</title>
<g id="a_play_f43bb34a"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#88a329" stroke="#88a329" points="340.89,-13967.9 188.89,-13967.9 188.89,-13931.9 340.89,-13931.9 340.89,-13967.9"/>
<text text-anchor="middle" x="264.89" y="-13946.2" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Meta Node Init (3)</text>
</a>
</g>
<links><link target="edge_953ee6d2"/><link target="edge_1f9d10ef"/></links></g>
<!-- infra.yml&#45;&gt;play_f43bb34a -->
<g id="edge_b2d15ca6" class="edge">
<title>infra.yml-&gt;play_f43bb34a</title>
<g id="a_edge_b2d15ca6"><a xlink:title="3 ">
<path fill="none" stroke="#88a329" d="M49.66,-13077.1C77.18,-13189.19 223.52,-13785.41 257.05,-13922" id="path_edge_b2d15ca6"/>
<polygon fill="#88a329" stroke="#88a329" points="253.65,-13922.85 259.43,-13931.73 260.45,-13921.18 253.65,-13922.85"/>
</a>
</g>
<g id="a_edge_b2d15ca6-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_b2d15ca6" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="play_f43bb34a"/></links></g>
<!-- play_22497c89 -->
<g id="play_22497c89" class="node">
<title>play_22497c89</title>
<g id="a_play_22497c89"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#b87a14" stroke="#b87a14" points="394.39,-12158.9 135.39,-12158.9 135.39,-12122.9 394.39,-12122.9 394.39,-12158.9"/>
<text text-anchor="middle" x="264.89" y="-12137.2" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Setup Infrastructure on meta nodes (3)</text>
</a>
</g>
<links><link target="edge_b52059c0"/><link target="edge_306f0911"/><link target="edge_ebafe515"/><link target="edge_49d64f72"/><link target="edge_88e155f9"/><link target="edge_d93c4449"/></links></g>
<!-- infra.yml&#45;&gt;play_22497c89 -->
<g id="edge_befaaaf3" class="edge">
<title>infra.yml-&gt;play_22497c89</title>
<g id="a_edge_befaaaf3"><a xlink:title="4 ">
<path fill="none" stroke="#b87a14" d="M49.47,-13040.97C76.52,-12927.42 223.99,-12308.4 257.23,-12168.85" id="path_edge_befaaaf3"/>
<polygon fill="#b87a14" stroke="#b87a14" points="260.68,-12169.48 259.59,-12158.94 253.87,-12167.86 260.68,-12169.48"/>
</a>
</g>
<g id="a_edge_befaaaf3-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_befaaaf3" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="play_22497c89"/></links></g>
<!-- play_7bb60bb1 -->
<g id="play_7bb60bb1" class="node">
<title>play_7bb60bb1</title>
<g id="a_play_7bb60bb1"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="353.89,-9053.9 175.89,-9053.9 175.89,-9017.9 353.89,-9017.9 353.89,-9053.9"/>
<text text-anchor="middle" x="264.89" y="-9032.2" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Meta Node Monitor (3)</text>
</a>
</g>
<links><link target="edge_5ca2184e"/><link target="edge_7bb81f76"/></links></g>
<!-- infra.yml&#45;&gt;play_7bb60bb1 -->
<g id="edge_e6e05c51" class="edge">
<title>infra.yml-&gt;play_7bb60bb1</title>
<g id="a_edge_e6e05c51"><a xlink:title="5 ">
<path fill="none" stroke="#3e8e7f" d="M46.2,-13040.52C61.33,-12762.03 243.68,-9407.78 262.35,-9064.25" id="path_edge_e6e05c51"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="265.85,-9064.31 262.9,-9054.14 258.86,-9063.93 265.85,-9064.31"/>
</a>
</g>
<g id="a_edge_e6e05c51-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_e6e05c51" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="play_7bb60bb1"/></links></g>
<!-- play_331ffd80 -->
<g id="play_331ffd80" class="node">
<title>play_331ffd80</title>
<g id="a_play_331ffd80"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#cb014d" stroke="#cb014d" points="346.89,-2033.9 182.89,-2033.9 182.89,-1997.9 346.89,-1997.9 346.89,-2033.9"/>
<text text-anchor="middle" x="264.89" y="-2012.2" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Meta PGSQL Init (3)</text>
</a>
</g>
<links><link target="edge_3dacd7f1"/><link target="edge_789f021e"/><link target="edge_b574e782"/><link target="edge_626b682e"/></links></g>
<!-- infra.yml&#45;&gt;play_331ffd80 -->
<g id="edge_65b819e2" class="edge">
<title>infra.yml-&gt;play_331ffd80</title>
<g id="a_edge_65b819e2"><a xlink:title="6 ">
<path fill="none" stroke="#cb014d" d="M45.56,-13040.61C55.13,-12557.2 251.42,-2645.89 263.33,-2044.44" id="path_edge_65b819e2"/>
<polygon fill="#cb014d" stroke="#cb014d" points="266.83,-2044.12 263.53,-2034.06 259.84,-2043.99 266.83,-2044.12"/>
</a>
</g>
<g id="a_edge_65b819e2-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_65b819e2" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="play_331ffd80"/></links></g>
<!-- task_c7946a0b -->
<g id="task_c7946a0b" class="node">
<title>task_c7946a0b</title>
<g id="a_task_c7946a0b"><a xlink:title="Overwrite node_cluster">
<polygon fill="none" stroke="#ae791e" points="1706.17,-18937.44 1706.17,-18952.35 1632.45,-18962.9 1528.19,-18962.9 1454.47,-18952.35 1454.47,-18937.44 1528.19,-18926.9 1632.45,-18926.9 1706.17,-18937.44"/>
<text text-anchor="middle" x="1580.32" y="-18941.2" font-family="Times,serif" font-size="14.00">[task] Overwrite node_cluster</text>
</a>
</g>
</g>
<!-- play_fac82083&#45;&gt;task_c7946a0b -->
<g id="edge_b6195634" class="edge">
<title>play_fac82083-&gt;task_c7946a0b</title>
<g id="a_edge_b6195634"><a xlink:title="1 [when: (pg_hostname is defined and pg_hostname|bool) and (node_cluster is not defined or node_cluster == 'nodes' or node_cluster == '') and (pg_cluster is defined and pg_cluster != '')]">
<path fill="none" stroke="#ae791e" d="M317.06,-18881.92C344.88,-18890.86 380.11,-18900.81 412.39,-18905.9 782.21,-18964.18 1225.8,-18958.67 1444.22,-18951.07" id="path_edge_b6195634"/>
<polygon fill="#ae791e" stroke="#ae791e" points="1444.58,-18954.56 1454.45,-18950.71 1444.33,-18947.57 1444.58,-18954.56"/>
</a>
</g>
<g id="a_edge_b6195634-label"><a xlink:title="1 [when: (pg_hostname is defined and pg_hostname|bool) and (node_cluster is not defined or node_cluster == 'nodes' or node_cluster == '') and (pg_cluster is defined and pg_cluster != '')]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#ae791e" dy="-1%"><textPath xlink:href="#path_edge_b6195634" text-anchor="middle" startOffset="50%">1 [when: (pg_hostname is defined and pg_hostname|bool) and (node_cluster is not defined or node_cluster == 'nodes' or node_cluster == '') and (pg_cluster is defined and pg_cluster != '')]</textPath></text>
</a>
</g>
<links><link target="task_c7946a0b"/></links></g>
<!-- task_68f85882 -->
<g id="task_68f85882" class="node">
<title>task_68f85882</title>
<g id="a_task_68f85882"><a xlink:title="Overwrite nodename">
<polygon fill="none" stroke="#ae791e" points="1696.88,-18883.44 1696.88,-18898.35 1628.6,-18908.9 1532.04,-18908.9 1463.76,-18898.35 1463.76,-18883.44 1532.04,-18872.9 1628.6,-18872.9 1696.88,-18883.44"/>
<text text-anchor="middle" x="1580.32" y="-18887.2" font-family="Times,serif" font-size="14.00">[task] Overwrite nodename</text>
</a>
</g>
</g>
<!-- play_fac82083&#45;&gt;task_68f85882 -->
<g id="edge_23157ef6" class="edge">
<title>play_fac82083-&gt;task_68f85882</title>
<g id="a_edge_23157ef6"><a xlink:title="2 [when: (pg_hostname is defined and pg_hostname|bool) and (nodename is not defined or nodename == '') and (pg_cluster is defined and pg_cluster != '' and pg_seq is defined)]">
<path fill="none" stroke="#ae791e" d="M336.51,-18865.35C548.51,-18869.71 1181.56,-18882.72 1453.22,-18888.31" id="path_edge_23157ef6"/>
<polygon fill="#ae791e" stroke="#ae791e" points="1453.45,-18891.81 1463.52,-18888.52 1453.59,-18884.81 1453.45,-18891.81"/>
</a>
</g>
<g id="a_edge_23157ef6-label"><a xlink:title="2 [when: (pg_hostname is defined and pg_hostname|bool) and (nodename is not defined or nodename == '') and (pg_cluster is defined and pg_cluster != '' and pg_seq is defined)]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#ae791e" dy="-1%"><textPath xlink:href="#path_edge_23157ef6" text-anchor="middle" startOffset="50%">2 [when: (pg_hostname is defined and pg_hostname|bool) and (nodename is not defined or nodename == '') and (pg_cluster is defined and pg_cluster != '' and pg_seq is defined)]</textPath></text>
</a>
</g>
<links><link target="task_68f85882"/></links></g>
<!-- task_5e8229b0 -->
<g id="task_5e8229b0" class="node">
<title>task_5e8229b0</title>
<g id="a_task_5e8229b0"><a xlink:title="debug">
<polygon fill="none" stroke="#ae791e" points="1639.5,-18829.44 1639.5,-18844.35 1604.83,-18854.9 1555.8,-18854.9 1521.13,-18844.35 1521.13,-18829.44 1555.8,-18818.9 1604.83,-18818.9 1639.5,-18829.44"/>
<text text-anchor="middle" x="1580.32" y="-18833.2" font-family="Times,serif" font-size="14.00">[task] debug</text>
</a>
</g>
</g>
<!-- play_fac82083&#45;&gt;task_5e8229b0 -->
<g id="edge_a11357e5" class="edge">
<title>play_fac82083-&gt;task_5e8229b0</title>
<g id="a_edge_a11357e5"><a xlink:title="3 ">
<path fill="none" stroke="#ae791e" d="M336.56,-18854.75C360.58,-18852.02 387.62,-18849.36 412.39,-18847.9 829.02,-18823.25 1330.75,-18831.15 1510.84,-18835.17" id="path_edge_a11357e5"/>
<polygon fill="#ae791e" stroke="#ae791e" points="1510.89,-18838.67 1520.97,-18835.4 1511.05,-18831.68 1510.89,-18838.67"/>
</a>
</g>
<g id="a_edge_a11357e5-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#ae791e" dy="-1%"><textPath xlink:href="#path_edge_a11357e5" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_5e8229b0"/></links></g>
<!-- role_82c28e33 -->
<g id="role_82c28e33" class="node">
<title>role_82c28e33</title>
<g id="a_role_82c28e33"><a xlink:title="environ">
<ellipse fill="none" stroke="#6baf1d" cx="1580.32" cy="-18782.9" rx="59.59" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-18779.2" font-family="Times,serif" font-size="14.00">[role] environ</text>
</a>
</g>
<links><link target="edge_550f73ca"/><link target="edge_633307fc"/><link target="edge_489b32e2"/><link target="edge_231371e2"/><link target="edge_c1bcf73e"/><link target="edge_2c5a321d"/><link target="edge_ac0b718a"/><link target="edge_aa818b2d"/></links></g>
<!-- play_44bb0745&#45;&gt;role_82c28e33 -->
<g id="edge_30682700" class="edge">
<title>play_44bb0745-&gt;role_82c28e33</title>
<g id="a_edge_30682700"><a xlink:title="1 ">
<path fill="none" stroke="#6baf1d" d="M302.39,-18152.91C489.9,-18245.42 1343.68,-18666.64 1539.3,-18763.16" id="path_edge_30682700"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="1537.86,-18766.35 1548.38,-18767.63 1540.96,-18760.07 1537.86,-18766.35"/>
</a>
</g>
<g id="a_edge_30682700-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_30682700" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_82c28e33"/></links></g>
<!-- role_0ab5bd43 -->
<g id="role_0ab5bd43" class="node">
<title>role_0ab5bd43</title>
<g id="a_role_0ab5bd43"><a xlink:title="repo">
<ellipse fill="none" stroke="#6baf1d" cx="1580.32" cy="-18134.9" rx="48.19" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-18131.2" font-family="Times,serif" font-size="14.00">[role] repo</text>
</a>
</g>
<links><link target="edge_3f2ed049"/><link target="edge_0b9fd72e"/><link target="edge_833343d2"/><link target="edge_31f35c30"/><link target="edge_4c34091e"/><link target="edge_5140475e"/><link target="edge_39dd54e9"/><link target="edge_71fab4dc"/><link target="edge_fd08db81"/><link target="edge_3f03e79d"/><link target="edge_cb8ef23a"/><link target="edge_7af8dafd"/><link target="edge_545f2562"/><link target="edge_51dc8570"/><link target="edge_6f37f8ab"/><link target="edge_3b6439ad"/><link target="edge_c286822a"/><link target="edge_9bc9871b"/></links></g>
<!-- play_44bb0745&#45;&gt;role_0ab5bd43 -->
<g id="edge_d8c34717" class="edge">
<title>play_44bb0745-&gt;role_0ab5bd43</title>
<g id="a_edge_d8c34717"><a xlink:title="2 ">
<path fill="none" stroke="#6baf1d" d="M340.27,-18134.9C577.08,-18134.9 1310.3,-18134.9 1521.72,-18134.9" id="path_edge_d8c34717"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="1521.97,-18138.4 1531.97,-18134.9 1521.97,-18131.4 1521.97,-18138.4"/>
</a>
</g>
<g id="a_edge_d8c34717-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_d8c34717" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="role_0ab5bd43"/></links></g>
<!-- task_68058fc7 -->
<g id="task_68058fc7" class="node">
<title>task_68058fc7</title>
<g id="a_task_68058fc7"><a xlink:title="environ : Create pigsty resource dirs on /etc/pigsty">
<polygon fill="none" stroke="#6baf1d" points="3241.28,-19018.44 3241.28,-19033.35 3120.99,-19043.9 2950.88,-19043.9 2830.6,-19033.35 2830.6,-19018.44 2950.88,-19007.9 3120.99,-19007.9 3241.28,-19018.44"/>
<text text-anchor="middle" x="3035.94" y="-19022.2" font-family="Times,serif" font-size="14.00">environ : Create pigsty resource dirs on /etc/pigsty</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_68058fc7 -->
<g id="edge_550f73ca" class="edge">
<title>role_82c28e33-&gt;task_68058fc7</title>
<g id="a_edge_550f73ca"><a xlink:title="1 ">
<path fill="none" stroke="#6baf1d" d="M1640.06,-18781.34C1663.97,-18783.92 1689.79,-18791.43 1706.24,-18809.9 1733.57,-18840.58 1694.15,-18965.93 1724.24,-18993.9 1803.59,-19067.65 2489.75,-19049.41 2836.33,-19035.21" id="path_edge_550f73ca"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2836.64,-19038.7 2846.49,-19034.79 2836.35,-19031.7 2836.64,-19038.7"/>
</a>
</g>
<g id="a_edge_550f73ca-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_550f73ca" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_68058fc7"/></links></g>
<!-- task_542d17d3 -->
<g id="task_542d17d3" class="node">
<title>task_542d17d3</title>
<g id="a_task_542d17d3"><a xlink:title="environ : Create patronictl resource">
<polygon fill="none" stroke="#6baf1d" points="3183,-18964.44 3183,-18979.35 3096.85,-18989.9 2975.02,-18989.9 2888.88,-18979.35 2888.88,-18964.44 2975.02,-18953.9 3096.85,-18953.9 3183,-18964.44"/>
<text text-anchor="middle" x="3035.94" y="-18968.2" font-family="Times,serif" font-size="14.00">environ : Create patronictl resource</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_542d17d3 -->
<g id="edge_633307fc" class="edge">
<title>role_82c28e33-&gt;task_542d17d3</title>
<g id="a_edge_633307fc"><a xlink:title="2 ">
<path fill="none" stroke="#6baf1d" d="M1640.06,-18781.67C1663.81,-18784.34 1689.52,-18791.81 1706.24,-18809.9 1746.74,-18853.7 1679.76,-18903.16 1724.24,-18942.9 1766.6,-18980.75 2540.22,-18977.2 2878.63,-18973.8" id="path_edge_633307fc"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2878.8,-18977.3 2888.76,-18973.7 2878.72,-18970.3 2878.8,-18977.3"/>
</a>
</g>
<g id="a_edge_633307fc-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_633307fc" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="task_542d17d3"/></links></g>
<!-- task_aecdaaa6 -->
<g id="task_aecdaaa6" class="node">
<title>task_aecdaaa6</title>
<g id="a_task_aecdaaa6"><a xlink:title="environ : Get current username">
<polygon fill="none" stroke="#6baf1d" points="3167.54,-18910.44 3167.54,-18925.35 3090.45,-18935.9 2981.42,-18935.9 2904.33,-18925.35 2904.33,-18910.44 2981.42,-18899.9 3090.45,-18899.9 3167.54,-18910.44"/>
<text text-anchor="middle" x="3035.94" y="-18914.2" font-family="Times,serif" font-size="14.00">environ : Get current username</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_aecdaaa6 -->
<g id="edge_489b32e2" class="edge">
<title>role_82c28e33-&gt;task_aecdaaa6</title>
<g id="a_edge_489b32e2"><a xlink:title="3 ">
<path fill="none" stroke="#6baf1d" d="M1640.08,-18782.33C1663.56,-18785.16 1689.04,-18792.58 1706.24,-18809.9 1733.76,-18837.6 1694.14,-18871.02 1724.24,-18895.9 1768.71,-18932.65 2565.06,-18924.98 2894.29,-18920.21" id="path_edge_489b32e2"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2894.42,-18923.71 2904.37,-18920.06 2894.32,-18916.71 2894.42,-18923.71"/>
</a>
</g>
<g id="a_edge_489b32e2-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_489b32e2" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_aecdaaa6"/></links></g>
<!-- task_b279ef2c -->
<g id="task_b279ef2c" class="node">
<title>task_b279ef2c</title>
<g id="a_task_b279ef2c"><a xlink:title="environ : Create admin user ssh key pair if not exists">
<polygon fill="none" stroke="#6baf1d" points="3250.57,-18856.44 3250.57,-18871.35 3124.84,-18881.9 2947.03,-18881.9 2821.31,-18871.35 2821.31,-18856.44 2947.03,-18845.9 3124.84,-18845.9 3250.57,-18856.44"/>
<text text-anchor="middle" x="3035.94" y="-18860.2" font-family="Times,serif" font-size="14.00">environ : Create admin user ssh key pair if not exists</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_b279ef2c -->
<g id="edge_231371e2" class="edge">
<title>role_82c28e33-&gt;task_b279ef2c</title>
<g id="a_edge_231371e2"><a xlink:title="4 ">
<path fill="none" stroke="#6baf1d" d="M1636.04,-18789.7C1658.46,-18793.76 1684.25,-18800.1 1706.24,-18809.9 1715.26,-18813.92 1714.9,-18819.72 1724.24,-18822.9 1920.37,-18889.72 2500.23,-18882.25 2818.98,-18872.35" id="path_edge_231371e2"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2819.38,-18875.84 2829.27,-18872.02 2819.16,-18868.84 2819.38,-18875.84"/>
</a>
</g>
<g id="a_edge_231371e2-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_231371e2" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="task_b279ef2c"/></links></g>
<!-- task_8fb97f3d -->
<g id="task_8fb97f3d" class="node">
<title>task_8fb97f3d</title>
<g id="a_task_8fb97f3d"><a xlink:title="environ : Write default user credential to pgpass">
<polygon fill="none" stroke="#6baf1d" points="3231.99,-18802.44 3231.99,-18817.35 3117.14,-18827.9 2954.73,-18827.9 2839.89,-18817.35 2839.89,-18802.44 2954.73,-18791.9 3117.14,-18791.9 3231.99,-18802.44"/>
<text text-anchor="middle" x="3035.94" y="-18806.2" font-family="Times,serif" font-size="14.00">environ : Write default user credential to pgpass</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_8fb97f3d -->
<g id="edge_c1bcf73e" class="edge">
<title>role_82c28e33-&gt;task_8fb97f3d</title>
<g id="a_edge_c1bcf73e"><a xlink:title="5 ">
<path fill="none" stroke="#6baf1d" d="M1640.1,-18783.99C1838.82,-18787.68 2491.88,-18799.81 2829.2,-18806.08" id="path_edge_c1bcf73e"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2829.52,-18809.58 2839.58,-18806.27 2829.65,-18802.58 2829.52,-18809.58"/>
</a>
</g>
<g id="a_edge_c1bcf73e-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_c1bcf73e" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="task_8fb97f3d"/></links></g>
<!-- task_9d87f7f4 -->
<g id="task_9d87f7f4" class="node">
<title>task_9d87f7f4</title>
<g id="a_task_9d87f7f4"><a xlink:title="environ : Write default meta service to pg_service">
<polygon fill="none" stroke="#6baf1d" points="3239.96,-18748.44 3239.96,-18763.35 3120.45,-18773.9 2951.43,-18773.9 2831.91,-18763.35 2831.91,-18748.44 2951.43,-18737.9 3120.45,-18737.9 3239.96,-18748.44"/>
<text text-anchor="middle" x="3035.94" y="-18752.2" font-family="Times,serif" font-size="14.00">environ : Write default meta service to pg_service</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_9d87f7f4 -->
<g id="edge_2c5a321d" class="edge">
<title>role_82c28e33-&gt;task_9d87f7f4</title>
<g id="a_edge_2c5a321d"><a xlink:title="6 ">
<path fill="none" stroke="#6baf1d" d="M1634.47,-18775.16C1661.32,-18771.61 1694.44,-18767.78 1724.24,-18765.9 2110.42,-18741.53 2561.85,-18745.12 2821.47,-18750.28" id="path_edge_2c5a321d"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2821.7,-18753.79 2831.77,-18750.49 2821.84,-18746.79 2821.7,-18753.79"/>
</a>
</g>
<g id="a_edge_2c5a321d-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_2c5a321d" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="task_9d87f7f4"/></links></g>
<!-- task_6417434a -->
<g id="task_6417434a" class="node">
<title>task_6417434a</title>
<g id="a_task_6417434a"><a xlink:title="environ : Set environment for admin user">
<polygon fill="none" stroke="#6baf1d" points="3206.83,-18694.44 3206.83,-18709.35 3106.72,-18719.9 2965.15,-18719.9 2865.04,-18709.35 2865.04,-18694.44 2965.15,-18683.9 3106.72,-18683.9 3206.83,-18694.44"/>
<text text-anchor="middle" x="3035.94" y="-18698.2" font-family="Times,serif" font-size="14.00">environ : Set environment for admin user</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_6417434a -->
<g id="edge_ac0b718a" class="edge">
<title>role_82c28e33-&gt;task_6417434a</title>
<g id="a_edge_ac0b718a"><a xlink:title="7 ">
<path fill="none" stroke="#6baf1d" d="M1611.59,-18767.39C1639.88,-18753.78 1683.73,-18734.95 1724.24,-18726.9 2145.94,-18643.06 2659,-18669.34 2898.95,-18688.88" id="path_edge_ac0b718a"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2898.87,-18692.38 2909.12,-18689.71 2899.44,-18685.41 2898.87,-18692.38"/>
</a>
</g>
<g id="a_edge_ac0b718a-label"><a xlink:title="7 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_ac0b718a" text-anchor="middle" startOffset="50%">7 </textPath></text>
</a>
</g>
<links><link target="task_6417434a"/></links></g>
<!-- task_501a44bc -->
<g id="task_501a44bc" class="node">
<title>task_501a44bc</title>
<g id="a_task_501a44bc"><a xlink:title="environ : Enable environment for admin user">
<polygon fill="none" stroke="#6baf1d" points="3220.97,-18640.44 3220.97,-18655.35 3112.58,-18665.9 2959.29,-18665.9 2850.9,-18655.35 2850.9,-18640.44 2959.29,-18629.9 3112.58,-18629.9 3220.97,-18640.44"/>
<text text-anchor="middle" x="3035.94" y="-18644.2" font-family="Times,serif" font-size="14.00">environ : Enable environment for admin user</text>
</a>
</g>
</g>
<!-- role_82c28e33&#45;&gt;task_501a44bc -->
<g id="edge_aa818b2d" class="edge">
<title>role_82c28e33-&gt;task_501a44bc</title>
<g id="a_edge_aa818b2d"><a xlink:title="8 ">
<path fill="none" stroke="#6baf1d" d="M1593.32,-18765.16C1615.14,-18734.69 1664.64,-18673.39 1724.24,-18649.9 1825,-18610.18 2500.83,-18628.43 2840.63,-18640.4" id="path_edge_aa818b2d"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2840.72,-18643.9 2850.84,-18640.76 2840.97,-18636.91 2840.72,-18643.9"/>
</a>
</g>
<g id="a_edge_aa818b2d-label"><a xlink:title="8 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_aa818b2d" text-anchor="middle" startOffset="50%">8 </textPath></text>
</a>
</g>
<links><link target="task_501a44bc"/></links></g>
<!-- task_fb00860d -->
<g id="task_fb00860d" class="node">
<title>task_fb00860d</title>
<g id="a_task_fb00860d"><a xlink:title="repo : Create local repo directory">
<polygon fill="none" stroke="#6baf1d" points="3174.61,-18586.44 3174.61,-18601.35 3093.38,-18611.9 2978.49,-18611.9 2897.26,-18601.35 2897.26,-18586.44 2978.49,-18575.9 3093.38,-18575.9 3174.61,-18586.44"/>
<text text-anchor="middle" x="3035.94" y="-18590.2" font-family="Times,serif" font-size="14.00">repo : Create local repo directory</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_fb00860d -->
<g id="edge_3f2ed049" class="edge">
<title>role_0ab5bd43-&gt;task_fb00860d</title>
<g id="a_edge_3f2ed049"><a xlink:title="1 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1580.76,-18153.21C1579.78,-18221.32 1586.55,-18461.22 1724.24,-18562.9 1770.3,-18596.91 2553.79,-18596.61 2886.94,-18594.92" id="path_edge_3f2ed049"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2887.16,-18598.42 2897.15,-18594.87 2887.13,-18591.42 2887.16,-18598.42"/>
</a>
</g>
<g id="a_edge_3f2ed049-label"><a xlink:title="1 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_3f2ed049" text-anchor="middle" startOffset="50%">1 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_fb00860d"/></links></g>
<!-- task_3f46c52c -->
<g id="task_3f46c52c" class="node">
<title>task_3f46c52c</title>
<g id="a_task_3f46c52c"><a xlink:title="repo : Backup &amp; remove existing repos">
<polygon fill="none" stroke="#6baf1d" points="3199.76,-18532.44 3199.76,-18547.35 3103.8,-18557.9 2968.08,-18557.9 2872.11,-18547.35 2872.11,-18532.44 2968.08,-18521.9 3103.8,-18521.9 3199.76,-18532.44"/>
<text text-anchor="middle" x="3035.94" y="-18536.2" font-family="Times,serif" font-size="14.00">repo : Backup &amp; remove existing repos</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_3f46c52c -->
<g id="edge_0b9fd72e" class="edge">
<title>role_0ab5bd43-&gt;task_3f46c52c</title>
<g id="a_edge_0b9fd72e"><a xlink:title="2 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1581.51,-18153.11C1583.3,-18216.61 1598.76,-18429.22 1724.24,-18517.9 1769.85,-18550.13 2516.28,-18545.87 2861.85,-18542.12" id="path_edge_0b9fd72e"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2862,-18545.62 2871.96,-18542.01 2861.92,-18538.62 2862,-18545.62"/>
</a>
</g>
<g id="a_edge_0b9fd72e-label"><a xlink:title="2 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_0b9fd72e" text-anchor="middle" startOffset="50%">2 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_3f46c52c"/></links></g>
<!-- task_be467589 -->
<g id="task_be467589" class="node">
<title>task_be467589</title>
<g id="a_task_be467589"><a xlink:title="repo : Add required upstream repos">
<polygon fill="none" stroke="#6baf1d" points="3183.9,-18478.44 3183.9,-18493.35 3097.23,-18503.9 2974.65,-18503.9 2887.97,-18493.35 2887.97,-18478.44 2974.65,-18467.9 3097.23,-18467.9 3183.9,-18478.44"/>
<text text-anchor="middle" x="3035.94" y="-18482.2" font-family="Times,serif" font-size="14.00">repo : Add required upstream repos</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_be467589 -->
<g id="edge_833343d2" class="edge">
<title>role_0ab5bd43-&gt;task_be467589</title>
<g id="a_edge_833343d2"><a xlink:title="3 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1582.99,-18153.21C1589.27,-18209.83 1616.87,-18382.47 1724.24,-18453.9 1818.06,-18516.31 2550.9,-18501.32 2878.09,-18491.32" id="path_edge_833343d2"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2878.24,-18494.82 2888.12,-18491.01 2878.02,-18487.82 2878.24,-18494.82"/>
</a>
</g>
<g id="a_edge_833343d2-label"><a xlink:title="3 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_833343d2" text-anchor="middle" startOffset="50%">3 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_be467589"/></links></g>
<!-- task_9c848863 -->
<g id="task_9c848863" class="node">
<title>task_9c848863</title>
<g id="a_task_9c848863"><a xlink:title="repo : Check repo pkgs cache exists">
<polygon fill="none" stroke="#6baf1d" points="3185.22,-18424.44 3185.22,-18439.35 3097.77,-18449.9 2974.1,-18449.9 2886.66,-18439.35 2886.66,-18424.44 2974.1,-18413.9 3097.77,-18413.9 3185.22,-18424.44"/>
<text text-anchor="middle" x="3035.94" y="-18428.2" font-family="Times,serif" font-size="14.00">repo : Check repo pkgs cache exists</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_9c848863 -->
<g id="edge_31f35c30" class="edge">
<title>role_0ab5bd43-&gt;task_9c848863</title>
<g id="a_edge_31f35c30"><a xlink:title="4 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1584.26,-18152.95C1593.7,-18204.18 1628.39,-18350.58 1724.24,-18409.9 1772.41,-18439.7 2538.54,-18436.45 2876.67,-18433.54" id="path_edge_31f35c30"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2876.82,-18437.04 2886.79,-18433.45 2876.76,-18430.04 2876.82,-18437.04"/>
</a>
</g>
<g id="a_edge_31f35c30-label"><a xlink:title="4 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_31f35c30" text-anchor="middle" startOffset="50%">4 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_9c848863"/></links></g>
<!-- task_493f1c55 -->
<g id="task_493f1c55" class="node">
<title>task_493f1c55</title>
<g id="a_task_493f1c55"><a xlink:title="repo : Set fact whether repo_exists">
<polygon fill="none" stroke="#6baf1d" points="3180.77,-18370.44 3180.77,-18385.35 3095.93,-18395.9 2975.94,-18395.9 2891.1,-18385.35 2891.1,-18370.44 2975.94,-18359.9 3095.93,-18359.9 3180.77,-18370.44"/>
<text text-anchor="middle" x="3035.94" y="-18374.2" font-family="Times,serif" font-size="14.00">repo : Set fact whether repo_exists</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_493f1c55 -->
<g id="edge_4c34091e" class="edge">
<title>role_0ab5bd43-&gt;task_493f1c55</title>
<g id="a_edge_4c34091e"><a xlink:title="5 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1586.77,-18152.86C1601.05,-18196.3 1644.09,-18306.75 1724.24,-18350.9 1823.1,-18405.34 2555.58,-18391.63 2880.49,-18382.69" id="path_edge_4c34091e"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2881.03,-18386.18 2890.93,-18382.4 2880.83,-18379.18 2881.03,-18386.18"/>
</a>
</g>
<g id="a_edge_4c34091e-label"><a xlink:title="5 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_4c34091e" text-anchor="middle" startOffset="50%">5 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_493f1c55"/></links></g>
<!-- task_017b0797 -->
<g id="task_017b0797" class="node">
<title>task_017b0797</title>
<g id="a_task_017b0797"><a xlink:title="repo : Move upstream repo to backup">
<polygon fill="none" stroke="#6baf1d" points="3192.69,-18316.44 3192.69,-18331.35 3100.87,-18341.9 2971,-18341.9 2879.18,-18331.35 2879.18,-18316.44 2971,-18305.9 3100.87,-18305.9 3192.69,-18316.44"/>
<text text-anchor="middle" x="3035.94" y="-18320.2" font-family="Times,serif" font-size="14.00">repo : Move upstream repo to backup</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_017b0797 -->
<g id="edge_5140475e" class="edge">
<title>role_0ab5bd43-&gt;task_017b0797</title>
<g id="a_edge_5140475e"><a xlink:title="6 [when: repo_enabled|bool and repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1590.56,-18152.64C1609.88,-18187.57 1658.28,-18264.49 1724.24,-18294.9 1825.48,-18341.56 2539.35,-18333.79 2868.92,-18327.57" id="path_edge_5140475e"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2869.1,-18331.07 2879.03,-18327.38 2868.97,-18324.07 2869.1,-18331.07"/>
</a>
</g>
<g id="a_edge_5140475e-label"><a xlink:title="6 [when: repo_enabled|bool and repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_5140475e" text-anchor="middle" startOffset="50%">6 [when: repo_enabled|bool and repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_017b0797"/></links></g>
<!-- task_9aa18578 -->
<g id="task_9aa18578" class="node">
<title>task_9aa18578</title>
<g id="a_task_9aa18578"><a xlink:title="repo : Add local file system repos">
<polygon fill="none" stroke="#6baf1d" points="3176.83,-18262.44 3176.83,-18277.35 3094.3,-18287.9 2977.57,-18287.9 2895.04,-18277.35 2895.04,-18262.44 2977.57,-18251.9 3094.3,-18251.9 3176.83,-18262.44"/>
<text text-anchor="middle" x="3035.94" y="-18266.2" font-family="Times,serif" font-size="14.00">repo : Add local file system repos</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_9aa18578 -->
<g id="edge_39dd54e9" class="edge">
<title>role_0ab5bd43-&gt;task_9aa18578</title>
<g id="a_edge_39dd54e9"><a xlink:title="7 [when: repo_enabled|bool and repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1596.29,-18152.32C1620.2,-18178.66 1669.88,-18227.6 1724.24,-18246.9 1830.92,-18284.77 2563.5,-18277.67 2884.63,-18272.62" id="path_edge_39dd54e9"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2885,-18276.12 2894.95,-18272.46 2884.89,-18269.12 2885,-18276.12"/>
</a>
</g>
<g id="a_edge_39dd54e9-label"><a xlink:title="7 [when: repo_enabled|bool and repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_39dd54e9" text-anchor="middle" startOffset="50%">7 [when: repo_enabled|bool and repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_9aa18578"/></links></g>
<!-- task_9aa2801d -->
<g id="task_9aa2801d" class="node">
<title>task_9aa2801d</title>
<g id="a_task_9aa2801d"><a xlink:title="repo : Remake yum cache if not exists">
<polygon fill="none" stroke="#6baf1d" points="3195.82,-18208.44 3195.82,-18223.35 3102.16,-18233.9 2969.71,-18233.9 2876.05,-18223.35 2876.05,-18208.44 2969.71,-18197.9 3102.16,-18197.9 3195.82,-18208.44"/>
<text text-anchor="middle" x="3035.94" y="-18212.2" font-family="Times,serif" font-size="14.00">repo : Remake yum cache if not exists</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_9aa2801d -->
<g id="edge_71fab4dc" class="edge">
<title>role_0ab5bd43-&gt;task_9aa2801d</title>
<g id="a_edge_71fab4dc"><a xlink:title="8 [when: repo_enabled|bool and repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1616.04,-18147.16C1644.67,-18156.66 1686.55,-18169.12 1724.24,-18174.9 2130.29,-18237.13 2615.08,-18232 2865.9,-18223.56" id="path_edge_71fab4dc"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2866.32,-18227.04 2876.19,-18223.2 2866.08,-18220.05 2866.32,-18227.04"/>
</a>
</g>
<g id="a_edge_71fab4dc-label"><a xlink:title="8 [when: repo_enabled|bool and repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_71fab4dc" text-anchor="middle" startOffset="50%">8 [when: repo_enabled|bool and repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_9aa2801d"/></links></g>
<!-- task_418f1ac4 -->
<g id="task_418f1ac4" class="node">
<title>task_418f1ac4</title>
<g id="a_task_418f1ac4"><a xlink:title="repo : Install repo bootstrap packages">
<polygon fill="none" stroke="#6baf1d" points="3191.38,-18154.44 3191.38,-18169.35 3100.32,-18179.9 2971.55,-18179.9 2880.49,-18169.35 2880.49,-18154.44 2971.55,-18143.9 3100.32,-18143.9 3191.38,-18154.44"/>
<text text-anchor="middle" x="3035.94" y="-18158.2" font-family="Times,serif" font-size="14.00">repo : Install repo bootstrap packages</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_418f1ac4 -->
<g id="edge_fd08db81" class="edge">
<title>role_0ab5bd43-&gt;task_418f1ac4</title>
<g id="a_edge_fd08db81"><a xlink:title="9 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1628.44,-18135.77C1819.51,-18139.32 2541.83,-18152.74 2870.41,-18158.84" id="path_edge_fd08db81"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2870.43,-18162.34 2880.49,-18159.03 2870.56,-18155.34 2870.43,-18162.34"/>
</a>
</g>
<g id="a_edge_fd08db81-label"><a xlink:title="9 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_fd08db81" text-anchor="middle" startOffset="50%">9 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_418f1ac4"/></links></g>
<!-- task_106d979c -->
<g id="task_106d979c" class="node">
<title>task_106d979c</title>
<g id="a_task_106d979c"><a xlink:title="repo : Render repo nginx server files">
<polygon fill="none" stroke="#6baf1d" points="3187.84,-18100.44 3187.84,-18115.35 3098.86,-18125.9 2973.01,-18125.9 2884.03,-18115.35 2884.03,-18100.44 2973.01,-18089.9 3098.86,-18089.9 3187.84,-18100.44"/>
<text text-anchor="middle" x="3035.94" y="-18104.2" font-family="Times,serif" font-size="14.00">repo : Render repo nginx server files</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_106d979c -->
<g id="edge_3f03e79d" class="edge">
<title>role_0ab5bd43-&gt;task_106d979c</title>
<g id="a_edge_3f03e79d"><a xlink:title="10 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1625.31,-18128.39C1653.51,-18124.53 1690.95,-18120 1724.24,-18117.9 2137.8,-18091.81 2626.21,-18097.77 2873.72,-18103.39" id="path_edge_3f03e79d"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2873.79,-18106.9 2883.87,-18103.63 2873.96,-18099.9 2873.79,-18106.9"/>
</a>
</g>
<g id="a_edge_3f03e79d-label"><a xlink:title="10 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_3f03e79d" text-anchor="middle" startOffset="50%">10 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_106d979c"/></links></g>
<!-- task_a5e55749 -->
<g id="task_a5e55749" class="node">
<title>task_a5e55749</title>
<g id="a_task_a5e55749"><a xlink:title="repo : Disable selinux for repo server">
<polygon fill="none" stroke="#6baf1d" points="3190.47,-18046.44 3190.47,-18061.35 3099.95,-18071.9 2971.92,-18071.9 2881.4,-18061.35 2881.4,-18046.44 2971.92,-18035.9 3099.95,-18035.9 3190.47,-18046.44"/>
<text text-anchor="middle" x="3035.94" y="-18050.2" font-family="Times,serif" font-size="14.00">repo : Disable selinux for repo server</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_a5e55749 -->
<g id="edge_cb8ef23a" class="edge">
<title>role_0ab5bd43-&gt;task_a5e55749</title>
<g id="a_edge_cb8ef23a"><a xlink:title="11 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1609.43,-18120.43C1637.61,-18106.76 1682.68,-18087.16 1724.24,-18078.9 2150.34,-17994.19 2669.72,-18021.9 2906.38,-18041.49" id="path_edge_cb8ef23a"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2906.14,-18044.98 2916.4,-18042.32 2906.72,-18038 2906.14,-18044.98"/>
</a>
</g>
<g id="a_edge_cb8ef23a-label"><a xlink:title="11 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_cb8ef23a" text-anchor="middle" startOffset="50%">11 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_a5e55749"/></links></g>
<!-- task_48b19157 -->
<g id="task_48b19157" class="node">
<title>task_48b19157</title>
<g id="a_task_48b19157"><a xlink:title="repo : Launch repo nginx server">
<polygon fill="none" stroke="#6baf1d" points="3170.17,-17992.44 3170.17,-18007.35 3091.54,-18017.9 2980.33,-18017.9 2901.7,-18007.35 2901.7,-17992.44 2980.33,-17981.9 3091.54,-17981.9 3170.17,-17992.44"/>
<text text-anchor="middle" x="3035.94" y="-17996.2" font-family="Times,serif" font-size="14.00">repo : Launch repo nginx server</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_48b19157 -->
<g id="edge_7af8dafd" class="edge">
<title>role_0ab5bd43-&gt;task_48b19157</title>
<g id="a_edge_7af8dafd"><a xlink:title="12 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1593.32,-18117.16C1615.14,-18086.69 1664.64,-18025.39 1724.24,-18001.9 1830.3,-17960.09 2573.4,-17982.51 2891.26,-17994.22" id="path_edge_7af8dafd"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2891.34,-17997.73 2901.46,-17994.6 2891.6,-17990.73 2891.34,-17997.73"/>
</a>
</g>
<g id="a_edge_7af8dafd-label"><a xlink:title="12 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_7af8dafd" text-anchor="middle" startOffset="50%">12 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_48b19157"/></links></g>
<!-- task_4e5a6002 -->
<g id="task_4e5a6002" class="node">
<title>task_4e5a6002</title>
<g id="a_task_4e5a6002"><a xlink:title="repo : Waits repo server online">
<polygon fill="none" stroke="#6baf1d" points="3166.23,-17938.44 3166.23,-17953.35 3089.9,-17963.9 2981.97,-17963.9 2905.64,-17953.35 2905.64,-17938.44 2981.97,-17927.9 3089.9,-17927.9 3166.23,-17938.44"/>
<text text-anchor="middle" x="3035.94" y="-17942.2" font-family="Times,serif" font-size="14.00">repo : Waits repo server online</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_4e5a6002 -->
<g id="edge_545f2562" class="edge">
<title>role_0ab5bd43-&gt;task_4e5a6002</title>
<g id="a_edge_545f2562"><a xlink:title="13 [when: repo_enabled|bool]">
<path fill="none" stroke="#6baf1d" d="M1589.16,-18117C1606.84,-18079.21 1653.84,-17991.94 1724.24,-17957.9 1827.38,-17908.03 2579.29,-17929.19 2895.47,-17940.49" id="path_edge_545f2562"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2895.49,-17944 2905.61,-17940.86 2895.74,-17937 2895.49,-17944"/>
</a>
</g>
<g id="a_edge_545f2562-label"><a xlink:title="13 [when: repo_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_545f2562" text-anchor="middle" startOffset="50%">13 [when: repo_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_4e5a6002"/></links></g>
<!-- task_1da65a57 -->
<g id="task_1da65a57" class="node">
<title>task_1da65a57</title>
<g id="a_task_1da65a57"><a xlink:title="repo : Download web url packages">
<polygon fill="none" stroke="#6baf1d" points="3180.77,-17884.44 3180.77,-17899.35 3095.93,-17909.9 2975.94,-17909.9 2891.1,-17899.35 2891.1,-17884.44 2975.94,-17873.9 3095.93,-17873.9 3180.77,-17884.44"/>
<text text-anchor="middle" x="3035.94" y="-17888.2" font-family="Times,serif" font-size="14.00">repo : Download web url packages</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_1da65a57 -->
<g id="edge_51dc8570" class="edge">
<title>role_0ab5bd43-&gt;task_1da65a57</title>
<g id="a_edge_51dc8570"><a xlink:title="14 [when: repo_enabled|bool and not repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1586.13,-18116.94C1599.31,-18071.77 1640.71,-17953.75 1724.24,-17906.9 1822.66,-17851.7 2555.38,-17873.03 2880.42,-17885.44" id="path_edge_51dc8570"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2880.74,-17888.95 2890.86,-17885.84 2881.01,-17881.96 2880.74,-17888.95"/>
</a>
</g>
<g id="a_edge_51dc8570-label"><a xlink:title="14 [when: repo_enabled|bool and not repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_51dc8570" text-anchor="middle" startOffset="50%">14 [when: repo_enabled|bool and not repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_1da65a57"/></links></g>
<!-- task_1adb94db -->
<g id="task_1adb94db" class="node">
<title>task_1adb94db</title>
<g id="a_task_1adb94db"><a xlink:title="repo : Download repo packages">
<polygon fill="none" stroke="#6baf1d" points="3168.86,-17830.44 3168.86,-17845.35 3090.99,-17855.9 2980.88,-17855.9 2903.02,-17845.35 2903.02,-17830.44 2980.88,-17819.9 3090.99,-17819.9 3168.86,-17830.44"/>
<text text-anchor="middle" x="3035.94" y="-17834.2" font-family="Times,serif" font-size="14.00">repo : Download repo packages</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_1adb94db -->
<g id="edge_6f37f8ab" class="edge">
<title>role_0ab5bd43-&gt;task_1adb94db</title>
<g id="a_edge_6f37f8ab"><a xlink:title="15 [when: repo_enabled|bool and not repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1583.97,-18116.62C1592.71,-18064.04 1625.86,-17912.2 1724.24,-17850.9 1821.27,-17790.44 2573.52,-17816.89 2892.6,-17831.06" id="path_edge_6f37f8ab"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2892.7,-17834.56 2902.84,-17831.51 2893.01,-17827.57 2892.7,-17834.56"/>
</a>
</g>
<g id="a_edge_6f37f8ab-label"><a xlink:title="15 [when: repo_enabled|bool and not repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_6f37f8ab" text-anchor="middle" startOffset="50%">15 [when: repo_enabled|bool and not repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_1adb94db"/></links></g>
<!-- task_1c2976de -->
<g id="task_1c2976de" class="node">
<title>task_1c2976de</title>
<g id="a_task_1c2976de"><a xlink:title="repo : Download repo pkg dependencies">
<polygon fill="none" stroke="#6baf1d" points="3201.98,-17776.44 3201.98,-17791.35 3104.72,-17801.9 2967.16,-17801.9 2869.89,-17791.35 2869.89,-17776.44 2967.16,-17765.9 3104.72,-17765.9 3201.98,-17776.44"/>
<text text-anchor="middle" x="3035.94" y="-17780.2" font-family="Times,serif" font-size="14.00">repo : Download repo pkg dependencies</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_1c2976de -->
<g id="edge_3b6439ad" class="edge">
<title>role_0ab5bd43-&gt;task_1c2976de</title>
<g id="a_edge_3b6439ad"><a xlink:title="16 [when: repo_enabled|bool and not repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1582.38,-18116.55C1586.93,-18057.29 1610.16,-17870.41 1724.24,-17793.9 1816.83,-17731.8 2535.73,-17758.92 2867.8,-17775.05" id="path_edge_3b6439ad"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2867.83,-17778.55 2877.99,-17775.54 2868.17,-17771.56 2867.83,-17778.55"/>
</a>
</g>
<g id="a_edge_3b6439ad-label"><a xlink:title="16 [when: repo_enabled|bool and not repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_3b6439ad" text-anchor="middle" startOffset="50%">16 [when: repo_enabled|bool and not repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_1c2976de"/></links></g>
<!-- task_d8ce416a -->
<g id="task_d8ce416a" class="node">
<title>task_d8ce416a</title>
<g id="a_task_d8ce416a"><a xlink:title="repo : Create local repo index">
<polygon fill="none" stroke="#6baf1d" points="3161.79,-17722.44 3161.79,-17737.35 3088.06,-17747.9 2983.81,-17747.9 2910.09,-17737.35 2910.09,-17722.44 2983.81,-17711.9 3088.06,-17711.9 3161.79,-17722.44"/>
<text text-anchor="middle" x="3035.94" y="-17726.2" font-family="Times,serif" font-size="14.00">repo : Create local repo index</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_d8ce416a -->
<g id="edge_c286822a" class="edge">
<title>role_0ab5bd43-&gt;task_d8ce416a</title>
<g id="a_edge_c286822a"><a xlink:title="17 [when: repo_enabled|bool and not repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1581.18,-18116.81C1581.78,-18051.71 1593.59,-17828.33 1724.24,-17735.9 1818.31,-17669.35 2584.04,-17704.35 2899.69,-17721.87" id="path_edge_c286822a"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2899.63,-17725.37 2909.81,-17722.44 2900.02,-17718.38 2899.63,-17725.37"/>
</a>
</g>
<g id="a_edge_c286822a-label"><a xlink:title="17 [when: repo_enabled|bool and not repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_c286822a" text-anchor="middle" startOffset="50%">17 [when: repo_enabled|bool and not repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_d8ce416a"/></links></g>
<!-- task_c426599f -->
<g id="task_c426599f" class="node">
<title>task_c426599f</title>
<g id="a_task_c426599f"><a xlink:title="repo : Mark repo cache as valid">
<polygon fill="none" stroke="#6baf1d" points="3169.76,-17668.44 3169.76,-17683.35 3091.37,-17693.9 2980.5,-17693.9 2902.11,-17683.35 2902.11,-17668.44 2980.5,-17657.9 3091.37,-17657.9 3169.76,-17668.44"/>
<text text-anchor="middle" x="3035.94" y="-17672.2" font-family="Times,serif" font-size="14.00">repo : Mark repo cache as valid</text>
</a>
</g>
</g>
<!-- role_0ab5bd43&#45;&gt;task_c426599f -->
<g id="edge_9bc9871b" class="edge">
<title>role_0ab5bd43-&gt;task_c426599f</title>
<g id="a_edge_9bc9871b"><a xlink:title="18 [when: repo_enabled|bool and not repo_exists]">
<path fill="none" stroke="#6baf1d" d="M1584.11,-18116.81C1596.55,-18038.84 1649.6,-17732.85 1724.24,-17677.9 1770.58,-17643.79 2562.01,-17662.33 2892.13,-17671.62" id="path_edge_9bc9871b"/>
<polygon fill="#6baf1d" stroke="#6baf1d" points="2892.14,-17675.12 2902.24,-17671.91 2892.34,-17668.12 2892.14,-17675.12"/>
</a>
</g>
<g id="a_edge_9bc9871b-label"><a xlink:title="18 [when: repo_enabled|bool and not repo_exists]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6baf1d" dy="-1%"><textPath xlink:href="#path_edge_9bc9871b" text-anchor="middle" startOffset="50%">18 [when: repo_enabled|bool and not repo_exists]</textPath></text>
</a>
</g>
<links><link target="task_c426599f"/></links></g>
<!-- role_a69d4486 -->
<g id="role_a69d4486" class="node">
<title>role_a69d4486</title>
<g id="a_role_a69d4486"><a xlink:title="node">
<ellipse fill="none" stroke="#88a329" cx="1580.32" cy="-16109.9" rx="50.09" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-16106.2" font-family="Times,serif" font-size="14.00">[role] node</text>
</a>
</g>
<links><link target="edge_ab21e7c7"/><link target="edge_c8bd5e63"/><link target="edge_902f0dd8"/><link target="edge_edc78b4b"/><link target="edge_31036319"/><link target="edge_4349f3ca"/><link target="edge_24e60e5c"/><link target="edge_2aabd783"/><link target="edge_b71c8fb5"/><link target="edge_b4b10f82"/><link target="edge_8c785458"/><link target="edge_6c8aa22c"/><link target="edge_00867f01"/><link target="edge_36db7677"/><link target="edge_a5806c2a"/><link target="edge_85cc6432"/><link target="edge_83aecf9a"/><link target="edge_071dd1cf"/><link target="edge_0c2a2229"/><link target="edge_ac0476f4"/><link target="edge_45d4a1a0"/><link target="edge_2ee7c97d"/><link target="edge_155bbfa2"/><link target="edge_bf35eb14"/><link target="edge_b4d49650"/><link target="edge_acdc38fb"/><link target="edge_2076c94e"/><link target="edge_2a05480b"/><link target="edge_70037948"/><link target="edge_88a8e44f"/><link target="edge_4abd2503"/><link target="edge_03e07dc6"/><link target="edge_7fade4ab"/><link target="edge_b8d38669"/><link target="edge_6b0ddd1e"/><link target="edge_b087af2e"/><link target="edge_794dea6f"/><link target="edge_5943a7e2"/><link target="edge_aa8ee928"/><link target="edge_912341db"/><link target="edge_4bbb8fc7"/><link target="edge_05950ff3"/><link target="edge_8d7b7097"/><link target="edge_8586eecd"/><link target="edge_326de85e"/><link target="edge_1c810d6f"/><link target="edge_c744c790"/><link target="edge_7b5e9ba7"/><link target="edge_ad71e57f"/><link target="edge_6eb3f809"/><link target="edge_4d0829b4"/><link target="edge_33abe050"/><link target="edge_a59b1ce4"/><link target="edge_0c01d91a"/><link target="edge_4c7070f6"/><link target="edge_80ec3b99"/></links></g>
<!-- play_f43bb34a&#45;&gt;role_a69d4486 -->
<g id="edge_953ee6d2" class="edge">
<title>play_f43bb34a-&gt;role_a69d4486</title>
<g id="a_edge_953ee6d2"><a xlink:title="1 ">
<path fill="none" stroke="#88a329" d="M276.85,-13967.92C394.47,-14161.35 1421.89,-15850.99 1563.22,-16083.43" id="path_edge_953ee6d2"/>
<polygon fill="#88a329" stroke="#88a329" points="1560.4,-16085.52 1568.59,-16092.25 1566.38,-16081.89 1560.4,-16085.52"/>
</a>
</g>
<g id="a_edge_953ee6d2-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_953ee6d2" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_a69d4486"/></links></g>
<!-- role_944dd294 -->
<g id="role_944dd294" class="node">
<title>role_944dd294</title>
<g id="a_role_944dd294"><a xlink:title="consul">
<ellipse fill="none" stroke="#88a329" cx="1580.32" cy="-13949.9" rx="55.79" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-13946.2" font-family="Times,serif" font-size="14.00">[role] consul</text>
</a>
</g>
<links><link target="edge_4fe5eb4b"/><link target="edge_20bbc99f"/><link target="edge_0402586e"/><link target="edge_1bea0856"/><link target="edge_16fe4f8c"/><link target="edge_8b9fb9c5"/><link target="edge_83dd99d7"/><link target="edge_a4db5fec"/><link target="edge_608b31a8"/><link target="edge_154cf4cd"/><link target="edge_e64077be"/><link target="edge_be95738c"/><link target="edge_e7de043a"/><link target="edge_247b3b49"/><link target="edge_e81c4458"/><link target="edge_3ce44003"/><link target="edge_179502cf"/><link target="edge_efc9faf3"/><link target="edge_9fc53847"/><link target="edge_cc167d6b"/><link target="edge_daa138c6"/><link target="edge_6beb7252"/><link target="edge_372181e0"/><link target="edge_15ce6bfc"/><link target="edge_3037da94"/></links></g>
<!-- play_f43bb34a&#45;&gt;role_944dd294 -->
<g id="edge_1f9d10ef" class="edge">
<title>play_f43bb34a-&gt;role_944dd294</title>
<g id="a_edge_1f9d10ef"><a xlink:title="2 ">
<path fill="none" stroke="#88a329" d="M341.23,-13949.9C576.24,-13949.9 1293.42,-13949.9 1514.04,-13949.9" id="path_edge_1f9d10ef"/>
<polygon fill="#88a329" stroke="#88a329" points="1514.17,-13953.4 1524.17,-13949.9 1514.17,-13946.4 1514.17,-13953.4"/>
</a>
</g>
<g id="a_edge_1f9d10ef-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_1f9d10ef" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="role_944dd294"/></links></g>
<!-- task_b1c22b31 -->
<g id="task_b1c22b31" class="node">
<title>task_b1c22b31</title>
<g id="a_task_b1c22b31"><a xlink:title="node : Set hostname from nodename">
<polygon fill="none" stroke="#88a329" points="3189.16,-17614.44 3189.16,-17629.35 3099.4,-17639.9 2972.47,-17639.9 2882.71,-17629.35 2882.71,-17614.44 2972.47,-17603.9 3099.4,-17603.9 3189.16,-17614.44"/>
<text text-anchor="middle" x="3035.94" y="-17618.2" font-family="Times,serif" font-size="14.00">node : Set hostname from nodename</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_b1c22b31 -->
<g id="edge_ab21e7c7" class="edge">
<title>role_a69d4486-&gt;task_b1c22b31</title>
<g id="a_edge_ab21e7c7"><a xlink:title="1 [when: nodename_overwrite|bool and nodename is defined and nodename != '']">
<path fill="none" stroke="#88a329" d="M1581.65,-16127.96C1584.77,-16289.61 1611.62,-17484.02 1724.24,-17588.9 1765.56,-17627.38 2530.31,-17626.03 2872.17,-17623.48" id="path_edge_ab21e7c7"/>
<polygon fill="#88a329" stroke="#88a329" points="2872.43,-17626.98 2882.41,-17623.4 2872.38,-17619.98 2872.43,-17626.98"/>
</a>
</g>
<g id="a_edge_ab21e7c7-label"><a xlink:title="1 [when: nodename_overwrite|bool and nodename is defined and nodename != '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_ab21e7c7" text-anchor="middle" startOffset="50%">1 [when: nodename_overwrite|bool and nodename is defined and nodename != '']</textPath></text>
</a>
</g>
<links><link target="task_b1c22b31"/></links></g>
<!-- task_a4057cfe -->
<g id="task_a4057cfe" class="node">
<title>task_a4057cfe</title>
<g id="a_task_a4057cfe"><a xlink:title="node : Fetch hostname from server">
<polygon fill="none" stroke="#88a329" points="3182.09,-17560.44 3182.09,-17575.35 3096.47,-17585.9 2975.4,-17585.9 2889.78,-17575.35 2889.78,-17560.44 2975.4,-17549.9 3096.47,-17549.9 3182.09,-17560.44"/>
<text text-anchor="middle" x="3035.94" y="-17564.2" font-family="Times,serif" font-size="14.00">node : Fetch hostname from server</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_a4057cfe -->
<g id="edge_c8bd5e63" class="edge">
<title>role_a69d4486-&gt;task_a4057cfe</title>
<g id="a_edge_c8bd5e63"><a xlink:title="2 [when: nodename_exchange|bool]">
<path fill="none" stroke="#88a329" d="M1581.72,-16128.05C1585.4,-16286.69 1615.68,-17434.17 1724.24,-17534.9 1765.93,-17573.58 2541.35,-17571.98 2879.47,-17569.41" id="path_edge_c8bd5e63"/>
<polygon fill="#88a329" stroke="#88a329" points="2879.62,-17572.91 2889.59,-17569.34 2879.56,-17565.91 2879.62,-17572.91"/>
</a>
</g>
<g id="a_edge_c8bd5e63-label"><a xlink:title="2 [when: nodename_exchange|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_c8bd5e63" text-anchor="middle" startOffset="50%">2 [when: nodename_exchange|bool]</textPath></text>
</a>
</g>
<links><link target="task_a4057cfe"/></links></g>
<!-- task_68164a1d -->
<g id="task_68164a1d" class="node">
<title>task_68164a1d</title>
<g id="a_task_68164a1d"><a xlink:title="node : Exchange hostname among servers">
<polygon fill="none" stroke="#88a329" points="3209.46,-17506.44 3209.46,-17521.35 3107.81,-17531.9 2964.06,-17531.9 2862.41,-17521.35 2862.41,-17506.44 2964.06,-17495.9 3107.81,-17495.9 3209.46,-17506.44"/>
<text text-anchor="middle" x="3035.94" y="-17510.2" font-family="Times,serif" font-size="14.00">node : Exchange hostname among servers</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_68164a1d -->
<g id="edge_902f0dd8" class="edge">
<title>role_a69d4486-&gt;task_68164a1d</title>
<g id="a_edge_902f0dd8"><a xlink:title="3 [when: nodename_exchange|bool]">
<path fill="none" stroke="#88a329" d="M1581.8,-16128.34C1586.08,-16284.64 1619.78,-17384.35 1724.24,-17480.9 1764.91,-17518.49 2501.34,-17517.99 2852.08,-17515.6" id="path_edge_902f0dd8"/>
<polygon fill="#88a329" stroke="#88a329" points="2852.12,-17519.1 2862.09,-17515.53 2852.07,-17512.1 2852.12,-17519.1"/>
</a>
</g>
<g id="a_edge_902f0dd8-label"><a xlink:title="3 [when: nodename_exchange|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_902f0dd8" text-anchor="middle" startOffset="50%">3 [when: nodename_exchange|bool]</textPath></text>
</a>
</g>
<links><link target="task_68164a1d"/></links></g>
<!-- task_e2f4c1f7 -->
<g id="task_e2f4c1f7" class="node">
<title>task_e2f4c1f7</title>
<g id="a_task_e2f4c1f7"><a xlink:title="node : Write static dns records to /etc/hosts">
<polygon fill="none" stroke="#88a329" points="3213,-17452.44 3213,-17467.35 3109.28,-17477.9 2962.6,-17477.9 2858.88,-17467.35 2858.88,-17452.44 2962.6,-17441.9 3109.28,-17441.9 3213,-17452.44"/>
<text text-anchor="middle" x="3035.94" y="-17456.2" font-family="Times,serif" font-size="14.00">node : Write static dns records to /etc/hosts</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_e2f4c1f7 -->
<g id="edge_edc78b4b" class="edge">
<title>role_a69d4486-&gt;task_e2f4c1f7</title>
<g id="a_edge_edc78b4b"><a xlink:title="4 [when: node_dns_hosts is defined and node_dns_hosts|length &gt; 0]">
<path fill="none" stroke="#88a329" d="M1581.87,-16128.09C1586.71,-16280 1623.76,-17334.43 1724.24,-17426.9 1764.86,-17464.28 2496.7,-17463.96 2848.74,-17461.61" id="path_edge_edc78b4b"/>
<polygon fill="#88a329" stroke="#88a329" points="2848.81,-17465.11 2858.79,-17461.54 2848.76,-17458.11 2848.81,-17465.11"/>
</a>
</g>
<g id="a_edge_edc78b4b-label"><a xlink:title="4 [when: node_dns_hosts is defined and node_dns_hosts|length &gt; 0]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_edc78b4b" text-anchor="middle" startOffset="50%">4 [when: node_dns_hosts is defined and node_dns_hosts|length &gt; 0]</textPath></text>
</a>
</g>
<links><link target="task_e2f4c1f7"/></links></g>
<!-- task_b674a80c -->
<g id="task_b674a80c" class="node">
<title>task_b674a80c</title>
<g id="a_task_b674a80c"><a xlink:title="node : Write extra static dns records to /etc/hosts">
<polygon fill="none" stroke="#88a329" points="3235.11,-17398.44 3235.11,-17413.35 3118.44,-17423.9 2953.43,-17423.9 2836.76,-17413.35 2836.76,-17398.44 2953.43,-17387.9 3118.44,-17387.9 3235.11,-17398.44"/>
<text text-anchor="middle" x="3035.94" y="-17402.2" font-family="Times,serif" font-size="14.00">node : Write extra static dns records to /etc/hosts</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_b674a80c -->
<g id="edge_31036319" class="edge">
<title>role_a69d4486-&gt;task_b674a80c</title>
<g id="a_edge_31036319"><a xlink:title="5 [when: node_dns_hosts_extra is defined and node_dns_hosts_extra|length &gt; 0]">
<path fill="none" stroke="#88a329" d="M1581.97,-16128.28C1587.43,-16277.31 1627.83,-17284.58 1724.24,-17372.9 1764.11,-17409.42 2467.03,-17409.91 2826.64,-17407.73" id="path_edge_31036319"/>
<polygon fill="#88a329" stroke="#88a329" points="2826.67,-17411.23 2836.65,-17407.67 2826.63,-17404.23 2826.67,-17411.23"/>
</a>
</g>
<g id="a_edge_31036319-label"><a xlink:title="5 [when: node_dns_hosts_extra is defined and node_dns_hosts_extra|length &gt; 0]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_31036319" text-anchor="middle" startOffset="50%">5 [when: node_dns_hosts_extra is defined and node_dns_hosts_extra|length &gt; 0]</textPath></text>
</a>
</g>
<links><link target="task_b674a80c"/></links></g>
<!-- task_45ffa116 -->
<g id="task_45ffa116" class="node">
<title>task_45ffa116</title>
<g id="a_task_45ffa116"><a xlink:title="node : Get old nameservers">
<polygon fill="none" stroke="#88a329" points="3153.4,-17344.44 3153.4,-17359.35 3084.59,-17369.9 2987.28,-17369.9 2918.47,-17359.35 2918.47,-17344.44 2987.28,-17333.9 3084.59,-17333.9 3153.4,-17344.44"/>
<text text-anchor="middle" x="3035.94" y="-17348.2" font-family="Times,serif" font-size="14.00">node : Get old nameservers</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_45ffa116 -->
<g id="edge_4349f3ca" class="edge">
<title>role_a69d4486-&gt;task_45ffa116</title>
<g id="a_edge_4349f3ca"><a xlink:title="6 [when: node_dns_server is defined and node_dns_server != 'none' and node_dns_server == 'add']">
<path fill="none" stroke="#88a329" d="M1582.05,-16127.95C1588.1,-16272.21 1631.79,-17234.63 1724.24,-17318.9 1767.5,-17358.33 2587.5,-17355.7 2908.05,-17353.14" id="path_edge_4349f3ca"/>
<polygon fill="#88a329" stroke="#88a329" points="2908.34,-17356.64 2918.31,-17353.06 2908.28,-17349.64 2908.34,-17356.64"/>
</a>
</g>
<g id="a_edge_4349f3ca-label"><a xlink:title="6 [when: node_dns_server is defined and node_dns_server != 'none' and node_dns_server == 'add']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_4349f3ca" text-anchor="middle" startOffset="50%">6 [when: node_dns_server is defined and node_dns_server != 'none' and node_dns_server == 'add']</textPath></text>
</a>
</g>
<links><link target="task_45ffa116"/></links></g>
<!-- task_773c5756 -->
<g id="task_773c5756" class="node">
<title>task_773c5756</title>
<g id="a_task_773c5756"><a xlink:title="node : Write tmp resolv file">
<polygon fill="none" stroke="#88a329" points="3154.31,-17290.44 3154.31,-17305.35 3084.97,-17315.9 2986.9,-17315.9 2917.56,-17305.35 2917.56,-17290.44 2986.9,-17279.9 3084.97,-17279.9 3154.31,-17290.44"/>
<text text-anchor="middle" x="3035.94" y="-17294.2" font-family="Times,serif" font-size="14.00">node : Write tmp resolv file</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_773c5756 -->
<g id="edge_24e60e5c" class="edge">
<title>role_a69d4486-&gt;task_773c5756</title>
<g id="a_edge_24e60e5c"><a xlink:title="7 [when: node_dns_server is defined and node_dns_server != 'none']">
<path fill="none" stroke="#88a329" d="M1582.16,-16128.03C1588.88,-16268.87 1635.83,-17184.75 1724.24,-17264.9 1767.57,-17304.17 2586.07,-17301.66 2907.19,-17299.14" id="path_edge_24e60e5c"/>
<polygon fill="#88a329" stroke="#88a329" points="2907.5,-17302.63 2917.47,-17299.05 2907.45,-17295.63 2907.5,-17302.63"/>
</a>
</g>
<g id="a_edge_24e60e5c-label"><a xlink:title="7 [when: node_dns_server is defined and node_dns_server != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_24e60e5c" text-anchor="middle" startOffset="50%">7 [when: node_dns_server is defined and node_dns_server != 'none']</textPath></text>
</a>
</g>
<links><link target="task_773c5756"/></links></g>
<!-- task_a43e2b99 -->
<g id="task_a43e2b99" class="node">
<title>task_a43e2b99</title>
<g id="a_task_a43e2b99"><a xlink:title="node : Write resolv options">
<polygon fill="none" stroke="#88a329" points="3152.09,-17236.44 3152.09,-17251.35 3084.05,-17261.9 2987.82,-17261.9 2919.78,-17251.35 2919.78,-17236.44 2987.82,-17225.9 3084.05,-17225.9 3152.09,-17236.44"/>
<text text-anchor="middle" x="3035.94" y="-17240.2" font-family="Times,serif" font-size="14.00">node : Write resolv options</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_a43e2b99 -->
<g id="edge_2aabd783" class="edge">
<title>role_a69d4486-&gt;task_a43e2b99</title>
<g id="a_edge_2aabd783"><a xlink:title="8 [when: node_dns_server is defined and node_dns_server != 'none']">
<path fill="none" stroke="#88a329" d="M1582.27,-16128.05C1589.68,-16265.16 1639.85,-17134.85 1724.24,-17210.9 1767.79,-17250.14 2590.06,-17247.59 2909.51,-17245.1" id="path_edge_2aabd783"/>
<polygon fill="#88a329" stroke="#88a329" points="2909.77,-17248.6 2919.74,-17245.02 2909.71,-17241.6 2909.77,-17248.6"/>
</a>
</g>
<g id="a_edge_2aabd783-label"><a xlink:title="8 [when: node_dns_server is defined and node_dns_server != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_2aabd783" text-anchor="middle" startOffset="50%">8 [when: node_dns_server is defined and node_dns_server != 'none']</textPath></text>
</a>
</g>
<links><link target="task_a43e2b99"/></links></g>
<!-- task_fd4f6a52 -->
<g id="task_fd4f6a52" class="node">
<title>task_fd4f6a52</title>
<g id="a_task_fd4f6a52"><a xlink:title="node : Write additional nameservers">
<polygon fill="none" stroke="#88a329" points="3186.94,-17182.44 3186.94,-17197.35 3098.48,-17207.9 2973.39,-17207.9 2884.93,-17197.35 2884.93,-17182.44 2973.39,-17171.9 3098.48,-17171.9 3186.94,-17182.44"/>
<text text-anchor="middle" x="3035.94" y="-17186.2" font-family="Times,serif" font-size="14.00">node : Write additional nameservers</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_fd4f6a52 -->
<g id="edge_b71c8fb5" class="edge">
<title>role_a69d4486-&gt;task_fd4f6a52</title>
<g id="a_edge_b71c8fb5"><a xlink:title="9 [when: node_dns_server is defined and node_dns_server != 'none']">
<path fill="none" stroke="#88a329" d="M1582.4,-16128C1590.52,-16261.08 1643.85,-17084.93 1724.24,-17156.9 1766.4,-17194.64 2533.98,-17193.66 2874.51,-17191.34" id="path_edge_b71c8fb5"/>
<polygon fill="#88a329" stroke="#88a329" points="2874.74,-17194.84 2884.71,-17191.27 2874.69,-17187.84 2874.74,-17194.84"/>
</a>
</g>
<g id="a_edge_b71c8fb5-label"><a xlink:title="9 [when: node_dns_server is defined and node_dns_server != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_b71c8fb5" text-anchor="middle" startOffset="50%">9 [when: node_dns_server is defined and node_dns_server != 'none']</textPath></text>
</a>
</g>
<links><link target="task_fd4f6a52"/></links></g>
<!-- task_7ecd3a2a -->
<g id="task_7ecd3a2a" class="node">
<title>task_7ecd3a2a</title>
<g id="a_task_7ecd3a2a"><a xlink:title="node : Append existing nameservers">
<polygon fill="none" stroke="#88a329" points="3186.94,-17128.44 3186.94,-17143.35 3098.48,-17153.9 2973.39,-17153.9 2884.93,-17143.35 2884.93,-17128.44 2973.39,-17117.9 3098.48,-17117.9 3186.94,-17128.44"/>
<text text-anchor="middle" x="3035.94" y="-17132.2" font-family="Times,serif" font-size="14.00">node : Append existing nameservers</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_7ecd3a2a -->
<g id="edge_b4b10f82" class="edge">
<title>role_a69d4486-&gt;task_7ecd3a2a</title>
<g id="a_edge_b4b10f82"><a xlink:title="10 [when: node_dns_server is defined and node_dns_server != 'none' and node_dns_server == 'add' and item not in node_dns_servers]">
<path fill="none" stroke="#88a329" d="M1582.56,-16128.28C1591.51,-16258.14 1648.01,-17034.12 1724.24,-17101.9 1766.53,-17139.5 2534.04,-17139.2 2874.53,-17137.19" id="path_edge_b4b10f82"/>
<polygon fill="#88a329" stroke="#88a329" points="2874.75,-17140.69 2884.73,-17137.13 2874.71,-17133.69 2874.75,-17140.69"/>
</a>
</g>
<g id="a_edge_b4b10f82-label"><a xlink:title="10 [when: node_dns_server is defined and node_dns_server != 'none' and node_dns_server == 'add' and item not in node_dns_servers]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_b4b10f82" text-anchor="middle" startOffset="50%">10 [when: node_dns_server is defined and node_dns_server != 'none' and node_dns_server == 'add' and item not in node_dns_servers]</textPath></text>
</a>
</g>
<links><link target="task_7ecd3a2a"/></links></g>
<!-- task_47dbd3c6 -->
<g id="task_47dbd3c6" class="node">
<title>task_47dbd3c6</title>
<g id="a_task_47dbd3c6"><a xlink:title="node : Swap resolv.conf">
<polygon fill="none" stroke="#88a329" points="3140.17,-17074.44 3140.17,-17089.35 3079.11,-17099.9 2992.76,-17099.9 2931.7,-17089.35 2931.7,-17074.44 2992.76,-17063.9 3079.11,-17063.9 3140.17,-17074.44"/>
<text text-anchor="middle" x="3035.94" y="-17078.2" font-family="Times,serif" font-size="14.00">node : Swap resolv.conf</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_47dbd3c6 -->
<g id="edge_8c785458" class="edge">
<title>role_a69d4486-&gt;task_47dbd3c6</title>
<g id="a_edge_8c785458"><a xlink:title="11 [when: node_dns_server is defined and node_dns_server != 'none']">
<path fill="none" stroke="#88a329" d="M1581.09,-16128.18C1579.98,-16248.07 1580.32,-16920.96 1724.24,-17047.9 1768.75,-17087.15 2610.73,-17085.01 2921.21,-17082.87" id="path_edge_8c785458"/>
<polygon fill="#88a329" stroke="#88a329" points="2921.61,-17086.37 2931.58,-17082.8 2921.56,-17079.37 2921.61,-17086.37"/>
</a>
</g>
<g id="a_edge_8c785458-label"><a xlink:title="11 [when: node_dns_server is defined and node_dns_server != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_8c785458" text-anchor="middle" startOffset="50%">11 [when: node_dns_server is defined and node_dns_server != 'none']</textPath></text>
</a>
</g>
<links><link target="task_47dbd3c6"/></links></g>
<!-- task_935e7c08 -->
<g id="task_935e7c08" class="node">
<title>task_935e7c08</title>
<g id="a_task_935e7c08"><a xlink:title="node : Node configure disable firewall">
<polygon fill="none" stroke="#88a329" points="3194.01,-17020.44 3194.01,-17035.35 3101.41,-17045.9 2970.46,-17045.9 2877.86,-17035.35 2877.86,-17020.44 2970.46,-17009.9 3101.41,-17009.9 3194.01,-17020.44"/>
<text text-anchor="middle" x="3035.94" y="-17024.2" font-family="Times,serif" font-size="14.00">node : Node configure disable firewall</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_935e7c08 -->
<g id="edge_6c8aa22c" class="edge">
<title>role_a69d4486-&gt;task_935e7c08</title>
<g id="a_edge_6c8aa22c"><a xlink:title="12 [when: node_disable_firewall]">
<path fill="none" stroke="#88a329" d="M1581.27,-16128.25C1581.38,-16244.27 1588.3,-16875.1 1724.24,-16993.9 1766.57,-17030.89 2524.09,-17031.04 2867.79,-17029.18" id="path_edge_6c8aa22c"/>
<polygon fill="#88a329" stroke="#88a329" points="2867.85,-17032.68 2877.83,-17029.12 2867.81,-17025.68 2867.85,-17032.68"/>
</a>
</g>
<g id="a_edge_6c8aa22c-label"><a xlink:title="12 [when: node_disable_firewall]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_6c8aa22c" text-anchor="middle" startOffset="50%">12 [when: node_disable_firewall]</textPath></text>
</a>
</g>
<links><link target="task_935e7c08"/></links></g>
<!-- task_1dabada2 -->
<g id="task_1dabada2" class="node">
<title>task_1dabada2</title>
<g id="a_task_1dabada2"><a xlink:title="node : Node disable selinux by default">
<polygon fill="none" stroke="#88a329" points="3195.82,-16966.44 3195.82,-16981.35 3102.16,-16991.9 2969.71,-16991.9 2876.05,-16981.35 2876.05,-16966.44 2969.71,-16955.9 3102.16,-16955.9 3195.82,-16966.44"/>
<text text-anchor="middle" x="3035.94" y="-16970.2" font-family="Times,serif" font-size="14.00">node : Node disable selinux by default</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_1dabada2 -->
<g id="edge_00867f01" class="edge">
<title>role_a69d4486-&gt;task_1dabada2</title>
<g id="a_edge_00867f01"><a xlink:title="13 [when: node_disable_selinux]">
<path fill="none" stroke="#88a329" d="M1581.48,-16128.21C1582.86,-16239.97 1596.23,-16829.18 1724.24,-16939.9 1766.68,-16976.6 2521.33,-16976.94 2865.87,-16975.15" id="path_edge_00867f01"/>
<polygon fill="#88a329" stroke="#88a329" points="2865.96,-16978.65 2875.95,-16975.1 2865.93,-16971.65 2865.96,-16978.65"/>
</a>
</g>
<g id="a_edge_00867f01-label"><a xlink:title="13 [when: node_disable_selinux]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_00867f01" text-anchor="middle" startOffset="50%">13 [when: node_disable_selinux]</textPath></text>
</a>
</g>
<links><link target="task_1dabada2"/></links></g>
<!-- task_fd7a7b0e -->
<g id="task_fd7a7b0e" class="node">
<title>task_fd7a7b0e</title>
<g id="a_task_fd7a7b0e"><a xlink:title="node : Backup existing repos">
<polygon fill="none" stroke="#88a329" points="3159.16,-16912.44 3159.16,-16927.35 3086.98,-16937.9 2984.9,-16937.9 2912.71,-16927.35 2912.71,-16912.44 2984.9,-16901.9 3086.98,-16901.9 3159.16,-16912.44"/>
<text text-anchor="middle" x="3035.94" y="-16916.2" font-family="Times,serif" font-size="14.00">node : Backup existing repos</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_fd7a7b0e -->
<g id="edge_36db7677" class="edge">
<title>role_a69d4486-&gt;task_fd7a7b0e</title>
<g id="a_edge_36db7677"><a xlink:title="14 [when: node_repo_remove|bool]">
<path fill="none" stroke="#88a329" d="M1581.71,-16128.06C1584.42,-16235.17 1604.11,-16783.2 1724.24,-16885.9 1768.46,-16923.7 2578.17,-16922.81 2902.36,-16920.92" id="path_edge_36db7677"/>
<polygon fill="#88a329" stroke="#88a329" points="2902.77,-16924.41 2912.75,-16920.85 2902.73,-16917.41 2902.77,-16924.41"/>
</a>
</g>
<g id="a_edge_36db7677-label"><a xlink:title="14 [when: node_repo_remove|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_36db7677" text-anchor="middle" startOffset="50%">14 [when: node_repo_remove|bool]</textPath></text>
</a>
</g>
<links><link target="task_fd7a7b0e"/></links></g>
<!-- task_4b422a76 -->
<g id="task_4b422a76" class="node">
<title>task_4b422a76</title>
<g id="a_task_4b422a76"><a xlink:title="node : Install upstream repo">
<polygon fill="none" stroke="#88a329" points="3155.62,-16858.44 3155.62,-16873.35 3085.51,-16883.9 2986.36,-16883.9 2916.25,-16873.35 2916.25,-16858.44 2986.36,-16847.9 3085.51,-16847.9 3155.62,-16858.44"/>
<text text-anchor="middle" x="3035.94" y="-16862.2" font-family="Times,serif" font-size="14.00">node : Install upstream repo</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_4b422a76 -->
<g id="edge_a5806c2a" class="edge">
<title>role_a69d4486-&gt;task_4b422a76</title>
<g id="a_edge_a5806c2a"><a xlink:title="15 [when: node_repo_method == &quot;public&quot;]">
<path fill="none" stroke="#88a329" d="M1581.98,-16128.13C1586.11,-16230.97 1612.04,-16737.26 1724.24,-16831.9 1768.88,-16869.54 2584.15,-16868.68 2905.9,-16866.86" id="path_edge_a5806c2a"/>
<polygon fill="#88a329" stroke="#88a329" points="2906.23,-16870.36 2916.2,-16866.8 2906.18,-16863.36 2906.23,-16870.36"/>
</a>
</g>
<g id="a_edge_a5806c2a-label"><a xlink:title="15 [when: node_repo_method == &quot;public&quot;]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_a5806c2a" text-anchor="middle" startOffset="50%">15 [when: node_repo_method == "public"]</textPath></text>
</a>
</g>
<links><link target="task_4b422a76"/></links></g>
<!-- task_ed236914 -->
<g id="task_ed236914" class="node">
<title>task_ed236914</title>
<g id="a_task_ed236914"><a xlink:title="node : Install local repo">
<polygon fill="none" stroke="#88a329" points="3138.86,-16804.44 3138.86,-16819.35 3078.57,-16829.9 2993.31,-16829.9 2933.02,-16819.35 2933.02,-16804.44 2993.31,-16793.9 3078.57,-16793.9 3138.86,-16804.44"/>
<text text-anchor="middle" x="3035.94" y="-16808.2" font-family="Times,serif" font-size="14.00">node : Install local repo</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_ed236914 -->
<g id="edge_85cc6432" class="edge">
<title>role_a69d4486-&gt;task_ed236914</title>
<g id="a_edge_85cc6432"><a xlink:title="16 [when: node_repo_method == &quot;local&quot;]">
<path fill="none" stroke="#88a329" d="M1582.28,-16128.05C1587.91,-16226.09 1619.88,-16691.24 1724.24,-16777.9 1769.97,-16815.87 2613.65,-16814.51 2922.7,-16812.73" id="path_edge_85cc6432"/>
<polygon fill="#88a329" stroke="#88a329" points="2923.05,-16816.22 2933.03,-16812.67 2923.01,-16809.22 2923.05,-16816.22"/>
</a>
</g>
<g id="a_edge_85cc6432-label"><a xlink:title="16 [when: node_repo_method == &quot;local&quot;]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_85cc6432" text-anchor="middle" startOffset="50%">16 [when: node_repo_method == "local"]</textPath></text>
</a>
</g>
<links><link target="task_ed236914"/></links></g>
<!-- task_d78a46bb -->
<g id="task_d78a46bb" class="node">
<title>task_d78a46bb</title>
<g id="a_task_d78a46bb"><a xlink:title="node : Install node basic packages">
<polygon fill="none" stroke="#88a329" points="3178.55,-16750.44 3178.55,-16765.35 3095.01,-16775.9 2976.86,-16775.9 2893.32,-16765.35 2893.32,-16750.44 2976.86,-16739.9 3095.01,-16739.9 3178.55,-16750.44"/>
<text text-anchor="middle" x="3035.94" y="-16754.2" font-family="Times,serif" font-size="14.00">node : Install node basic packages</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_d78a46bb -->
<g id="edge_83aecf9a" class="edge">
<title>role_a69d4486-&gt;task_d78a46bb</title>
<g id="a_edge_83aecf9a"><a xlink:title="17 [when: node_repo_method == 'public']">
<path fill="none" stroke="#88a329" d="M1582.65,-16128.11C1589.89,-16221.48 1627.75,-16645.23 1724.24,-16723.9 1768.45,-16759.95 2547.29,-16760.39 2883,-16758.88" id="path_edge_83aecf9a"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.3,-16762.38 2893.29,-16758.83 2883.27,-16755.38 2883.3,-16762.38"/>
</a>
</g>
<g id="a_edge_83aecf9a-label"><a xlink:title="17 [when: node_repo_method == 'public']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_83aecf9a" text-anchor="middle" startOffset="50%">17 [when: node_repo_method == 'public']</textPath></text>
</a>
</g>
<links><link target="task_d78a46bb"/></links></g>
<!-- task_1381aa4d -->
<g id="task_1381aa4d" class="node">
<title>task_1381aa4d</title>
<g id="a_task_1381aa4d"><a xlink:title="node : Install node extra packages">
<polygon fill="none" stroke="#88a329" points="3178.15,-16696.44 3178.15,-16711.35 3094.84,-16721.9 2977.03,-16721.9 2893.72,-16711.35 2893.72,-16696.44 2977.03,-16685.9 3094.84,-16685.9 3178.15,-16696.44"/>
<text text-anchor="middle" x="3035.94" y="-16700.2" font-family="Times,serif" font-size="14.00">node : Install node extra packages</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_1381aa4d -->
<g id="edge_071dd1cf" class="edge">
<title>role_a69d4486-&gt;task_1381aa4d</title>
<g id="a_edge_071dd1cf"><a xlink:title="18 [when: node_repo_method == 'public']">
<path fill="none" stroke="#88a329" d="M1583.06,-16127.96C1591.98,-16216.04 1635.51,-16599.11 1724.24,-16669.9 1768.85,-16705.49 2547.93,-16706.18 2883.36,-16704.81" id="path_edge_071dd1cf"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.66,-16708.31 2893.64,-16704.77 2883.63,-16701.31 2883.66,-16708.31"/>
</a>
</g>
<g id="a_edge_071dd1cf-label"><a xlink:title="18 [when: node_repo_method == 'public']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_071dd1cf" text-anchor="middle" startOffset="50%">18 [when: node_repo_method == 'public']</textPath></text>
</a>
</g>
<links><link target="task_1381aa4d"/></links></g>
<!-- task_a14e0c85 -->
<g id="task_a14e0c85" class="node">
<title>task_a14e0c85</title>
<g id="a_task_a14e0c85"><a xlink:title="node : Install meta specific packages">
<polygon fill="none" stroke="#88a329" points="3188.75,-16642.44 3188.75,-16657.35 3099.23,-16667.9 2972.64,-16667.9 2883.12,-16657.35 2883.12,-16642.44 2972.64,-16631.9 3099.23,-16631.9 3188.75,-16642.44"/>
<text text-anchor="middle" x="3035.94" y="-16646.2" font-family="Times,serif" font-size="14.00">node : Install meta specific packages</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_a14e0c85 -->
<g id="edge_0c2a2229" class="edge">
<title>role_a69d4486-&gt;task_a14e0c85</title>
<g id="a_edge_0c2a2229"><a xlink:title="19 [when: node_repo_method == 'public' and meta_node|bool]">
<path fill="none" stroke="#88a329" d="M1583.56,-16127.9C1594.27,-16210.73 1643.09,-16553.84 1724.24,-16616.9 1768.84,-16651.55 2532.25,-16652.31 2872.98,-16650.9" id="path_edge_0c2a2229"/>
<polygon fill="#88a329" stroke="#88a329" points="2873.2,-16654.4 2883.19,-16650.85 2873.17,-16647.4 2873.2,-16654.4"/>
</a>
</g>
<g id="a_edge_0c2a2229-label"><a xlink:title="19 [when: node_repo_method == 'public' and meta_node|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_0c2a2229" text-anchor="middle" startOffset="50%">19 [when: node_repo_method == 'public' and meta_node|bool]</textPath></text>
</a>
</g>
<links><link target="task_a14e0c85"/></links></g>
<!-- task_71d8243f -->
<g id="task_71d8243f" class="node">
<title>task_71d8243f</title>
<g id="a_task_71d8243f"><a xlink:title="node : Install node basic packages">
<polygon fill="none" stroke="#88a329" points="3178.55,-16588.44 3178.55,-16603.35 3095.01,-16613.9 2976.86,-16613.9 2893.32,-16603.35 2893.32,-16588.44 2976.86,-16577.9 3095.01,-16577.9 3178.55,-16588.44"/>
<text text-anchor="middle" x="3035.94" y="-16592.2" font-family="Times,serif" font-size="14.00">node : Install node basic packages</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_71d8243f -->
<g id="edge_ac0476f4" class="edge">
<title>role_a69d4486-&gt;task_71d8243f</title>
<g id="a_edge_ac0476f4"><a xlink:title="20 [when: node_repo_method == 'local']">
<path fill="none" stroke="#88a329" d="M1584.14,-16127.9C1596.73,-16205.55 1650.32,-16510.29 1724.24,-16565.9 1769.81,-16600.18 2547.4,-16599.17 2882.88,-16597.12" id="path_edge_ac0476f4"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.18,-16600.62 2893.16,-16597.05 2883.14,-16593.62 2883.18,-16600.62"/>
</a>
</g>
<g id="a_edge_ac0476f4-label"><a xlink:title="20 [when: node_repo_method == 'local']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_ac0476f4" text-anchor="middle" startOffset="50%">20 [when: node_repo_method == 'local']</textPath></text>
</a>
</g>
<links><link target="task_71d8243f"/></links></g>
<!-- task_1d1a41aa -->
<g id="task_1d1a41aa" class="node">
<title>task_1d1a41aa</title>
<g id="a_task_1d1a41aa"><a xlink:title="node : Install node extra packages">
<polygon fill="none" stroke="#88a329" points="3178.15,-16534.44 3178.15,-16549.35 3094.84,-16559.9 2977.03,-16559.9 2893.72,-16549.35 2893.72,-16534.44 2977.03,-16523.9 3094.84,-16523.9 3178.15,-16534.44"/>
<text text-anchor="middle" x="3035.94" y="-16538.2" font-family="Times,serif" font-size="14.00">node : Install node extra packages</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_1d1a41aa -->
<g id="edge_45d4a1a0" class="edge">
<title>role_a69d4486-&gt;task_1d1a41aa</title>
<g id="a_edge_45d4a1a0"><a xlink:title="21 [when: node_repo_method == 'local']">
<path fill="none" stroke="#88a329" d="M1581.03,-16127.95C1581.07,-16194 1591.08,-16423.61 1724.24,-16519.9 1770.46,-16553.32 2548.16,-16547.89 2883.28,-16543.96" id="path_edge_45d4a1a0"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.59,-16547.46 2893.55,-16543.84 2883.51,-16540.46 2883.59,-16547.46"/>
</a>
</g>
<g id="a_edge_45d4a1a0-label"><a xlink:title="21 [when: node_repo_method == 'local']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_45d4a1a0" text-anchor="middle" startOffset="50%">21 [when: node_repo_method == 'local']</textPath></text>
</a>
</g>
<links><link target="task_1d1a41aa"/></links></g>
<!-- task_d7153fed -->
<g id="task_d7153fed" class="node">
<title>task_d7153fed</title>
<g id="a_task_d7153fed"><a xlink:title="node : Install meta specific packages">
<polygon fill="none" stroke="#88a329" points="3188.75,-16480.44 3188.75,-16495.35 3099.23,-16505.9 2972.64,-16505.9 2883.12,-16495.35 2883.12,-16480.44 2972.64,-16469.9 3099.23,-16469.9 3188.75,-16480.44"/>
<text text-anchor="middle" x="3035.94" y="-16484.2" font-family="Times,serif" font-size="14.00">node : Install meta specific packages</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_d7153fed -->
<g id="edge_2ee7c97d" class="edge">
<title>role_a69d4486-&gt;task_d7153fed</title>
<g id="a_edge_2ee7c97d"><a xlink:title="22 [when: node_repo_method == 'local' and meta_node|bool]">
<path fill="none" stroke="#88a329" d="M1582.31,-16128.01C1586.64,-16187.4 1609.32,-16376.98 1724.24,-16455.9 1816.66,-16519.36 2543.16,-16504.1 2873,-16493.69" id="path_edge_2ee7c97d"/>
<polygon fill="#88a329" stroke="#88a329" points="2873.24,-16497.19 2883.13,-16493.37 2873.02,-16490.19 2873.24,-16497.19"/>
</a>
</g>
<g id="a_edge_2ee7c97d-label"><a xlink:title="22 [when: node_repo_method == 'local' and meta_node|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_2ee7c97d" text-anchor="middle" startOffset="50%">22 [when: node_repo_method == 'local' and meta_node|bool]</textPath></text>
</a>
</g>
<links><link target="task_d7153fed"/></links></g>
<!-- task_43151f94 -->
<g id="task_43151f94" class="node">
<title>task_43151f94</title>
<g id="a_task_43151f94"><a xlink:title="node : Install pip3 packages on meta node">
<polygon fill="none" stroke="#88a329" points="3209.46,-16426.44 3209.46,-16441.35 3107.81,-16451.9 2964.06,-16451.9 2862.41,-16441.35 2862.41,-16426.44 2964.06,-16415.9 3107.81,-16415.9 3209.46,-16426.44"/>
<text text-anchor="middle" x="3035.94" y="-16430.2" font-family="Times,serif" font-size="14.00">node : Install pip3 packages on meta node</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_43151f94 -->
<g id="edge_155bbfa2" class="edge">
<title>role_a69d4486-&gt;task_43151f94</title>
<g id="a_edge_155bbfa2"><a xlink:title="23 [when: meta_node|bool and node_meta_pip_install != '']">
<path fill="none" stroke="#88a329" d="M1583.43,-16128.08C1590.84,-16182.65 1621.14,-16345.41 1724.24,-16411.9 1770.73,-16441.88 2502.85,-16439.01 2852.17,-16435.89" id="path_edge_155bbfa2"/>
<polygon fill="#88a329" stroke="#88a329" points="2852.42,-16439.39 2862.39,-16435.8 2852.36,-16432.39 2852.42,-16439.39"/>
</a>
</g>
<g id="a_edge_155bbfa2-label"><a xlink:title="23 [when: meta_node|bool and node_meta_pip_install != '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_155bbfa2" text-anchor="middle" startOffset="50%">23 [when: meta_node|bool and node_meta_pip_install != '']</textPath></text>
</a>
</g>
<links><link target="task_43151f94"/></links></g>
<!-- task_898de4f9 -->
<g id="task_898de4f9" class="node">
<title>task_898de4f9</title>
<g id="a_task_898de4f9"><a xlink:title="node : Node configure disable numa">
<polygon fill="none" stroke="#88a329" points="3186.94,-16372.44 3186.94,-16387.35 3098.48,-16397.9 2973.39,-16397.9 2884.93,-16387.35 2884.93,-16372.44 2973.39,-16361.9 3098.48,-16361.9 3186.94,-16372.44"/>
<text text-anchor="middle" x="3035.94" y="-16376.2" font-family="Times,serif" font-size="14.00">node : Node configure disable numa</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_898de4f9 -->
<g id="edge_bf35eb14" class="edge">
<title>role_a69d4486-&gt;task_898de4f9</title>
<g id="a_edge_bf35eb14"><a xlink:title="24 [when: node_disable_numa]">
<path fill="none" stroke="#88a329" d="M1585.45,-16128.06C1597.33,-16175.58 1636.55,-16303.41 1724.24,-16354.9 1821.01,-16411.71 2546.48,-16395.83 2874.61,-16385.54" id="path_edge_bf35eb14"/>
<polygon fill="#88a329" stroke="#88a329" points="2874.79,-16389.03 2884.68,-16385.22 2874.57,-16382.04 2874.79,-16389.03"/>
</a>
</g>
<g id="a_edge_bf35eb14-label"><a xlink:title="24 [when: node_disable_numa]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_bf35eb14" text-anchor="middle" startOffset="50%">24 [when: node_disable_numa]</textPath></text>
</a>
</g>
<links><link target="task_898de4f9"/></links></g>
<!-- task_e381e84b -->
<g id="task_e381e84b" class="node">
<title>task_e381e84b</title>
<g id="a_task_e381e84b"><a xlink:title="node : Node configure disable swap">
<polygon fill="none" stroke="#88a329" points="3185.22,-16318.44 3185.22,-16333.35 3097.77,-16343.9 2974.1,-16343.9 2886.66,-16333.35 2886.66,-16318.44 2974.1,-16307.9 3097.77,-16307.9 3185.22,-16318.44"/>
<text text-anchor="middle" x="3035.94" y="-16322.2" font-family="Times,serif" font-size="14.00">node : Node configure disable swap</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_e381e84b -->
<g id="edge_b4d49650" class="edge">
<title>role_a69d4486-&gt;task_e381e84b</title>
<g id="a_edge_b4d49650"><a xlink:title="25 [when: node_disable_swap|bool]">
<path fill="none" stroke="#88a329" d="M1588.48,-16127.9C1605.27,-16167.34 1651.36,-16260.78 1724.24,-16297.9 1824.39,-16348.9 2550.24,-16337.87 2876.65,-16330.17" id="path_edge_b4d49650"/>
<polygon fill="#88a329" stroke="#88a329" points="2876.76,-16333.67 2886.67,-16329.93 2876.59,-16326.67 2876.76,-16333.67"/>
</a>
</g>
<g id="a_edge_b4d49650-label"><a xlink:title="25 [when: node_disable_swap|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_b4d49650" text-anchor="middle" startOffset="50%">25 [when: node_disable_swap|bool]</textPath></text>
</a>
</g>
<links><link target="task_e381e84b"/></links></g>
<!-- task_3c51616a -->
<g id="task_3c51616a" class="node">
<title>task_3c51616a</title>
<g id="a_task_3c51616a"><a xlink:title="node : Node configure unmount swap">
<polygon fill="none" stroke="#88a329" points="3192.29,-16264.44 3192.29,-16279.35 3100.7,-16289.9 2971.17,-16289.9 2879.59,-16279.35 2879.59,-16264.44 2971.17,-16253.9 3100.7,-16253.9 3192.29,-16264.44"/>
<text text-anchor="middle" x="3035.94" y="-16268.2" font-family="Times,serif" font-size="14.00">node : Node configure unmount swap</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_3c51616a -->
<g id="edge_acdc38fb" class="edge">
<title>role_a69d4486-&gt;task_3c51616a</title>
<g id="a_edge_acdc38fb"><a xlink:title="26 [when: node_disable_swap|bool]">
<path fill="none" stroke="#88a329" d="M1592.92,-16127.42C1614.48,-16158.22 1664.06,-16221.14 1724.24,-16245.9 1827.37,-16288.31 2540.67,-16281.03 2869.53,-16275.28" id="path_edge_acdc38fb"/>
<polygon fill="#88a329" stroke="#88a329" points="2869.69,-16278.77 2879.63,-16275.1 2869.57,-16271.78 2869.69,-16278.77"/>
</a>
</g>
<g id="a_edge_acdc38fb-label"><a xlink:title="26 [when: node_disable_swap|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_acdc38fb" text-anchor="middle" startOffset="50%">26 [when: node_disable_swap|bool]</textPath></text>
</a>
</g>
<links><link target="task_3c51616a"/></links></g>
<!-- task_34031193 -->
<g id="task_34031193" class="node">
<title>task_34031193</title>
<g id="a_task_34031193"><a xlink:title="node : Node setup static network">
<polygon fill="none" stroke="#88a329" points="3173.71,-16210.44 3173.71,-16225.35 3093,-16235.9 2978.87,-16235.9 2898.17,-16225.35 2898.17,-16210.44 2978.87,-16199.9 3093,-16199.9 3173.71,-16210.44"/>
<text text-anchor="middle" x="3035.94" y="-16214.2" font-family="Times,serif" font-size="14.00">node : Node setup static network</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_34031193 -->
<g id="edge_2076c94e" class="edge">
<title>role_a69d4486-&gt;task_34031193</title>
<g id="a_edge_2076c94e"><a xlink:title="27 [when: node_static_network|bool]">
<path fill="none" stroke="#88a329" d="M1604.29,-16125.75C1631.5,-16143.52 1678.88,-16171.34 1724.24,-16182.9 1940.27,-16237.93 2592.98,-16229.24 2887.71,-16222.12" id="path_edge_2076c94e"/>
<polygon fill="#88a329" stroke="#88a329" points="2888.13,-16225.61 2898.04,-16221.87 2887.95,-16218.62 2888.13,-16225.61"/>
</a>
</g>
<g id="a_edge_2076c94e-label"><a xlink:title="27 [when: node_static_network|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_2076c94e" text-anchor="middle" startOffset="50%">27 [when: node_static_network|bool]</textPath></text>
</a>
</g>
<links><link target="task_34031193"/></links></g>
<!-- task_dadb02a2 -->
<g id="task_dadb02a2" class="node">
<title>task_dadb02a2</title>
<g id="a_task_dadb02a2"><a xlink:title="node : Node configure disable firewall">
<polygon fill="none" stroke="#88a329" points="3194.01,-16156.44 3194.01,-16171.35 3101.41,-16181.9 2970.46,-16181.9 2877.86,-16171.35 2877.86,-16156.44 2970.46,-16145.9 3101.41,-16145.9 3194.01,-16156.44"/>
<text text-anchor="middle" x="3035.94" y="-16160.2" font-family="Times,serif" font-size="14.00">node : Node configure disable firewall</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_dadb02a2 -->
<g id="edge_2a05480b" class="edge">
<title>role_a69d4486-&gt;task_dadb02a2</title>
<g id="a_edge_2a05480b"><a xlink:title="28 [when: node_disable_firewall]">
<path fill="none" stroke="#88a329" d="M1626.25,-16117.11C1654.33,-16121.31 1691.3,-16126.28 1724.24,-16128.9 2134.1,-16161.52 2618.07,-16165.53 2867.55,-16165.07" id="path_edge_2a05480b"/>
<polygon fill="#88a329" stroke="#88a329" points="2867.8,-16168.57 2877.79,-16165.05 2867.78,-16161.57 2867.8,-16168.57"/>
</a>
</g>
<g id="a_edge_2a05480b-label"><a xlink:title="28 [when: node_disable_firewall]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_2a05480b" text-anchor="middle" startOffset="50%">28 [when: node_disable_firewall]</textPath></text>
</a>
</g>
<links><link target="task_dadb02a2"/></links></g>
<!-- task_b16bb12c -->
<g id="task_b16bb12c" class="node">
<title>task_b16bb12c</title>
<g id="a_task_b16bb12c"><a xlink:title="node : Node configure disk prefetch">
<polygon fill="none" stroke="#88a329" points="3185.22,-16102.44 3185.22,-16117.35 3097.77,-16127.9 2974.1,-16127.9 2886.66,-16117.35 2886.66,-16102.44 2974.1,-16091.9 3097.77,-16091.9 3185.22,-16102.44"/>
<text text-anchor="middle" x="3035.94" y="-16106.2" font-family="Times,serif" font-size="14.00">node : Node configure disk prefetch</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_b16bb12c -->
<g id="edge_70037948" class="edge">
<title>role_a69d4486-&gt;task_b16bb12c</title>
<g id="a_edge_70037948"><a xlink:title="29 [when: node_disk_prefetch|bool]">
<path fill="none" stroke="#88a329" d="M1630.51,-16109.9C1825.84,-16109.9 2551.69,-16109.9 2876.29,-16109.9" id="path_edge_70037948"/>
<polygon fill="#88a329" stroke="#88a329" points="2876.72,-16113.4 2886.72,-16109.9 2876.72,-16106.4 2876.72,-16113.4"/>
</a>
</g>
<g id="a_edge_70037948-label"><a xlink:title="29 [when: node_disk_prefetch|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_70037948" text-anchor="middle" startOffset="50%">29 [when: node_disk_prefetch|bool]</textPath></text>
</a>
</g>
<links><link target="task_b16bb12c"/></links></g>
<!-- task_f289f0fd -->
<g id="task_f289f0fd" class="node">
<title>task_f289f0fd</title>
<g id="a_task_f289f0fd"><a xlink:title="node : Enable linux kernel modules">
<polygon fill="none" stroke="#88a329" points="3184.31,-16048.44 3184.31,-16063.35 3097.39,-16073.9 2974.48,-16073.9 2887.56,-16063.35 2887.56,-16048.44 2974.48,-16037.9 3097.39,-16037.9 3184.31,-16048.44"/>
<text text-anchor="middle" x="3035.94" y="-16052.2" font-family="Times,serif" font-size="14.00">node : Enable linux kernel modules</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_f289f0fd -->
<g id="edge_88a8e44f" class="edge">
<title>role_a69d4486-&gt;task_f289f0fd</title>
<g id="a_edge_88a8e44f"><a xlink:title="30 ">
<path fill="none" stroke="#88a329" d="M1626.25,-16102.69C1654.33,-16098.49 1691.3,-16093.52 1724.24,-16090.9 2139.41,-16057.85 2630.64,-16054.16 2877.14,-16054.75" id="path_edge_88a8e44f"/>
<polygon fill="#88a329" stroke="#88a329" points="2877.24,-16058.25 2887.25,-16054.78 2877.25,-16051.25 2877.24,-16058.25"/>
</a>
</g>
<g id="a_edge_88a8e44f-label"><a xlink:title="30 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_88a8e44f" text-anchor="middle" startOffset="50%">30 </textPath></text>
</a>
</g>
<links><link target="task_f289f0fd"/></links></g>
<!-- task_754b5333 -->
<g id="task_754b5333" class="node">
<title>task_754b5333</title>
<g id="a_task_754b5333"><a xlink:title="node : Enable kernel module on reboot">
<polygon fill="none" stroke="#88a329" points="3197.54,-15994.44 3197.54,-16009.35 3102.88,-16019.9 2969,-16019.9 2874.33,-16009.35 2874.33,-15994.44 2969,-15983.9 3102.88,-15983.9 3197.54,-15994.44"/>
<text text-anchor="middle" x="3035.94" y="-15998.2" font-family="Times,serif" font-size="14.00">node : Enable kernel module on reboot</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_754b5333 -->
<g id="edge_4abd2503" class="edge">
<title>role_a69d4486-&gt;task_754b5333</title>
<g id="a_edge_4abd2503"><a xlink:title="31 ">
<path fill="none" stroke="#88a329" d="M1604.26,-16093.82C1631.43,-16075.81 1678.78,-16047.6 1724.24,-16035.9 1934.52,-15981.79 2559.25,-15989.45 2863.97,-15996.86" id="path_edge_4abd2503"/>
<polygon fill="#88a329" stroke="#88a329" points="2864.15,-16000.36 2874.23,-15997.11 2864.32,-15993.37 2864.15,-16000.36"/>
</a>
</g>
<g id="a_edge_4abd2503-label"><a xlink:title="31 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_4abd2503" text-anchor="middle" startOffset="50%">31 </textPath></text>
</a>
</g>
<links><link target="task_754b5333"/></links></g>
<!-- task_ab859aa4 -->
<g id="task_ab859aa4" class="node">
<title>task_ab859aa4</title>
<g id="a_task_ab859aa4"><a xlink:title="node : Get config parameter page count">
<polygon fill="none" stroke="#88a329" points="3199.76,-15940.44 3199.76,-15955.35 3103.8,-15965.9 2968.08,-15965.9 2872.11,-15955.35 2872.11,-15940.44 2968.08,-15929.9 3103.8,-15929.9 3199.76,-15940.44"/>
<text text-anchor="middle" x="3035.94" y="-15944.2" font-family="Times,serif" font-size="14.00">node : Get config parameter page count</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_ab859aa4 -->
<g id="edge_03e07dc6" class="edge">
<title>role_a69d4486-&gt;task_ab859aa4</title>
<g id="a_edge_03e07dc6"><a xlink:title="32 [when: node_tune is defined and node_tune != 'none']">
<path fill="none" stroke="#88a329" d="M1592.85,-16092.12C1614.3,-16060.86 1663.71,-15997 1724.24,-15971.9 1930.16,-15886.51 2588.45,-15917.75 2886.19,-15937.13" id="path_edge_03e07dc6"/>
<polygon fill="#88a329" stroke="#88a329" points="2885.98,-15940.62 2896.19,-15937.78 2886.44,-15933.64 2885.98,-15940.62"/>
</a>
</g>
<g id="a_edge_03e07dc6-label"><a xlink:title="32 [when: node_tune is defined and node_tune != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_03e07dc6" text-anchor="middle" startOffset="50%">32 [when: node_tune is defined and node_tune != 'none']</textPath></text>
</a>
</g>
<links><link target="task_ab859aa4"/></links></g>
<!-- task_233a7ec8 -->
<g id="task_233a7ec8" class="node">
<title>task_233a7ec8</title>
<g id="a_task_233a7ec8"><a xlink:title="node : Get config parameter page size">
<polygon fill="none" stroke="#88a329" points="3193.6,-15886.44 3193.6,-15901.35 3101.24,-15911.9 2970.63,-15911.9 2878.27,-15901.35 2878.27,-15886.44 2970.63,-15875.9 3101.24,-15875.9 3193.6,-15886.44"/>
<text text-anchor="middle" x="3035.94" y="-15890.2" font-family="Times,serif" font-size="14.00">node : Get config parameter page size</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_233a7ec8 -->
<g id="edge_7fade4ab" class="edge">
<title>role_a69d4486-&gt;task_233a7ec8</title>
<g id="a_edge_7fade4ab"><a xlink:title="33 [when: node_tune is defined and node_tune != 'none']">
<path fill="none" stroke="#88a329" d="M1586.77,-16092.01C1601.06,-16048.73 1644.1,-15938.83 1724.24,-15895.9 1822.76,-15843.13 2542.02,-15870.18 2871.23,-15885.61" id="path_edge_7fade4ab"/>
<polygon fill="#88a329" stroke="#88a329" points="2871.18,-15889.11 2881.33,-15886.09 2871.51,-15882.12 2871.18,-15889.11"/>
</a>
</g>
<g id="a_edge_7fade4ab-label"><a xlink:title="33 [when: node_tune is defined and node_tune != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_7fade4ab" text-anchor="middle" startOffset="50%">33 [when: node_tune is defined and node_tune != 'none']</textPath></text>
</a>
</g>
<links><link target="task_233a7ec8"/></links></g>
<!-- task_6fbef6b1 -->
<g id="task_6fbef6b1" class="node">
<title>task_6fbef6b1</title>
<g id="a_task_6fbef6b1"><a xlink:title="node : Tune shmmax and shmall via mem">
<polygon fill="none" stroke="#88a329" points="3211.28,-15832.44 3211.28,-15847.35 3108.56,-15857.9 2963.31,-15857.9 2860.6,-15847.35 2860.6,-15832.44 2963.31,-15821.9 3108.56,-15821.9 3211.28,-15832.44"/>
<text text-anchor="middle" x="3035.94" y="-15836.2" font-family="Times,serif" font-size="14.00">node : Tune shmmax and shmall via mem</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_6fbef6b1 -->
<g id="edge_b8d38669" class="edge">
<title>role_a69d4486-&gt;task_6fbef6b1</title>
<g id="a_edge_b8d38669"><a xlink:title="34 [when: node_tune is defined and node_tune != 'none' and node_page_count.stdout|int &gt; 1048576]">
<path fill="none" stroke="#88a329" d="M1584.6,-16091.7C1594.75,-16041.48 1630.76,-15900.93 1724.24,-15844.9 1819.2,-15787.98 2527.22,-15814.71 2861.34,-15830.8" id="path_edge_b8d38669"/>
<polygon fill="#88a329" stroke="#88a329" points="2861.45,-15834.31 2871.61,-15831.3 2861.79,-15827.32 2861.45,-15834.31"/>
</a>
</g>
<g id="a_edge_b8d38669-label"><a xlink:title="34 [when: node_tune is defined and node_tune != 'none' and node_page_count.stdout|int &gt; 1048576]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_b8d38669" text-anchor="middle" startOffset="50%">34 [when: node_tune is defined and node_tune != 'none' and node_page_count.stdout|int &gt; 1048576]</textPath></text>
</a>
</g>
<links><link target="task_6fbef6b1"/></links></g>
<!-- task_2860571d -->
<g id="task_2860571d" class="node">
<title>task_2860571d</title>
<g id="a_task_2860571d"><a xlink:title="node : Create tuned profiles">
<polygon fill="none" stroke="#88a329" points="3153.4,-15778.44 3153.4,-15793.35 3084.59,-15803.9 2987.28,-15803.9 2918.47,-15793.35 2918.47,-15778.44 2987.28,-15767.9 3084.59,-15767.9 3153.4,-15778.44"/>
<text text-anchor="middle" x="3035.94" y="-15782.2" font-family="Times,serif" font-size="14.00">node : Create tuned profiles</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_2860571d -->
<g id="edge_6b0ddd1e" class="edge">
<title>role_a69d4486-&gt;task_2860571d</title>
<g id="a_edge_6b0ddd1e"><a xlink:title="35 [when: node_tune is defined and node_tune != 'none']">
<path fill="none" stroke="#88a329" d="M1582.89,-16091.89C1588.9,-16035.41 1615.89,-15861.38 1724.24,-15790.9 1821.67,-15727.53 2598.38,-15762.12 2908.1,-15778.68" id="path_edge_6b0ddd1e"/>
<polygon fill="#88a329" stroke="#88a329" points="2908.3,-15782.19 2918.47,-15779.23 2908.67,-15775.2 2908.3,-15782.19"/>
</a>
</g>
<g id="a_edge_6b0ddd1e-label"><a xlink:title="35 [when: node_tune is defined and node_tune != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_6b0ddd1e" text-anchor="middle" startOffset="50%">35 [when: node_tune is defined and node_tune != 'none']</textPath></text>
</a>
</g>
<links><link target="task_2860571d"/></links></g>
<!-- task_44c16dd6 -->
<g id="task_44c16dd6" class="node">
<title>task_44c16dd6</title>
<g id="a_task_44c16dd6"><a xlink:title="node : Render tuned profiles">
<polygon fill="none" stroke="#88a329" points="3156.03,-15724.44 3156.03,-15739.35 3085.68,-15749.9 2986.19,-15749.9 2915.84,-15739.35 2915.84,-15724.44 2986.19,-15713.9 3085.68,-15713.9 3156.03,-15724.44"/>
<text text-anchor="middle" x="3035.94" y="-15728.2" font-family="Times,serif" font-size="14.00">node : Render tuned profiles</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_44c16dd6 -->
<g id="edge_b087af2e" class="edge">
<title>role_a69d4486-&gt;task_44c16dd6</title>
<g id="a_edge_b087af2e"><a xlink:title="36 [when: node_tune is defined and node_tune != 'none']">
<path fill="none" stroke="#88a329" d="M1581.63,-16091.56C1583.8,-16028.59 1600.42,-15820.43 1724.24,-15734.9 1819.66,-15668.99 2594.19,-15706.14 2905.8,-15724.02" id="path_edge_b087af2e"/>
<polygon fill="#88a329" stroke="#88a329" points="2905.6,-15727.51 2915.78,-15724.59 2906,-15720.52 2905.6,-15727.51"/>
</a>
</g>
<g id="a_edge_b087af2e-label"><a xlink:title="36 [when: node_tune is defined and node_tune != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_b087af2e" text-anchor="middle" startOffset="50%">36 [when: node_tune is defined and node_tune != 'none']</textPath></text>
</a>
</g>
<links><link target="task_44c16dd6"/></links></g>
<!-- task_326683c3 -->
<g id="task_326683c3" class="node">
<title>task_326683c3</title>
<g id="a_task_326683c3"><a xlink:title="node : Active tuned profile">
<polygon fill="none" stroke="#88a329" points="3149.87,-15670.44 3149.87,-15685.35 3083.13,-15695.9 2988.74,-15695.9 2922,-15685.35 2922,-15670.44 2988.74,-15659.9 3083.13,-15659.9 3149.87,-15670.44"/>
<text text-anchor="middle" x="3035.94" y="-15674.2" font-family="Times,serif" font-size="14.00">node : Active tuned profile</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_326683c3 -->
<g id="edge_794dea6f" class="edge">
<title>role_a69d4486-&gt;task_326683c3</title>
<g id="a_edge_794dea6f"><a xlink:title="37 [when: node_tune is defined and node_tune != 'none']">
<path fill="none" stroke="#88a329" d="M1580.62,-16091.78C1579.11,-16023.33 1584.01,-15779.21 1724.24,-15677.9 1771.83,-15643.52 2594.56,-15664.57 2911.68,-15674.02" id="path_edge_794dea6f"/>
<polygon fill="#88a329" stroke="#88a329" points="2911.73,-15677.53 2921.83,-15674.33 2911.94,-15670.53 2911.73,-15677.53"/>
</a>
</g>
<g id="a_edge_794dea6f-label"><a xlink:title="37 [when: node_tune is defined and node_tune != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_794dea6f" text-anchor="middle" startOffset="50%">37 [when: node_tune is defined and node_tune != 'none']</textPath></text>
</a>
</g>
<links><link target="task_326683c3"/></links></g>
<!-- task_9d5b15ba -->
<g id="task_9d5b15ba" class="node">
<title>task_9d5b15ba</title>
<g id="a_task_9d5b15ba"><a xlink:title="node : Change additional sysctl params">
<polygon fill="none" stroke="#88a329" points="3198.45,-15616.44 3198.45,-15631.35 3103.25,-15641.9 2968.62,-15641.9 2873.42,-15631.35 2873.42,-15616.44 2968.62,-15605.9 3103.25,-15605.9 3198.45,-15616.44"/>
<text text-anchor="middle" x="3035.94" y="-15620.2" font-family="Times,serif" font-size="14.00">node : Change additional sysctl params</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_9d5b15ba -->
<g id="edge_5943a7e2" class="edge">
<title>role_a69d4486-&gt;task_9d5b15ba</title>
<g id="a_edge_5943a7e2"><a xlink:title="38 [when: node_tune is defined and node_tune != 'none']">
<path fill="none" stroke="#88a329" d="M1583.96,-16091.86C1595.95,-16012.67 1648.02,-15697.11 1724.24,-15639.9 1813.63,-15572.8 2537.77,-15599.27 2869.75,-15615.21" id="path_edge_5943a7e2"/>
<polygon fill="#88a329" stroke="#88a329" points="2869.78,-15618.71 2879.94,-15615.7 2870.12,-15611.72 2869.78,-15618.71"/>
</a>
</g>
<g id="a_edge_5943a7e2-label"><a xlink:title="38 [when: node_tune is defined and node_tune != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_5943a7e2" text-anchor="middle" startOffset="50%">38 [when: node_tune is defined and node_tune != 'none']</textPath></text>
</a>
</g>
<links><link target="task_9d5b15ba"/></links></g>
<!-- task_8c527d13 -->
<g id="task_8c527d13" class="node">
<title>task_8c527d13</title>
<g id="a_task_8c527d13"><a xlink:title="node : Copy default user bash profile">
<polygon fill="none" stroke="#88a329" points="3189.16,-15562.44 3189.16,-15577.35 3099.4,-15587.9 2972.47,-15587.9 2882.71,-15577.35 2882.71,-15562.44 2972.47,-15551.9 3099.4,-15551.9 3189.16,-15562.44"/>
<text text-anchor="middle" x="3035.94" y="-15566.2" font-family="Times,serif" font-size="14.00">node : Copy default user bash profile</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_8c527d13 -->
<g id="edge_aa8ee928" class="edge">
<title>role_a69d4486-&gt;task_8c527d13</title>
<g id="a_edge_aa8ee928"><a xlink:title="39 ">
<path fill="none" stroke="#88a329" d="M1583.28,-16091.81C1592.97,-16006.18 1638.72,-15642.88 1724.24,-15576.9 1813.95,-15507.7 2557.28,-15541.93 2883,-15560.54" id="path_edge_aa8ee928"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.28,-15564.06 2893.47,-15561.14 2883.68,-15557.08 2883.28,-15564.06"/>
</a>
</g>
<g id="a_edge_aa8ee928-label"><a xlink:title="39 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_aa8ee928" text-anchor="middle" startOffset="50%">39 </textPath></text>
</a>
</g>
<links><link target="task_8c527d13"/></links></g>
<!-- task_5bd86363 -->
<g id="task_5bd86363" class="node">
<title>task_5bd86363</title>
<g id="a_task_5bd86363"><a xlink:title="node : Setup node default pam ulimits">
<polygon fill="none" stroke="#88a329" points="3194.91,-15508.44 3194.91,-15523.35 3101.79,-15533.9 2970.08,-15533.9 2876.96,-15523.35 2876.96,-15508.44 2970.08,-15497.9 3101.79,-15497.9 3194.91,-15508.44"/>
<text text-anchor="middle" x="3035.94" y="-15512.2" font-family="Times,serif" font-size="14.00">node : Setup node default pam ulimits</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_5bd86363 -->
<g id="edge_912341db" class="edge">
<title>role_a69d4486-&gt;task_5bd86363</title>
<g id="a_edge_912341db"><a xlink:title="40 ">
<path fill="none" stroke="#88a329" d="M1582.76,-16091.63C1590.44,-15999.82 1629.68,-15590.41 1724.24,-15515.9 1768.32,-15481.17 2523.02,-15499.97 2866.78,-15510.42" id="path_edge_912341db"/>
<polygon fill="#88a329" stroke="#88a329" points="2866.72,-15513.92 2876.83,-15510.73 2866.94,-15506.92 2866.72,-15513.92"/>
</a>
</g>
<g id="a_edge_912341db-label"><a xlink:title="40 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_912341db" text-anchor="middle" startOffset="50%">40 </textPath></text>
</a>
</g>
<links><link target="task_5bd86363"/></links></g>
<!-- task_bef8b216 -->
<g id="task_bef8b216" class="node">
<title>task_bef8b216</title>
<g id="a_task_bef8b216"><a xlink:title="node : Create os user group admin">
<polygon fill="none" stroke="#88a329" points="3180.37,-15454.44 3180.37,-15469.35 3095.76,-15479.9 2976.11,-15479.9 2891.5,-15469.35 2891.5,-15454.44 2976.11,-15443.9 3095.76,-15443.9 3180.37,-15454.44"/>
<text text-anchor="middle" x="3035.94" y="-15458.2" font-family="Times,serif" font-size="14.00">node : Create os user group admin</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_bef8b216 -->
<g id="edge_4bbb8fc7" class="edge">
<title>role_a69d4486-&gt;task_bef8b216</title>
<g id="a_edge_4bbb8fc7"><a xlink:title="41 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1582.48,-16091.71C1588.99,-15996.49 1624.21,-15556.77 1724.24,-15475.9 1812.62,-15404.45 2561.2,-15435.98 2885.79,-15453.29" id="path_edge_4bbb8fc7"/>
<polygon fill="#88a329" stroke="#88a329" points="2886.04,-15456.8 2896.22,-15453.84 2886.42,-15449.81 2886.04,-15456.8"/>
</a>
</g>
<g id="a_edge_4bbb8fc7-label"><a xlink:title="41 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_4bbb8fc7" text-anchor="middle" startOffset="50%">41 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_bef8b216"/></links></g>
<!-- task_8785b33b -->
<g id="task_8785b33b" class="node">
<title>task_8785b33b</title>
<g id="a_task_8785b33b"><a xlink:title="node : Create os user admin">
<polygon fill="none" stroke="#88a329" points="3155.62,-15400.44 3155.62,-15415.35 3085.51,-15425.9 2986.36,-15425.9 2916.25,-15415.35 2916.25,-15400.44 2986.36,-15389.9 3085.51,-15389.9 3155.62,-15400.44"/>
<text text-anchor="middle" x="3035.94" y="-15404.2" font-family="Times,serif" font-size="14.00">node : Create os user admin</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_8785b33b -->
<g id="edge_05950ff3" class="edge">
<title>role_a69d4486-&gt;task_8785b33b</title>
<g id="a_edge_05950ff3"><a xlink:title="42 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1582.06,-16091.9C1586.64,-15991.48 1614.41,-15501.8 1724.24,-15411.9 1769.41,-15374.93 2584.36,-15394.66 2905.96,-15403.94" id="path_edge_05950ff3"/>
<polygon fill="#88a329" stroke="#88a329" points="2906.17,-15407.45 2916.26,-15404.24 2906.37,-15400.45 2906.17,-15407.45"/>
</a>
</g>
<g id="a_edge_05950ff3-label"><a xlink:title="42 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_05950ff3" text-anchor="middle" startOffset="50%">42 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_8785b33b"/></links></g>
<!-- task_bc0c92a7 -->
<g id="task_bc0c92a7" class="node">
<title>task_bc0c92a7</title>
<g id="a_task_bc0c92a7"><a xlink:title="node : Grant admin group nopass sudo">
<polygon fill="none" stroke="#88a329" points="3196.23,-15346.44 3196.23,-15361.35 3102.33,-15371.9 2969.54,-15371.9 2875.64,-15361.35 2875.64,-15346.44 2969.54,-15335.9 3102.33,-15335.9 3196.23,-15346.44"/>
<text text-anchor="middle" x="3035.94" y="-15350.2" font-family="Times,serif" font-size="14.00">node : Grant admin group nopass sudo</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_bc0c92a7 -->
<g id="edge_8d7b7097" class="edge">
<title>role_a69d4486-&gt;task_bc0c92a7</title>
<g id="a_edge_8d7b7097"><a xlink:title="43 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1581.86,-16091.9C1585.41,-15988.12 1608.83,-15467.4 1724.24,-15370.9 1810.45,-15298.82 2543.87,-15327.85 2874.47,-15344.87" id="path_edge_8d7b7097"/>
<polygon fill="#88a329" stroke="#88a329" points="2874.45,-15348.37 2884.62,-15345.39 2874.81,-15341.38 2874.45,-15348.37"/>
</a>
</g>
<g id="a_edge_8d7b7097-label"><a xlink:title="43 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_8d7b7097" text-anchor="middle" startOffset="50%">43 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_bc0c92a7"/></links></g>
<!-- task_02fda78e -->
<g id="task_02fda78e" class="node">
<title>task_02fda78e</title>
<g id="a_task_02fda78e"><a xlink:title="node : Add no host checking to ssh config">
<polygon fill="none" stroke="#88a329" points="3208.15,-15292.44 3208.15,-15307.35 3107.27,-15317.9 2964.6,-15317.9 2863.72,-15307.35 2863.72,-15292.44 2964.6,-15281.9 3107.27,-15281.9 3208.15,-15292.44"/>
<text text-anchor="middle" x="3035.94" y="-15296.2" font-family="Times,serif" font-size="14.00">node : Add no host checking to ssh config</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_02fda78e -->
<g id="edge_8586eecd" class="edge">
<title>role_a69d4486-&gt;task_02fda78e</title>
<g id="a_edge_8586eecd"><a xlink:title="44 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1581.55,-16091.74C1583.33,-15982.2 1598.66,-15410.56 1724.24,-15304.9 1766.65,-15269.22 2503.66,-15284.95 2853.45,-15294.51" id="path_edge_8586eecd"/>
<polygon fill="#88a329" stroke="#88a329" points="2853.6,-15298.01 2863.69,-15294.79 2853.79,-15291.02 2853.6,-15298.01"/>
</a>
</g>
<g id="a_edge_8586eecd-label"><a xlink:title="44 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_8586eecd" text-anchor="middle" startOffset="50%">44 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_02fda78e"/></links></g>
<!-- task_fa14f271 -->
<g id="task_fa14f271" class="node">
<title>task_fa14f271</title>
<g id="a_task_fa14f271"><a xlink:title="node : Add admin ssh no host checking">
<polygon fill="none" stroke="#88a329" points="3199.36,-15238.44 3199.36,-15253.35 3103.63,-15263.9 2968.24,-15263.9 2872.52,-15253.35 2872.52,-15238.44 2968.24,-15227.9 3103.63,-15227.9 3199.36,-15238.44"/>
<text text-anchor="middle" x="3035.94" y="-15242.2" font-family="Times,serif" font-size="14.00">node : Add admin ssh no host checking</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_fa14f271 -->
<g id="edge_326de85e" class="edge">
<title>role_a69d4486-&gt;task_fa14f271</title>
<g id="a_edge_326de85e"><a xlink:title="45 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1581.39,-16091.56C1582.25,-15978.33 1593.01,-15375.31 1724.24,-15262.9 1809.51,-15189.86 2542.09,-15219.32 2873.4,-15236.66" id="path_edge_326de85e"/>
<polygon fill="#88a329" stroke="#88a329" points="2873.4,-15240.17 2883.57,-15237.2 2873.77,-15233.17 2873.4,-15240.17"/>
</a>
</g>
<g id="a_edge_326de85e-label"><a xlink:title="45 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_326de85e" text-anchor="middle" startOffset="50%">45 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_fa14f271"/></links></g>
<!-- task_bf3a2c0c -->
<g id="task_bf3a2c0c" class="node">
<title>task_bf3a2c0c</title>
<g id="a_task_bf3a2c0c"><a xlink:title="node : Fetch all admin public keys">
<polygon fill="none" stroke="#88a329" points="3180.77,-15184.44 3180.77,-15199.35 3095.93,-15209.9 2975.94,-15209.9 2891.1,-15199.35 2891.1,-15184.44 2975.94,-15173.9 3095.93,-15173.9 3180.77,-15184.44"/>
<text text-anchor="middle" x="3035.94" y="-15188.2" font-family="Times,serif" font-size="14.00">node : Fetch all admin public keys</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_bf3a2c0c -->
<g id="edge_1c810d6f" class="edge">
<title>role_a69d4486-&gt;task_bf3a2c0c</title>
<g id="a_edge_1c810d6f"><a xlink:title="46 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1581.13,-16091.66C1580.34,-15973.53 1582.42,-15317.64 1724.24,-15195.9 1767.42,-15158.83 2543.52,-15177.26 2880.68,-15187.08" id="path_edge_1c810d6f"/>
<polygon fill="#88a329" stroke="#88a329" points="2880.92,-15190.59 2891.02,-15187.38 2881.12,-15183.59 2880.92,-15190.59"/>
</a>
</g>
<g id="a_edge_1c810d6f-label"><a xlink:title="46 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_1c810d6f" text-anchor="middle" startOffset="50%">46 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_bf3a2c0c"/></links></g>
<!-- task_cad6fd04 -->
<g id="task_cad6fd04" class="node">
<title>task_cad6fd04</title>
<g id="a_task_cad6fd04"><a xlink:title="node : Exchange all admin ssh keys">
<polygon fill="none" stroke="#88a329" points="3185.22,-15130.44 3185.22,-15145.35 3097.77,-15155.9 2974.1,-15155.9 2886.66,-15145.35 2886.66,-15130.44 2974.1,-15119.9 3097.77,-15119.9 3185.22,-15130.44"/>
<text text-anchor="middle" x="3035.94" y="-15134.2" font-family="Times,serif" font-size="14.00">node : Exchange all admin ssh keys</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_cad6fd04 -->
<g id="edge_c744c790" class="edge">
<title>role_a69d4486-&gt;task_cad6fd04</title>
<g id="a_edge_c744c790"><a xlink:title="47 [when: node_admin_setup and node_admin_ssh_exchange]">
<path fill="none" stroke="#88a329" d="M1581.01,-16091.64C1579.38,-15970.4 1576.75,-15282.55 1724.24,-15153.9 1809.77,-15079.29 2557.95,-15111.25 2884.06,-15128.99" id="path_edge_c744c790"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.89,-15132.48 2894.06,-15129.54 2884.27,-15125.5 2883.89,-15132.48"/>
</a>
</g>
<g id="a_edge_c744c790-label"><a xlink:title="47 [when: node_admin_setup and node_admin_ssh_exchange]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_c744c790" text-anchor="middle" startOffset="50%">47 [when: node_admin_setup and node_admin_ssh_exchange]</textPath></text>
</a>
</g>
<links><link target="task_cad6fd04"/></links></g>
<!-- task_560b3d70 -->
<g id="task_560b3d70" class="node">
<title>task_560b3d70</title>
<g id="a_task_560b3d70"><a xlink:title="node : Install public keys">
<polygon fill="none" stroke="#88a329" points="3144.11,-15076.44 3144.11,-15091.35 3080.74,-15101.9 2991.13,-15101.9 2927.76,-15091.35 2927.76,-15076.44 2991.13,-15065.9 3080.74,-15065.9 3144.11,-15076.44"/>
<text text-anchor="middle" x="3035.94" y="-15080.2" font-family="Times,serif" font-size="14.00">node : Install public keys</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_560b3d70 -->
<g id="edge_7b5e9ba7" class="edge">
<title>role_a69d4486-&gt;task_560b3d70</title>
<g id="a_edge_7b5e9ba7"><a xlink:title="48 [when: node_admin_setup]">
<path fill="none" stroke="#88a329" d="M1582.44,-16091.77C1590.78,-15960.31 1644.84,-15156.14 1724.24,-15086.9 1768.78,-15048.06 2604.17,-15070.28 2917.53,-15080.04" id="path_edge_7b5e9ba7"/>
<polygon fill="#88a329" stroke="#88a329" points="2917.44,-15083.54 2927.55,-15080.35 2917.66,-15076.54 2917.44,-15083.54"/>
</a>
</g>
<g id="a_edge_7b5e9ba7-label"><a xlink:title="48 [when: node_admin_setup]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_7b5e9ba7" text-anchor="middle" startOffset="50%">48 [when: node_admin_setup]</textPath></text>
</a>
</g>
<links><link target="task_560b3d70"/></links></g>
<!-- task_7c817496 -->
<g id="task_7c817496" class="node">
<title>task_7c817496</title>
<g id="a_task_7c817496"><a xlink:title="node : Install current public key">
<polygon fill="none" stroke="#88a329" points="3170.17,-15022.44 3170.17,-15037.35 3091.54,-15047.9 2980.33,-15047.9 2901.7,-15037.35 2901.7,-15022.44 2980.33,-15011.9 3091.54,-15011.9 3170.17,-15022.44"/>
<text text-anchor="middle" x="3035.94" y="-15026.2" font-family="Times,serif" font-size="14.00">node : Install current public key</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_7c817496 -->
<g id="edge_ad71e57f" class="edge">
<title>role_a69d4486-&gt;task_7c817496</title>
<g id="a_edge_ad71e57f"><a xlink:title="49 [when: node_admin_setup and node_admin_pk_current]">
<path fill="none" stroke="#88a329" d="M1582.34,-16091.9C1590.12,-15957.82 1641.99,-15117.69 1724.24,-15044.9 1810.2,-14968.84 2574.69,-15003.34 2894.87,-15021.39" id="path_edge_ad71e57f"/>
<polygon fill="#88a329" stroke="#88a329" points="2894.96,-15024.9 2905.14,-15021.97 2895.35,-15017.91 2894.96,-15024.9"/>
</a>
</g>
<g id="a_edge_ad71e57f-label"><a xlink:title="49 [when: node_admin_setup and node_admin_pk_current]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_ad71e57f" text-anchor="middle" startOffset="50%">49 [when: node_admin_setup and node_admin_pk_current]</textPath></text>
</a>
</g>
<links><link target="task_7c817496"/></links></g>
<!-- task_78c98c56 -->
<g id="task_78c98c56" class="node">
<title>task_78c98c56</title>
<g id="a_task_78c98c56"><a xlink:title="node : Setup default node timezone">
<polygon fill="none" stroke="#88a329" points="3183.9,-14968.44 3183.9,-14983.35 3097.23,-14993.9 2974.65,-14993.9 2887.97,-14983.35 2887.97,-14968.44 2974.65,-14957.9 3097.23,-14957.9 3183.9,-14968.44"/>
<text text-anchor="middle" x="3035.94" y="-14972.2" font-family="Times,serif" font-size="14.00">node : Setup default node timezone</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_78c98c56 -->
<g id="edge_6eb3f809" class="edge">
<title>role_a69d4486-&gt;task_78c98c56</title>
<g id="a_edge_6eb3f809"><a xlink:title="50 [when: node_timezone is defined and node_timezone != &quot;&quot;]">
<path fill="none" stroke="#88a329" d="M1582.19,-16091.67C1589.09,-15952.02 1636.64,-15055.26 1724.24,-14977.9 1766.79,-14940.33 2539.35,-14960.11 2878.03,-14970.67" id="path_edge_6eb3f809"/>
<polygon fill="#88a329" stroke="#88a329" points="2878.06,-14974.17 2888.17,-14970.98 2878.28,-14967.17 2878.06,-14974.17"/>
</a>
</g>
<g id="a_edge_6eb3f809-label"><a xlink:title="50 [when: node_timezone is defined and node_timezone != &quot;&quot;]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_6eb3f809" text-anchor="middle" startOffset="50%">50 [when: node_timezone is defined and node_timezone != ""]</textPath></text>
</a>
</g>
<links><link target="task_78c98c56"/></links></g>
<!-- task_fbaf500c -->
<g id="task_fbaf500c" class="node">
<title>task_fbaf500c</title>
<g id="a_task_fbaf500c"><a xlink:title="node : Install ntp package">
<polygon fill="none" stroke="#88a329" points="3146.33,-14914.44 3146.33,-14929.35 3081.66,-14939.9 2990.21,-14939.9 2925.54,-14929.35 2925.54,-14914.44 2990.21,-14903.9 3081.66,-14903.9 3146.33,-14914.44"/>
<text text-anchor="middle" x="3035.94" y="-14918.2" font-family="Times,serif" font-size="14.00">node : Install ntp package</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_fbaf500c -->
<g id="edge_4d0829b4" class="edge">
<title>role_a69d4486-&gt;task_fbaf500c</title>
<g id="a_edge_4d0829b4"><a xlink:title="51 [when: node_ntp_config|bool and node_ntp_service == 'ntp']">
<path fill="none" stroke="#88a329" d="M1582.13,-16091.47C1588.59,-15948.36 1633.99,-15017.75 1724.24,-14936.9 1811.6,-14858.64 2608.27,-14896.7 2915.17,-14914.48" id="path_edge_4d0829b4"/>
<polygon fill="#88a329" stroke="#88a329" points="2915.25,-14917.99 2925.43,-14915.08 2915.65,-14911.01 2915.25,-14917.99"/>
</a>
</g>
<g id="a_edge_4d0829b4-label"><a xlink:title="51 [when: node_ntp_config|bool and node_ntp_service == 'ntp']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_4d0829b4" text-anchor="middle" startOffset="50%">51 [when: node_ntp_config|bool and node_ntp_service == 'ntp']</textPath></text>
</a>
</g>
<links><link target="task_fbaf500c"/></links></g>
<!-- task_50229a84 -->
<g id="task_50229a84" class="node">
<title>task_50229a84</title>
<g id="a_task_50229a84"><a xlink:title="node : Install chrony package">
<polygon fill="none" stroke="#88a329" points="3160.47,-14860.44 3160.47,-14875.35 3087.52,-14885.9 2984.35,-14885.9 2911.4,-14875.35 2911.4,-14860.44 2984.35,-14849.9 3087.52,-14849.9 3160.47,-14860.44"/>
<text text-anchor="middle" x="3035.94" y="-14864.2" font-family="Times,serif" font-size="14.00">node : Install chrony package</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_50229a84 -->
<g id="edge_33abe050" class="edge">
<title>role_a69d4486-&gt;task_50229a84</title>
<g id="a_edge_33abe050"><a xlink:title="52 [when: node_ntp_config|bool and node_ntp_service == 'chrony']">
<path fill="none" stroke="#88a329" d="M1581.98,-16091.83C1587.53,-15945.36 1628.46,-14955.41 1724.24,-14869.9 1767.56,-14831.23 2575.38,-14852.96 2900.78,-14863.35" id="path_edge_33abe050"/>
<polygon fill="#88a329" stroke="#88a329" points="2901.1,-14866.87 2911.21,-14863.69 2901.33,-14859.87 2901.1,-14866.87"/>
</a>
</g>
<g id="a_edge_33abe050-label"><a xlink:title="52 [when: node_ntp_config|bool and node_ntp_service == 'chrony']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_33abe050" text-anchor="middle" startOffset="50%">52 [when: node_ntp_config|bool and node_ntp_service == 'chrony']</textPath></text>
</a>
</g>
<links><link target="task_50229a84"/></links></g>
<!-- task_4a06c855 -->
<g id="task_4a06c855" class="node">
<title>task_4a06c855</title>
<g id="a_task_4a06c855"><a xlink:title="node : Copy the ntp.conf file">
<polygon fill="none" stroke="#88a329" points="3157.84,-14806.44 3157.84,-14821.35 3086.43,-14831.9 2985.44,-14831.9 2914.03,-14821.35 2914.03,-14806.44 2985.44,-14795.9 3086.43,-14795.9 3157.84,-14806.44"/>
<text text-anchor="middle" x="3035.94" y="-14810.2" font-family="Times,serif" font-size="14.00">node : Copy the ntp.conf file</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_4a06c855 -->
<g id="edge_a59b1ce4" class="edge">
<title>role_a69d4486-&gt;task_4a06c855</title>
<g id="a_edge_a59b1ce4"><a xlink:title="53 [when: node_ntp_config|bool]">
<path fill="none" stroke="#88a329" d="M1581.92,-16091.71C1587.06,-15942.03 1625.73,-14916.99 1724.24,-14827.9 1810.26,-14750.11 2590.36,-14787.33 2904.63,-14805.72" id="path_edge_a59b1ce4"/>
<polygon fill="#88a329" stroke="#88a329" points="2904.51,-14809.22 2914.7,-14806.31 2904.92,-14802.23 2904.51,-14809.22"/>
</a>
</g>
<g id="a_edge_a59b1ce4-label"><a xlink:title="53 [when: node_ntp_config|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_a59b1ce4" text-anchor="middle" startOffset="50%">53 [when: node_ntp_config|bool]</textPath></text>
</a>
</g>
<links><link target="task_4a06c855"/></links></g>
<!-- task_0eb7c3de -->
<g id="task_0eb7c3de" class="node">
<title>task_0eb7c3de</title>
<g id="a_task_0eb7c3de"><a xlink:title="node : Copy the chrony.conf template">
<polygon fill="none" stroke="#88a329" points="3192.69,-14752.44 3192.69,-14767.35 3100.87,-14777.9 2971,-14777.9 2879.18,-14767.35 2879.18,-14752.44 2971,-14741.9 3100.87,-14741.9 3192.69,-14752.44"/>
<text text-anchor="middle" x="3035.94" y="-14756.2" font-family="Times,serif" font-size="14.00">node : Copy the chrony.conf template</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_0eb7c3de -->
<g id="edge_0c01d91a" class="edge">
<title>role_a69d4486-&gt;task_0eb7c3de</title>
<g id="a_edge_0c01d91a"><a xlink:title="54 [when: node_ntp_config|bool]">
<path fill="none" stroke="#88a329" d="M1581.81,-16091.74C1586.14,-15937.77 1620.21,-14854.56 1724.24,-14760.9 1766.05,-14723.25 2525.73,-14743.18 2868.99,-14754.19" id="path_edge_0c01d91a"/>
<polygon fill="#88a329" stroke="#88a329" points="2868.91,-14757.69 2879.02,-14754.52 2869.14,-14750.7 2868.91,-14757.69"/>
</a>
</g>
<g id="a_edge_0c01d91a-label"><a xlink:title="54 [when: node_ntp_config|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_0c01d91a" text-anchor="middle" startOffset="50%">54 [when: node_ntp_config|bool]</textPath></text>
</a>
</g>
<links><link target="task_0eb7c3de"/></links></g>
<!-- task_829b8555 -->
<g id="task_829b8555" class="node">
<title>task_829b8555</title>
<g id="a_task_829b8555"><a xlink:title="node : Launch ntpd service">
<polygon fill="none" stroke="#88a329" points="3151.18,-14698.44 3151.18,-14713.35 3083.67,-14723.9 2988.2,-14723.9 2920.69,-14713.35 2920.69,-14698.44 2988.2,-14687.9 3083.67,-14687.9 3151.18,-14698.44"/>
<text text-anchor="middle" x="3035.94" y="-14702.2" font-family="Times,serif" font-size="14.00">node : Launch ntpd service</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_829b8555 -->
<g id="edge_4c7070f6" class="edge">
<title>role_a69d4486-&gt;task_829b8555</title>
<g id="a_edge_4c7070f6"><a xlink:title="55 [when: node_ntp_config|bool and node_ntp_service == 'ntp']">
<path fill="none" stroke="#88a329" d="M1581.76,-16091.69C1585.71,-15934.98 1617.6,-14817.17 1724.24,-14719.9 1810.43,-14641.28 2599.41,-14679.62 2910.07,-14698" id="path_edge_4c7070f6"/>
<polygon fill="#88a329" stroke="#88a329" points="2910.28,-14701.52 2920.47,-14698.62 2910.7,-14694.53 2910.28,-14701.52"/>
</a>
</g>
<g id="a_edge_4c7070f6-label"><a xlink:title="55 [when: node_ntp_config|bool and node_ntp_service == 'ntp']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_4c7070f6" text-anchor="middle" startOffset="50%">55 [when: node_ntp_config|bool and node_ntp_service == 'ntp']</textPath></text>
</a>
</g>
<links><link target="task_829b8555"/></links></g>
<!-- task_448c8af9 -->
<g id="task_448c8af9" class="node">
<title>task_448c8af9</title>
<g id="a_task_448c8af9"><a xlink:title="node : Launch chronyd service">
<polygon fill="none" stroke="#88a329" points="3166.23,-14644.44 3166.23,-14659.35 3089.9,-14669.9 2981.97,-14669.9 2905.64,-14659.35 2905.64,-14644.44 2981.97,-14633.9 3089.9,-14633.9 3166.23,-14644.44"/>
<text text-anchor="middle" x="3035.94" y="-14648.2" font-family="Times,serif" font-size="14.00">node : Launch chronyd service</text>
</a>
</g>
</g>
<!-- role_a69d4486&#45;&gt;task_448c8af9 -->
<g id="edge_80ec3b99" class="edge">
<title>role_a69d4486-&gt;task_448c8af9</title>
<g id="a_edge_80ec3b99"><a xlink:title="56 [when: node_ntp_config|bool and node_ntp_service == 'chrony']">
<path fill="none" stroke="#88a329" d="M1581.66,-16091.83C1584.85,-15931.43 1612.01,-14754.74 1724.24,-14652.9 1767.02,-14614.08 2566.77,-14636.22 2895.57,-14647.03" id="path_edge_80ec3b99"/>
<polygon fill="#88a329" stroke="#88a329" points="2895.52,-14650.53 2905.63,-14647.37 2895.75,-14643.54 2895.52,-14650.53"/>
</a>
</g>
<g id="a_edge_80ec3b99-label"><a xlink:title="56 [when: node_ntp_config|bool and node_ntp_service == 'chrony']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_80ec3b99" text-anchor="middle" startOffset="50%">56 [when: node_ntp_config|bool and node_ntp_service == 'chrony']</textPath></text>
</a>
</g>
<links><link target="task_448c8af9"/></links></g>
<!-- task_ee909b7f -->
<g id="task_ee909b7f" class="node">
<title>task_ee909b7f</title>
<g id="a_task_ee909b7f"><a xlink:title="consul : Check for existing consul">
<polygon fill="none" stroke="#88a329" points="3178.55,-14590.44 3178.55,-14605.35 3095.01,-14615.9 2976.86,-14615.9 2893.32,-14605.35 2893.32,-14590.44 2976.86,-14579.9 3095.01,-14579.9 3178.55,-14590.44"/>
<text text-anchor="middle" x="3035.94" y="-14594.2" font-family="Times,serif" font-size="14.00">consul : Check for existing consul</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_ee909b7f -->
<g id="edge_4fe5eb4b" class="edge">
<title>role_944dd294-&gt;task_ee909b7f</title>
<g id="a_edge_4fe5eb4b"><a xlink:title="1 ">
<path fill="none" stroke="#88a329" d="M1582.65,-13968.11C1589.89,-14061.48 1627.75,-14485.23 1724.24,-14563.9 1768.45,-14599.95 2547.29,-14600.39 2883,-14598.88" id="path_edge_4fe5eb4b"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.3,-14602.38 2893.29,-14598.83 2883.27,-14595.38 2883.3,-14602.38"/>
</a>
</g>
<g id="a_edge_4fe5eb4b-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_4fe5eb4b" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_ee909b7f"/></links></g>
<!-- task_cd5df055 -->
<g id="task_cd5df055" class="node">
<title>task_cd5df055</title>
<g id="a_task_cd5df055"><a xlink:title="consul : Consul exists flag fact set">
<polygon fill="none" stroke="#88a329" points="3178.55,-14536.44 3178.55,-14551.35 3095.01,-14561.9 2976.86,-14561.9 2893.32,-14551.35 2893.32,-14536.44 2976.86,-14525.9 3095.01,-14525.9 3178.55,-14536.44"/>
<text text-anchor="middle" x="3035.94" y="-14540.2" font-family="Times,serif" font-size="14.00">consul : Consul exists flag fact set</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_cd5df055 -->
<g id="edge_20bbc99f" class="edge">
<title>role_944dd294-&gt;task_cd5df055</title>
<g id="a_edge_20bbc99f"><a xlink:title="2 ">
<path fill="none" stroke="#88a329" d="M1583.06,-13967.96C1591.98,-14056.04 1635.51,-14439.11 1724.24,-14509.9 1768.82,-14545.46 2546.97,-14546.18 2882.74,-14544.82" id="path_edge_20bbc99f"/>
<polygon fill="#88a329" stroke="#88a329" points="2883.05,-14548.31 2893.03,-14544.77 2883.02,-14541.31 2883.05,-14548.31"/>
</a>
</g>
<g id="a_edge_20bbc99f-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_20bbc99f" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="task_cd5df055"/></links></g>
<!-- task_8a20080e -->
<g id="task_8a20080e" class="node">
<title>task_8a20080e</title>
<g id="a_task_8a20080e"><a xlink:title="consul : Abort due to consul exists">
<polygon fill="none" stroke="#88a329" points="3180.37,-14482.44 3180.37,-14497.35 3095.76,-14507.9 2976.11,-14507.9 2891.5,-14497.35 2891.5,-14482.44 2976.11,-14471.9 3095.76,-14471.9 3180.37,-14482.44"/>
<text text-anchor="middle" x="3035.94" y="-14486.2" font-family="Times,serif" font-size="14.00">consul : Abort due to consul exists</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_8a20080e -->
<g id="edge_0402586e" class="edge">
<title>role_944dd294-&gt;task_8a20080e</title>
<g id="a_edge_0402586e"><a xlink:title="3 [when: consul_exists and (dcs_disable_purge or dcs_exists_action == 'abort')]">
<path fill="none" stroke="#88a329" d="M1583.56,-13967.9C1594.27,-14050.73 1643.09,-14393.84 1724.24,-14456.9 1769.2,-14491.84 2544.77,-14492.32 2881.25,-14490.86" id="path_edge_0402586e"/>
<polygon fill="#88a329" stroke="#88a329" points="2881.58,-14494.36 2891.56,-14490.82 2881.55,-14487.36 2881.58,-14494.36"/>
</a>
</g>
<g id="a_edge_0402586e-label"><a xlink:title="3 [when: consul_exists and (dcs_disable_purge or dcs_exists_action == 'abort')]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_0402586e" text-anchor="middle" startOffset="50%">3 [when: consul_exists and (dcs_disable_purge or dcs_exists_action == 'abort')]</textPath></text>
</a>
</g>
<links><link target="task_8a20080e"/></links></g>
<!-- task_6f9a36d9 -->
<g id="task_6f9a36d9" class="node">
<title>task_6f9a36d9</title>
<g id="a_task_6f9a36d9"><a xlink:title="consul : Skip due to consul exists">
<polygon fill="none" stroke="#88a329" points="3175.93,-14428.44 3175.93,-14443.35 3093.92,-14453.9 2977.95,-14453.9 2895.95,-14443.35 2895.95,-14428.44 2977.95,-14417.9 3093.92,-14417.9 3175.93,-14428.44"/>
<text text-anchor="middle" x="3035.94" y="-14432.2" font-family="Times,serif" font-size="14.00">consul : Skip due to consul exists</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_6f9a36d9 -->
<g id="edge_1bea0856" class="edge">
<title>role_944dd294-&gt;task_6f9a36d9</title>
<g id="a_edge_1bea0856"><a xlink:title="4 [when: consul_exists and dcs_exists_action == 'skip']">
<path fill="none" stroke="#88a329" d="M1584.14,-13967.9C1596.73,-14045.55 1650.32,-14350.29 1724.24,-14405.9 1769.94,-14440.28 2551.73,-14439.17 2885.67,-14437.1" id="path_edge_1bea0856"/>
<polygon fill="#88a329" stroke="#88a329" points="2885.92,-14440.6 2895.9,-14437.04 2885.88,-14433.6 2885.92,-14440.6"/>
</a>
</g>
<g id="a_edge_1bea0856-label"><a xlink:title="4 [when: consul_exists and dcs_exists_action == 'skip']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_1bea0856" text-anchor="middle" startOffset="50%">4 [when: consul_exists and dcs_exists_action == 'skip']</textPath></text>
</a>
</g>
<links><link target="task_6f9a36d9"/></links></g>
<!-- task_041b822f -->
<g id="task_041b822f" class="node">
<title>task_041b822f</title>
<g id="a_task_041b822f"><a xlink:title="consul : Clean existing consul instance">
<polygon fill="none" stroke="#88a329" points="3196.23,-14374.44 3196.23,-14389.35 3102.33,-14399.9 2969.54,-14399.9 2875.64,-14389.35 2875.64,-14374.44 2969.54,-14363.9 3102.33,-14363.9 3196.23,-14374.44"/>
<text text-anchor="middle" x="3035.94" y="-14378.2" font-family="Times,serif" font-size="14.00">consul : Clean existing consul instance</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_041b822f -->
<g id="edge_16fe4f8c" class="edge">
<title>role_944dd294-&gt;task_041b822f</title>
<g id="a_edge_16fe4f8c"><a xlink:title="5 [when: not dcs_disable_purge and consul_exists and dcs_exists_action == 'clean']">
<path fill="none" stroke="#88a329" d="M1581.03,-13967.95C1581.07,-14034 1591.08,-14263.61 1724.24,-14359.9 1769.65,-14392.74 2521.3,-14388.06 2865.38,-14384.16" id="path_edge_16fe4f8c"/>
<polygon fill="#88a329" stroke="#88a329" points="2865.48,-14387.66 2875.44,-14384.05 2865.4,-14380.66 2865.48,-14387.66"/>
</a>
</g>
<g id="a_edge_16fe4f8c-label"><a xlink:title="5 [when: not dcs_disable_purge and consul_exists and dcs_exists_action == 'clean']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_16fe4f8c" text-anchor="middle" startOffset="50%">5 [when: not dcs_disable_purge and consul_exists and dcs_exists_action == 'clean']</textPath></text>
</a>
</g>
<links><link target="task_041b822f"/></links></g>
<!-- task_9656127f -->
<g id="task_9656127f" class="node">
<title>task_9656127f</title>
<g id="a_task_9656127f"><a xlink:title="consul : Stop any running consul instance">
<polygon fill="none" stroke="#88a329" points="3207.74,-14320.44 3207.74,-14335.35 3107.1,-14345.9 2964.77,-14345.9 2864.13,-14335.35 2864.13,-14320.44 2964.77,-14309.9 3107.1,-14309.9 3207.74,-14320.44"/>
<text text-anchor="middle" x="3035.94" y="-14324.2" font-family="Times,serif" font-size="14.00">consul : Stop any running consul instance</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_9656127f -->
<g id="edge_8b9fb9c5" class="edge">
<title>role_944dd294-&gt;task_9656127f</title>
<g id="a_edge_8b9fb9c5"><a xlink:title="6 ">
<path fill="none" stroke="#88a329" d="M1582.31,-13968.01C1586.64,-14027.4 1609.32,-14216.98 1724.24,-14295.9 1814.92,-14358.16 2515.91,-14344.64 2853.87,-14334.29" id="path_edge_8b9fb9c5"/>
<polygon fill="#88a329" stroke="#88a329" points="2854.12,-14337.78 2864.01,-14333.97 2853.91,-14330.78 2854.12,-14337.78"/>
</a>
</g>
<g id="a_edge_8b9fb9c5-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_8b9fb9c5" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="task_9656127f"/></links></g>
<!-- task_06289aab -->
<g id="task_06289aab" class="node">
<title>task_06289aab</title>
<g id="a_task_06289aab"><a xlink:title="consul : Remove existing consul dir">
<polygon fill="none" stroke="#88a329" points="3185.62,-14266.44 3185.62,-14281.35 3097.94,-14291.9 2973.93,-14291.9 2886.25,-14281.35 2886.25,-14266.44 2973.93,-14255.9 3097.94,-14255.9 3185.62,-14266.44"/>
<text text-anchor="middle" x="3035.94" y="-14270.2" font-family="Times,serif" font-size="14.00">consul : Remove existing consul dir</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_06289aab -->
<g id="edge_83dd99d7" class="edge">
<title>role_944dd294-&gt;task_06289aab</title>
<g id="a_edge_83dd99d7"><a xlink:title="7 ">
<path fill="none" stroke="#88a329" d="M1583.43,-13968.08C1590.84,-14022.65 1621.14,-14185.41 1724.24,-14251.9 1771.82,-14282.58 2537.34,-14278.86 2875.95,-14275.68" id="path_edge_83dd99d7"/>
<polygon fill="#88a329" stroke="#88a329" points="2876.12,-14279.17 2886.09,-14275.58 2876.06,-14272.18 2876.12,-14279.17"/>
</a>
</g>
<g id="a_edge_83dd99d7-label"><a xlink:title="7 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_83dd99d7" text-anchor="middle" startOffset="50%">7 </textPath></text>
</a>
</g>
<links><link target="task_06289aab"/></links></g>
<!-- task_eb03e16c -->
<g id="task_eb03e16c" class="node">
<title>task_eb03e16c</title>
<g id="a_task_eb03e16c"><a xlink:title="consul : Recreate consul dir">
<polygon fill="none" stroke="#88a329" points="3154.31,-14212.44 3154.31,-14227.35 3084.97,-14237.9 2986.9,-14237.9 2917.56,-14227.35 2917.56,-14212.44 2986.9,-14201.9 3084.97,-14201.9 3154.31,-14212.44"/>
<text text-anchor="middle" x="3035.94" y="-14216.2" font-family="Times,serif" font-size="14.00">consul : Recreate consul dir</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_eb03e16c -->
<g id="edge_a4db5fec" class="edge">
<title>role_944dd294-&gt;task_eb03e16c</title>
<g id="a_edge_a4db5fec"><a xlink:title="8 ">
<path fill="none" stroke="#88a329" d="M1585.45,-13968.06C1597.33,-14015.58 1636.55,-14143.41 1724.24,-14194.9 1824.37,-14253.68 2597.64,-14234.64 2907.32,-14224.49" id="path_edge_a4db5fec"/>
<polygon fill="#88a329" stroke="#88a329" points="2907.81,-14227.97 2917.69,-14224.15 2907.58,-14220.98 2907.81,-14227.97"/>
</a>
</g>
<g id="a_edge_a4db5fec-label"><a xlink:title="8 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_a4db5fec" text-anchor="middle" startOffset="50%">8 </textPath></text>
</a>
</g>
<links><link target="task_eb03e16c"/></links></g>
<!-- task_34167711 -->
<g id="task_34167711" class="node">
<title>task_34167711</title>
<g id="a_task_34167711"><a xlink:title="consul : Make sure consul is installed">
<polygon fill="none" stroke="#88a329" points="3192.29,-14158.44 3192.29,-14173.35 3100.7,-14183.9 2971.17,-14183.9 2879.59,-14173.35 2879.59,-14158.44 2971.17,-14147.9 3100.7,-14147.9 3192.29,-14158.44"/>
<text text-anchor="middle" x="3035.94" y="-14162.2" font-family="Times,serif" font-size="14.00">consul : Make sure consul is installed</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_34167711 -->
<g id="edge_608b31a8" class="edge">
<title>role_944dd294-&gt;task_34167711</title>
<g id="a_edge_608b31a8"><a xlink:title="9 ">
<path fill="none" stroke="#88a329" d="M1588.48,-13967.9C1605.27,-14007.34 1651.36,-14100.78 1724.24,-14137.9 1823.67,-14188.54 2539.81,-14178.03 2869.54,-14170.34" id="path_edge_608b31a8"/>
<polygon fill="#88a329" stroke="#88a329" points="2869.75,-14173.83 2879.66,-14170.1 2869.58,-14166.83 2869.75,-14173.83"/>
</a>
</g>
<g id="a_edge_608b31a8-label"><a xlink:title="9 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_608b31a8" text-anchor="middle" startOffset="50%">9 </textPath></text>
</a>
</g>
<links><link target="task_34167711"/></links></g>
<!-- task_33b8545b -->
<g id="task_33b8545b" class="node">
<title>task_33b8545b</title>
<g id="a_task_33b8545b"><a xlink:title="consul : Make sure consul dir exists">
<polygon fill="none" stroke="#88a329" points="3185.62,-14104.44 3185.62,-14119.35 3097.94,-14129.9 2973.93,-14129.9 2886.25,-14119.35 2886.25,-14104.44 2973.93,-14093.9 3097.94,-14093.9 3185.62,-14104.44"/>
<text text-anchor="middle" x="3035.94" y="-14108.2" font-family="Times,serif" font-size="14.00">consul : Make sure consul dir exists</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_33b8545b -->
<g id="edge_154cf4cd" class="edge">
<title>role_944dd294-&gt;task_33b8545b</title>
<g id="a_edge_154cf4cd"><a xlink:title="10 ">
<path fill="none" stroke="#88a329" d="M1593.26,-13967.91C1615,-13998.88 1664.37,-14061.27 1724.24,-14085.9 1828.05,-14128.59 2550.16,-14120.93 2876.02,-14115.16" id="path_edge_154cf4cd"/>
<polygon fill="#88a329" stroke="#88a329" points="2876.09,-14118.66 2886.02,-14114.98 2875.96,-14111.66 2876.09,-14118.66"/>
</a>
</g>
<g id="a_edge_154cf4cd-label"><a xlink:title="10 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_154cf4cd" text-anchor="middle" startOffset="50%">10 </textPath></text>
</a>
</g>
<links><link target="task_33b8545b"/></links></g>
<!-- task_af2d818f -->
<g id="task_af2d818f" class="node">
<title>task_af2d818f</title>
<g id="a_task_af2d818f"><a xlink:title="consul : Get dcs server node names">
<polygon fill="none" stroke="#88a329" points="3183.9,-14050.44 3183.9,-14065.35 3097.23,-14075.9 2974.65,-14075.9 2887.97,-14065.35 2887.97,-14050.44 2974.65,-14039.9 3097.23,-14039.9 3183.9,-14050.44"/>
<text text-anchor="middle" x="3035.94" y="-14054.2" font-family="Times,serif" font-size="14.00">consul : Get dcs server node names</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_af2d818f -->
<g id="edge_e64077be" class="edge">
<title>role_944dd294-&gt;task_af2d818f</title>
<g id="a_edge_e64077be"><a xlink:title="11 [when: inventory_hostname in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1605.27,-13966.39C1632.63,-13984.18 1679.42,-14011.48 1724.24,-14022.9 1937.92,-14077.34 2578.85,-14069.42 2877.97,-14062.36" id="path_edge_e64077be"/>
<polygon fill="#88a329" stroke="#88a329" points="2878.12,-14065.85 2888.03,-14062.11 2877.95,-14058.85 2878.12,-14065.85"/>
</a>
</g>
<g id="a_edge_e64077be-label"><a xlink:title="11 [when: inventory_hostname in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_e64077be" text-anchor="middle" startOffset="50%">11 [when: inventory_hostname in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_af2d818f"/></links></g>
<!-- task_679ab269 -->
<g id="task_679ab269" class="node">
<title>task_679ab269</title>
<g id="a_task_679ab269"><a xlink:title="consul : Get dcs node name from var nodename">
<polygon fill="none" stroke="#88a329" points="3232.89,-13996.44 3232.89,-14011.35 3117.52,-14021.9 2954.35,-14021.9 2838.98,-14011.35 2838.98,-13996.44 2954.35,-13985.9 3117.52,-13985.9 3232.89,-13996.44"/>
<text text-anchor="middle" x="3035.94" y="-14000.2" font-family="Times,serif" font-size="14.00">consul : Get dcs node name from var nodename</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_679ab269 -->
<g id="edge_be95738c" class="edge">
<title>role_944dd294-&gt;task_679ab269</title>
<g id="a_edge_be95738c"><a xlink:title="12 [when: (dcs_nodename is not defined or dcs_nodename == '') and nodename is defined]">
<path fill="none" stroke="#88a329" d="M1630.79,-13957.78C1658.24,-13961.83 1693.05,-13966.42 1724.24,-13968.9 2113.73,-13999.9 2570.15,-14005.06 2828.65,-14005.1" id="path_edge_be95738c"/>
<polygon fill="#88a329" stroke="#88a329" points="2828.91,-14008.6 2838.91,-14005.1 2828.91,-14001.6 2828.91,-14008.6"/>
</a>
</g>
<g id="a_edge_be95738c-label"><a xlink:title="12 [when: (dcs_nodename is not defined or dcs_nodename == '') and nodename is defined]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_be95738c" text-anchor="middle" startOffset="50%">12 [when: (dcs_nodename is not defined or dcs_nodename == '') and nodename is defined]</textPath></text>
</a>
</g>
<links><link target="task_679ab269"/></links></g>
<!-- task_42ddf407 -->
<g id="task_42ddf407" class="node">
<title>task_42ddf407</title>
<g id="a_task_42ddf407"><a xlink:title="consul : Fetch hostname as dcs node name">
<polygon fill="none" stroke="#88a329" points="3211.68,-13942.44 3211.68,-13957.35 3108.73,-13967.9 2963.14,-13967.9 2860.19,-13957.35 2860.19,-13942.44 2963.14,-13931.9 3108.73,-13931.9 3211.68,-13942.44"/>
<text text-anchor="middle" x="3035.94" y="-13946.2" font-family="Times,serif" font-size="14.00">consul : Fetch hostname as dcs node name</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_42ddf407 -->
<g id="edge_e7de043a" class="edge">
<title>role_944dd294-&gt;task_42ddf407</title>
<g id="a_edge_e7de043a"><a xlink:title="13 [when: dcs_nodename is not defined or dcs_nodename == '']">
<path fill="none" stroke="#88a329" d="M1636.53,-13949.9C1834.84,-13949.9 2517.03,-13949.9 2849.65,-13949.9" id="path_edge_e7de043a"/>
<polygon fill="#88a329" stroke="#88a329" points="2849.88,-13953.4 2859.88,-13949.9 2849.88,-13946.4 2849.88,-13953.4"/>
</a>
</g>
<g id="a_edge_e7de043a-label"><a xlink:title="13 [when: dcs_nodename is not defined or dcs_nodename == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_e7de043a" text-anchor="middle" startOffset="50%">13 [when: dcs_nodename is not defined or dcs_nodename == '']</textPath></text>
</a>
</g>
<links><link target="task_42ddf407"/></links></g>
<!-- task_2a6f3cf9 -->
<g id="task_2a6f3cf9" class="node">
<title>task_2a6f3cf9</title>
<g id="a_task_2a6f3cf9"><a xlink:title="consul : Get dcs name from hostname">
<polygon fill="none" stroke="#88a329" points="3194.01,-13888.44 3194.01,-13903.35 3101.41,-13913.9 2970.46,-13913.9 2877.86,-13903.35 2877.86,-13888.44 2970.46,-13877.9 3101.41,-13877.9 3194.01,-13888.44"/>
<text text-anchor="middle" x="3035.94" y="-13892.2" font-family="Times,serif" font-size="14.00">consul : Get dcs name from hostname</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_2a6f3cf9 -->
<g id="edge_247b3b49" class="edge">
<title>role_944dd294-&gt;task_2a6f3cf9</title>
<g id="a_edge_247b3b49"><a xlink:title="14 [when: dcs_nodename is not defined or dcs_nodename == '']">
<path fill="none" stroke="#88a329" d="M1630.79,-13942.02C1658.24,-13937.97 1693.05,-13933.38 1724.24,-13930.9 2134.1,-13898.28 2618.07,-13894.26 2867.55,-13894.73" id="path_edge_247b3b49"/>
<polygon fill="#88a329" stroke="#88a329" points="2867.78,-13898.23 2877.79,-13894.75 2867.8,-13891.23 2867.78,-13898.23"/>
</a>
</g>
<g id="a_edge_247b3b49-label"><a xlink:title="14 [when: dcs_nodename is not defined or dcs_nodename == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_247b3b49" text-anchor="middle" startOffset="50%">14 [when: dcs_nodename is not defined or dcs_nodename == '']</textPath></text>
</a>
</g>
<links><link target="task_2a6f3cf9"/></links></g>
<!-- task_f82aa98a -->
<g id="task_f82aa98a" class="node">
<title>task_f82aa98a</title>
<g id="a_task_f82aa98a"><a xlink:title="consul : Make sure consul hcl absent">
<polygon fill="none" stroke="#88a329" points="3189.16,-13834.44 3189.16,-13849.35 3099.4,-13859.9 2972.47,-13859.9 2882.71,-13849.35 2882.71,-13834.44 2972.47,-13823.9 3099.4,-13823.9 3189.16,-13834.44"/>
<text text-anchor="middle" x="3035.94" y="-13838.2" font-family="Times,serif" font-size="14.00">consul : Make sure consul hcl absent</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_f82aa98a -->
<g id="edge_e81c4458" class="edge">
<title>role_944dd294-&gt;task_f82aa98a</title>
<g id="a_edge_e81c4458"><a xlink:title="15 ">
<path fill="none" stroke="#88a329" d="M1604.74,-13933.5C1632,-13915.47 1679.05,-13887.53 1724.24,-13875.9 1936.49,-13821.29 2571.03,-13829.6 2872.47,-13837.07" id="path_edge_e81c4458"/>
<polygon fill="#88a329" stroke="#88a329" points="2872.53,-13840.57 2882.61,-13837.32 2872.7,-13833.57 2872.53,-13840.57"/>
</a>
</g>
<g id="a_edge_e81c4458-label"><a xlink:title="15 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_e81c4458" text-anchor="middle" startOffset="50%">15 </textPath></text>
</a>
</g>
<links><link target="task_f82aa98a"/></links></g>
<!-- task_1fca224d -->
<g id="task_1fca224d" class="node">
<title>task_1fca224d</title>
<g id="a_task_1fca224d"><a xlink:title="consul : Copy /etc/consul.d/consul.json">
<polygon fill="none" stroke="#88a329" points="3197.54,-13780.44 3197.54,-13795.35 3102.88,-13805.9 2969,-13805.9 2874.33,-13795.35 2874.33,-13780.44 2969,-13769.9 3102.88,-13769.9 3197.54,-13780.44"/>
<text text-anchor="middle" x="3035.94" y="-13784.2" font-family="Times,serif" font-size="14.00">consul : Copy /etc/consul.d/consul.json</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_1fca224d -->
<g id="edge_3ce44003" class="edge">
<title>role_944dd294-&gt;task_1fca224d</title>
<g id="a_edge_3ce44003"><a xlink:title="16 ">
<path fill="none" stroke="#88a329" d="M1592.85,-13932.12C1614.3,-13900.86 1663.71,-13837 1724.24,-13811.9 1930.42,-13726.4 2590.11,-13757.83 2887.31,-13777.2" id="path_edge_3ce44003"/>
<polygon fill="#88a329" stroke="#88a329" points="2887.09,-13780.69 2897.3,-13777.86 2887.55,-13773.71 2887.09,-13780.69"/>
</a>
</g>
<g id="a_edge_3ce44003-label"><a xlink:title="16 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_3ce44003" text-anchor="middle" startOffset="50%">16 </textPath></text>
</a>
</g>
<links><link target="task_1fca224d"/></links></g>
<!-- task_2d466992 -->
<g id="task_2d466992" class="node">
<title>task_2d466992</title>
<g id="a_task_2d466992"><a xlink:title="consul : Copy consul agent service">
<polygon fill="none" stroke="#88a329" points="3180.77,-13726.44 3180.77,-13741.35 3095.93,-13751.9 2975.94,-13751.9 2891.1,-13741.35 2891.1,-13726.44 2975.94,-13715.9 3095.93,-13715.9 3180.77,-13726.44"/>
<text text-anchor="middle" x="3035.94" y="-13730.2" font-family="Times,serif" font-size="14.00">consul : Copy consul agent service</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_2d466992 -->
<g id="edge_179502cf" class="edge">
<title>role_944dd294-&gt;task_2d466992</title>
<g id="a_edge_179502cf"><a xlink:title="17 ">
<path fill="none" stroke="#88a329" d="M1586.77,-13932.01C1601.06,-13888.73 1644.1,-13778.83 1724.24,-13735.9 1823.71,-13682.62 2555.85,-13710.7 2880.58,-13726.05" id="path_edge_179502cf"/>
<polygon fill="#88a329" stroke="#88a329" points="2880.86,-13729.57 2891.01,-13726.55 2881.19,-13722.58 2880.86,-13729.57"/>
</a>
</g>
<g id="a_edge_179502cf-label"><a xlink:title="17 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_179502cf" text-anchor="middle" startOffset="50%">17 </textPath></text>
</a>
</g>
<links><link target="task_2d466992"/></links></g>
<!-- task_4c4f2d3b -->
<g id="task_4c4f2d3b" class="node">
<title>task_4c4f2d3b</title>
<g id="a_task_4c4f2d3b"><a xlink:title="consul : Copy consul node-meta definition">
<polygon fill="none" stroke="#88a329" points="3210.37,-13672.44 3210.37,-13687.35 3108.19,-13697.9 2963.68,-13697.9 2861.5,-13687.35 2861.5,-13672.44 2963.68,-13661.9 3108.19,-13661.9 3210.37,-13672.44"/>
<text text-anchor="middle" x="3035.94" y="-13676.2" font-family="Times,serif" font-size="14.00">consul : Copy consul node-meta definition</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_4c4f2d3b -->
<g id="edge_efc9faf3" class="edge">
<title>role_944dd294-&gt;task_4c4f2d3b</title>
<g id="a_edge_efc9faf3"><a xlink:title="18 [when: dcs_type == 'consul']">
<path fill="none" stroke="#88a329" d="M1584.6,-13931.7C1594.75,-13881.48 1630.76,-13740.93 1724.24,-13684.9 1819.26,-13627.94 2528.12,-13654.74 2861.98,-13670.83" id="path_edge_efc9faf3"/>
<polygon fill="#88a329" stroke="#88a329" points="2862.08,-13674.34 2872.23,-13671.33 2862.41,-13667.35 2862.08,-13674.34"/>
</a>
</g>
<g id="a_edge_efc9faf3-label"><a xlink:title="18 [when: dcs_type == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_efc9faf3" text-anchor="middle" startOffset="50%">18 [when: dcs_type == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_4c4f2d3b"/></links></g>
<!-- task_46c019ec -->
<g id="task_46c019ec" class="node">
<title>task_46c019ec</title>
<g id="a_task_46c019ec"><a xlink:title="consul : Restart consul to load new node-meta">
<polygon fill="none" stroke="#88a329" points="3225.42,-13618.44 3225.42,-13633.35 3114.42,-13643.9 2957.45,-13643.9 2846.46,-13633.35 2846.46,-13618.44 2957.45,-13607.9 3114.42,-13607.9 3225.42,-13618.44"/>
<text text-anchor="middle" x="3035.94" y="-13622.2" font-family="Times,serif" font-size="14.00">consul : Restart consul to load new node-meta</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_46c019ec -->
<g id="edge_9fc53847" class="edge">
<title>role_944dd294-&gt;task_46c019ec</title>
<g id="a_edge_9fc53847"><a xlink:title="19 [when: dcs_type == 'consul']">
<path fill="none" stroke="#88a329" d="M1582.89,-13931.89C1588.9,-13875.41 1615.89,-13701.38 1724.24,-13630.9 1816.6,-13570.82 2519.44,-13598.79 2856.16,-13615.96" id="path_edge_9fc53847"/>
<polygon fill="#88a329" stroke="#88a329" points="2856.34,-13619.48 2866.5,-13616.49 2856.7,-13612.49 2856.34,-13619.48"/>
</a>
</g>
<g id="a_edge_9fc53847-label"><a xlink:title="19 [when: dcs_type == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_9fc53847" text-anchor="middle" startOffset="50%">19 [when: dcs_type == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_46c019ec"/></links></g>
<!-- task_0dedcd71 -->
<g id="task_0dedcd71" class="node">
<title>task_0dedcd71</title>
<g id="a_task_0dedcd71"><a xlink:title="consul : Get dcs bootstrap expect quroum">
<polygon fill="none" stroke="#88a329" points="3207.74,-13564.44 3207.74,-13579.35 3107.1,-13589.9 2964.77,-13589.9 2864.13,-13579.35 2864.13,-13564.44 2964.77,-13553.9 3107.1,-13553.9 3207.74,-13564.44"/>
<text text-anchor="middle" x="3035.94" y="-13568.2" font-family="Times,serif" font-size="14.00">consul : Get dcs bootstrap expect quroum</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_0dedcd71 -->
<g id="edge_cc167d6b" class="edge">
<title>role_944dd294-&gt;task_0dedcd71</title>
<g id="a_edge_cc167d6b"><a xlink:title="20 [when: inventory_hostname in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1581.63,-13931.56C1583.8,-13868.59 1600.42,-13660.43 1724.24,-13574.9 1816.29,-13511.32 2540.33,-13543.65 2871.1,-13562.06" id="path_edge_cc167d6b"/>
<polygon fill="#88a329" stroke="#88a329" points="2871.07,-13565.56 2881.25,-13562.62 2871.47,-13558.57 2871.07,-13565.56"/>
</a>
</g>
<g id="a_edge_cc167d6b-label"><a xlink:title="20 [when: inventory_hostname in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_cc167d6b" text-anchor="middle" startOffset="50%">20 [when: inventory_hostname in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_0dedcd71"/></links></g>
<!-- task_1c4722a3 -->
<g id="task_1c4722a3" class="node">
<title>task_1c4722a3</title>
<g id="a_task_1c4722a3"><a xlink:title="consul : Copy consul server service unit">
<polygon fill="none" stroke="#88a329" points="3201.08,-13510.44 3201.08,-13525.35 3104.34,-13535.9 2967.53,-13535.9 2870.79,-13525.35 2870.79,-13510.44 2967.53,-13499.9 3104.34,-13499.9 3201.08,-13510.44"/>
<text text-anchor="middle" x="3035.94" y="-13514.2" font-family="Times,serif" font-size="14.00">consul : Copy consul server service unit</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_1c4722a3 -->
<g id="edge_daa138c6" class="edge">
<title>role_944dd294-&gt;task_1c4722a3</title>
<g id="a_edge_daa138c6"><a xlink:title="21 [when: inventory_hostname in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1580.62,-13931.78C1579.11,-13863.33 1584.01,-13619.21 1724.24,-13517.9 1769.45,-13485.24 2514.23,-13502.61 2860.49,-13512.53" id="path_edge_daa138c6"/>
<polygon fill="#88a329" stroke="#88a329" points="2860.52,-13516.03 2870.62,-13512.82 2860.72,-13509.03 2860.52,-13516.03"/>
</a>
</g>
<g id="a_edge_daa138c6-label"><a xlink:title="21 [when: inventory_hostname in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_daa138c6" text-anchor="middle" startOffset="50%">21 [when: inventory_hostname in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_1c4722a3"/></links></g>
<!-- task_8b38adf2 -->
<g id="task_8b38adf2" class="node">
<title>task_8b38adf2</title>
<g id="a_task_8b38adf2"><a xlink:title="consul : Launch consul server service">
<polygon fill="none" stroke="#88a329" points="3191.38,-13456.44 3191.38,-13471.35 3100.32,-13481.9 2971.55,-13481.9 2880.49,-13471.35 2880.49,-13456.44 2971.55,-13445.9 3100.32,-13445.9 3191.38,-13456.44"/>
<text text-anchor="middle" x="3035.94" y="-13460.2" font-family="Times,serif" font-size="14.00">consul : Launch consul server service</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_8b38adf2 -->
<g id="edge_6beb7252" class="edge">
<title>role_944dd294-&gt;task_8b38adf2</title>
<g id="a_edge_6beb7252"><a xlink:title="22 [when: inventory_hostname in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1583.96,-13931.86C1595.95,-13852.67 1648.02,-13537.11 1724.24,-13479.9 1814.08,-13412.46 2545.08,-13439.54 2874.74,-13455.45" id="path_edge_6beb7252"/>
<polygon fill="#88a329" stroke="#88a329" points="2874.69,-13458.95 2884.85,-13455.94 2875.03,-13451.96 2874.69,-13458.95"/>
</a>
</g>
<g id="a_edge_6beb7252-label"><a xlink:title="22 [when: inventory_hostname in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_6beb7252" text-anchor="middle" startOffset="50%">22 [when: inventory_hostname in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_8b38adf2"/></links></g>
<!-- task_d6749874 -->
<g id="task_d6749874" class="node">
<title>task_d6749874</title>
<g id="a_task_d6749874"><a xlink:title="consul : Wait for consul server online">
<polygon fill="none" stroke="#88a329" points="3192.29,-13402.44 3192.29,-13417.35 3100.7,-13427.9 2971.17,-13427.9 2879.59,-13417.35 2879.59,-13402.44 2971.17,-13391.9 3100.7,-13391.9 3192.29,-13402.44"/>
<text text-anchor="middle" x="3035.94" y="-13406.2" font-family="Times,serif" font-size="14.00">consul : Wait for consul server online</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_d6749874 -->
<g id="edge_372181e0" class="edge">
<title>role_944dd294-&gt;task_d6749874</title>
<g id="a_edge_372181e0"><a xlink:title="23 [when: inventory_hostname in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1583.28,-13931.81C1592.97,-13846.18 1638.72,-13482.88 1724.24,-13416.9 1813.82,-13347.79 2555.25,-13381.83 2881.66,-13400.47" id="path_edge_372181e0"/>
<polygon fill="#88a329" stroke="#88a329" points="2881.49,-13403.96 2891.67,-13401.04 2881.89,-13396.97 2881.49,-13403.96"/>
</a>
</g>
<g id="a_edge_372181e0-label"><a xlink:title="23 [when: inventory_hostname in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_372181e0" text-anchor="middle" startOffset="50%">23 [when: inventory_hostname in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_d6749874"/></links></g>
<!-- task_a7a10abd -->
<g id="task_a7a10abd" class="node">
<title>task_a7a10abd</title>
<g id="a_task_a7a10abd"><a xlink:title="consul : Launch consul agent service">
<polygon fill="none" stroke="#88a329" points="3189.16,-13348.44 3189.16,-13363.35 3099.4,-13373.9 2972.47,-13373.9 2882.71,-13363.35 2882.71,-13348.44 2972.47,-13337.9 3099.4,-13337.9 3189.16,-13348.44"/>
<text text-anchor="middle" x="3035.94" y="-13352.2" font-family="Times,serif" font-size="14.00">consul : Launch consul agent service</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_a7a10abd -->
<g id="edge_15ce6bfc" class="edge">
<title>role_944dd294-&gt;task_a7a10abd</title>
<g id="a_edge_15ce6bfc"><a xlink:title="24 [when: inventory_hostname not in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1582.76,-13931.63C1590.44,-13839.82 1629.68,-13430.41 1724.24,-13355.9 1768.56,-13320.98 2531.19,-13340.18 2872.31,-13350.59" id="path_edge_15ce6bfc"/>
<polygon fill="#88a329" stroke="#88a329" points="2872.42,-13354.09 2882.52,-13350.9 2872.64,-13347.1 2872.42,-13354.09"/>
</a>
</g>
<g id="a_edge_15ce6bfc-label"><a xlink:title="24 [when: inventory_hostname not in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_15ce6bfc" text-anchor="middle" startOffset="50%">24 [when: inventory_hostname not in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_a7a10abd"/></links></g>
<!-- task_276f8a39 -->
<g id="task_276f8a39" class="node">
<title>task_276f8a39</title>
<g id="a_task_276f8a39"><a xlink:title="consul : Wait for consul agent online">
<polygon fill="none" stroke="#88a329" points="3189.16,-13294.44 3189.16,-13309.35 3099.4,-13319.9 2972.47,-13319.9 2882.71,-13309.35 2882.71,-13294.44 2972.47,-13283.9 3099.4,-13283.9 3189.16,-13294.44"/>
<text text-anchor="middle" x="3035.94" y="-13298.2" font-family="Times,serif" font-size="14.00">consul : Wait for consul agent online</text>
</a>
</g>
</g>
<!-- role_944dd294&#45;&gt;task_276f8a39 -->
<g id="edge_3037da94" class="edge">
<title>role_944dd294-&gt;task_276f8a39</title>
<g id="a_edge_3037da94"><a xlink:title="25 [when: inventory_hostname not in dcs_servers.values()]">
<path fill="none" stroke="#88a329" d="M1582.48,-13931.71C1588.99,-13836.49 1624.21,-13396.77 1724.24,-13315.9 1768.12,-13280.42 2530.99,-13291.52 2872.24,-13298.31" id="path_edge_3037da94"/>
<polygon fill="#88a329" stroke="#88a329" points="2872.39,-13301.82 2882.46,-13298.52 2872.53,-13294.82 2872.39,-13301.82"/>
</a>
</g>
<g id="a_edge_3037da94-label"><a xlink:title="25 [when: inventory_hostname not in dcs_servers.values()]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#88a329" dy="-1%"><textPath xlink:href="#path_edge_3037da94" text-anchor="middle" startOffset="50%">25 [when: inventory_hostname not in dcs_servers.values()]</textPath></text>
</a>
</g>
<links><link target="task_276f8a39"/></links></g>
<!-- role_7e1eef3e -->
<g id="role_7e1eef3e" class="node">
<title>role_7e1eef3e</title>
<g id="a_role_7e1eef3e"><a xlink:title="ca">
<ellipse fill="none" stroke="#b87a14" cx="1580.32" cy="-13139.9" rx="40.09" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-13136.2" font-family="Times,serif" font-size="14.00">[role] ca</text>
</a>
</g>
<links><link target="edge_2f96890a"/><link target="edge_1cbcd2c8"/><link target="edge_432a0502"/><link target="edge_428559c5"/></links></g>
<!-- play_22497c89&#45;&gt;role_7e1eef3e -->
<g id="edge_b52059c0" class="edge">
<title>play_22497c89-&gt;role_7e1eef3e</title>
<g id="a_edge_b52059c0"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M267.66,-12158.91C277.14,-12252.28 324.95,-12680.54 412.39,-12774.9 726.44,-13113.79 1350.05,-13140.27 1529.78,-13140.59" id="path_edge_b52059c0"/>
<polygon fill="#b87a14" stroke="#b87a14" points="1529.99,-13144.09 1539.98,-13140.58 1529.98,-13137.09 1529.99,-13144.09"/>
</a>
</g>
<g id="a_edge_b52059c0-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_b52059c0" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_7e1eef3e"/></links></g>
<!-- role_aca5f44e -->
<g id="role_aca5f44e" class="node">
<title>role_aca5f44e</title>
<g id="a_role_aca5f44e"><a xlink:title="nameserver">
<ellipse fill="none" stroke="#b87a14" cx="1580.32" cy="-12842.9" rx="73.39" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-12839.2" font-family="Times,serif" font-size="14.00">[role] nameserver</text>
</a>
</g>
<links><link target="edge_93b2bd73"/><link target="edge_d687a9cc"/><link target="edge_fb5fcb86"/><link target="edge_3cf71faa"/><link target="edge_e1f22413"/><link target="edge_4a1ff448"/><link target="edge_fcd2c1b2"/></links></g>
<!-- play_22497c89&#45;&gt;role_aca5f44e -->
<g id="edge_306f0911" class="edge">
<title>play_22497c89-&gt;role_aca5f44e</title>
<g id="a_edge_306f0911"><a xlink:title="2 ">
<path fill="none" stroke="#b87a14" d="M299.68,-12158.96C481.6,-12256.19 1343.62,-12716.92 1539.61,-12821.67" id="path_edge_306f0911"/>
<polygon fill="#b87a14" stroke="#b87a14" points="1538.22,-12824.9 1548.69,-12826.53 1541.52,-12818.73 1538.22,-12824.9"/>
</a>
</g>
<g id="a_edge_306f0911-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_306f0911" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="role_aca5f44e"/></links></g>
<!-- role_a5b5c1ed -->
<g id="role_a5b5c1ed" class="node">
<title>role_a5b5c1ed</title>
<g id="a_role_a5b5c1ed"><a xlink:title="nginx">
<ellipse fill="none" stroke="#b87a14" cx="1580.32" cy="-12140.9" rx="52.79" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-12137.2" font-family="Times,serif" font-size="14.00">[role] nginx</text>
</a>
</g>
<links><link target="edge_bfb0065b"/><link target="edge_9e52b149"/><link target="edge_b04e3e28"/><link target="edge_c132c4f3"/><link target="edge_d301c561"/><link target="edge_09a90d17"/><link target="edge_41ff666f"/><link target="edge_cbaf7740"/><link target="edge_7627d022"/><link target="edge_ff88bbdf"/><link target="edge_ac02ee31"/><link target="edge_740edc9d"/><link target="edge_eab03276"/><link target="edge_1abc8b39"/><link target="edge_c6133ee7"/><link target="edge_99d0038c"/><link target="edge_71a80ec9"/><link target="edge_81a41bc5"/><link target="edge_fbbba28f"/><link target="edge_97e045fd"/></links></g>
<!-- play_22497c89&#45;&gt;role_a5b5c1ed -->
<g id="edge_ebafe515" class="edge">
<title>play_22497c89-&gt;role_a5b5c1ed</title>
<g id="a_edge_ebafe515"><a xlink:title="3 ">
<path fill="none" stroke="#b87a14" d="M394.52,-12140.9C671.33,-12140.9 1314.8,-12140.9 1517.21,-12140.9" id="path_edge_ebafe515"/>
<polygon fill="#b87a14" stroke="#b87a14" points="1517.37,-12144.4 1527.37,-12140.9 1517.37,-12137.4 1517.37,-12144.4"/>
</a>
</g>
<g id="a_edge_ebafe515-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_ebafe515" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="role_a5b5c1ed"/></links></g>
<!-- role_04fe8cda -->
<g id="role_04fe8cda" class="node">
<title>role_04fe8cda</title>
<g id="a_role_04fe8cda"><a xlink:title="prometheus">
<ellipse fill="none" stroke="#b87a14" cx="1580.32" cy="-11141.9" rx="74.19" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-11138.2" font-family="Times,serif" font-size="14.00">[role] prometheus</text>
</a>
</g>
<links><link target="edge_d96ccf92"/><link target="edge_faa4a175"/><link target="edge_d9fc59a5"/><link target="edge_2c067356"/><link target="edge_40efee61"/><link target="edge_44beb28f"/><link target="edge_28e4a33d"/><link target="edge_0f7951e5"/><link target="edge_8e3071bc"/><link target="edge_8658aaf5"/><link target="edge_fd8c2839"/><link target="edge_14ad833e"/><link target="edge_eba40594"/><link target="edge_fba775c3"/><link target="edge_a37546bf"/><link target="edge_1af096e5"/><link target="edge_9900feba"/><link target="edge_31de766a"/></links></g>
<!-- play_22497c89&#45;&gt;role_04fe8cda -->
<g id="edge_49d64f72" class="edge">
<title>play_22497c89-&gt;role_04fe8cda</title>
<g id="a_edge_49d64f72"><a xlink:title="4 ">
<path fill="none" stroke="#b87a14" d="M289.81,-12122.71C450.24,-12000.68 1368.84,-11301.99 1548.75,-11165.15" id="path_edge_49d64f72"/>
<polygon fill="#b87a14" stroke="#b87a14" points="1550.92,-11167.9 1556.76,-11159.06 1546.68,-11162.33 1550.92,-11167.9"/>
</a>
</g>
<g id="a_edge_49d64f72-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_49d64f72" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="role_04fe8cda"/></links></g>
<!-- role_16780a65 -->
<g id="role_16780a65" class="node">
<title>role_16780a65</title>
<g id="a_role_16780a65"><a xlink:title="grafana">
<ellipse fill="none" stroke="#b87a14" cx="1580.32" cy="-10196.9" rx="59.29" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-10193.2" font-family="Times,serif" font-size="14.00">[role] grafana</text>
</a>
</g>
<links><link target="edge_1c913d03"/><link target="edge_1a4fe000"/><link target="edge_e6bb159b"/><link target="edge_a967fd38"/><link target="edge_70417d95"/><link target="edge_65183387"/><link target="edge_fa22a6d3"/><link target="edge_aa0810da"/><link target="edge_9a6df3a9"/><link target="edge_42427927"/><link target="edge_a8663a53"/><link target="edge_7d5cb2c3"/><link target="edge_99f1a959"/><link target="edge_7175e725"/><link target="edge_be4a991c"/><link target="edge_6be49806"/><link target="edge_849fb7eb"/></links></g>
<!-- play_22497c89&#45;&gt;role_16780a65 -->
<g id="edge_88e155f9" class="edge">
<title>play_22497c89-&gt;role_16780a65</title>
<g id="a_edge_88e155f9"><a xlink:title="5 ">
<path fill="none" stroke="#b87a14" d="M267.21,-12122.63C275.63,-12009.63 324.23,-11405.63 412.39,-11245.9 706.05,-10713.89 993.84,-10756.33 1436.39,-10339.9 1479.33,-10299.49 1527.46,-10250.54 1555.48,-10221.65" id="path_edge_88e155f9"/>
<polygon fill="#b87a14" stroke="#b87a14" points="1558.05,-10224.03 1562.49,-10214.41 1553.02,-10219.16 1558.05,-10224.03"/>
</a>
</g>
<g id="a_edge_88e155f9-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_88e155f9" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="role_16780a65"/></links></g>
<!-- role_c6151a82 -->
<g id="role_c6151a82" class="node">
<title>role_c6151a82</title>
<g id="a_role_c6151a82"><a xlink:title="loki">
<ellipse fill="none" stroke="#b87a14" cx="1580.32" cy="-9548.9" rx="46.29" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-9545.2" font-family="Times,serif" font-size="14.00">[role] loki</text>
</a>
</g>
<links><link target="edge_466383b4"/><link target="edge_f49acb57"/><link target="edge_bc3bd1cd"/><link target="edge_7836e012"/><link target="edge_223778d3"/><link target="edge_297aae70"/><link target="edge_a4dd5900"/></links></g>
<!-- play_22497c89&#45;&gt;role_c6151a82 -->
<g id="edge_d93c4449" class="edge">
<title>play_22497c89-&gt;role_c6151a82</title>
<g id="a_edge_d93c4449"><a xlink:title="6 ">
<path fill="none" stroke="#b87a14" d="M266.4,-12122.66C271.5,-11942.5 315.65,-10484.77 412.39,-10320.9 684.5,-9860.01 1352.64,-9620.6 1533.52,-9562.84" id="path_edge_d93c4449"/>
<polygon fill="#b87a14" stroke="#b87a14" points="1534.78,-9566.11 1543.25,-9559.76 1532.66,-9559.44 1534.78,-9566.11"/>
</a>
</g>
<g id="a_edge_d93c4449-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_d93c4449" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="role_c6151a82"/></links></g>
<!-- task_bb97cae5 -->
<g id="task_bb97cae5" class="node">
<title>task_bb97cae5</title>
<g id="a_task_bb97cae5"><a xlink:title="ca : Create local ca directory">
<polygon fill="none" stroke="#b87a14" points="3157.84,-13240.44 3157.84,-13255.35 3086.43,-13265.9 2985.44,-13265.9 2914.03,-13255.35 2914.03,-13240.44 2985.44,-13229.9 3086.43,-13229.9 3157.84,-13240.44"/>
<text text-anchor="middle" x="3035.94" y="-13244.2" font-family="Times,serif" font-size="14.00">ca : Create local ca directory</text>
</a>
</g>
</g>
<!-- role_7e1eef3e&#45;&gt;task_bb97cae5 -->
<g id="edge_2f96890a" class="edge">
<title>role_7e1eef3e-&gt;task_bb97cae5</title>
<g id="a_edge_2f96890a"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M1603.33,-13155.12C1630.38,-13172.85 1678.34,-13201.21 1724.24,-13212.9 1944.36,-13268.98 2617.84,-13258.89 2904.05,-13251.72" id="path_edge_2f96890a"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2904.15,-13255.22 2914.06,-13251.47 2903.98,-13248.22 2904.15,-13255.22"/>
</a>
</g>
<g id="a_edge_2f96890a-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_2f96890a" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_bb97cae5"/></links></g>
<!-- task_98ba884c -->
<g id="task_98ba884c" class="node">
<title>task_98ba884c</title>
<g id="a_task_98ba884c"><a xlink:title="ca : Copy ca cert from local files">
<polygon fill="none" stroke="#b87a14" points="3173.71,-13186.44 3173.71,-13201.35 3093,-13211.9 2978.87,-13211.9 2898.17,-13201.35 2898.17,-13186.44 2978.87,-13175.9 3093,-13175.9 3173.71,-13186.44"/>
<text text-anchor="middle" x="3035.94" y="-13190.2" font-family="Times,serif" font-size="14.00">ca : Copy ca cert from local files</text>
</a>
</g>
</g>
<!-- role_7e1eef3e&#45;&gt;task_98ba884c -->
<g id="edge_1cbcd2c8" class="edge">
<title>role_7e1eef3e-&gt;task_98ba884c</title>
<g id="a_edge_1cbcd2c8"><a xlink:title="2 [when: ca_method == 'copy']">
<path fill="none" stroke="#b87a14" d="M1618.52,-13145.94C1647.3,-13150.35 1688.19,-13156.03 1724.24,-13158.9 2145.36,-13192.42 2644.73,-13195.73 2887.58,-13195.02" id="path_edge_1cbcd2c8"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2887.89,-13198.52 2897.88,-13194.99 2887.87,-13191.52 2887.89,-13198.52"/>
</a>
</g>
<g id="a_edge_1cbcd2c8-label"><a xlink:title="2 [when: ca_method == 'copy']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_1cbcd2c8" text-anchor="middle" startOffset="50%">2 [when: ca_method == 'copy']</textPath></text>
</a>
</g>
<links><link target="task_98ba884c"/></links></g>
<!-- task_61332fee -->
<g id="task_61332fee" class="node">
<title>task_61332fee</title>
<g id="a_task_61332fee"><a xlink:title="ca : Check ca key cert exists">
<polygon fill="none" stroke="#b87a14" points="3156.94,-13132.44 3156.94,-13147.35 3086.06,-13157.9 2985.82,-13157.9 2914.93,-13147.35 2914.93,-13132.44 2985.82,-13121.9 3086.06,-13121.9 3156.94,-13132.44"/>
<text text-anchor="middle" x="3035.94" y="-13136.2" font-family="Times,serif" font-size="14.00">ca : Check ca key cert exists</text>
</a>
</g>
</g>
<!-- role_7e1eef3e&#45;&gt;task_61332fee -->
<g id="edge_432a0502" class="edge">
<title>role_7e1eef3e-&gt;task_61332fee</title>
<g id="a_edge_432a0502"><a xlink:title="3 [when: ca_method == 'create' or ca_method == 'recreate']">
<path fill="none" stroke="#b87a14" d="M1620.95,-13139.9C1806.24,-13139.9 2591.19,-13139.9 2904.76,-13139.9" id="path_edge_432a0502"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2904.81,-13143.4 2914.81,-13139.9 2904.81,-13136.4 2904.81,-13143.4"/>
</a>
</g>
<g id="a_edge_432a0502-label"><a xlink:title="3 [when: ca_method == 'create' or ca_method == 'recreate']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_432a0502" text-anchor="middle" startOffset="50%">3 [when: ca_method == 'create' or ca_method == 'recreate']</textPath></text>
</a>
</g>
<links><link target="task_61332fee"/></links></g>
<!-- task_64ee109c -->
<g id="task_64ee109c" class="node">
<title>task_64ee109c</title>
<g id="a_task_64ee109c"><a xlink:title="ca : Create self-signed CA key-cert">
<polygon fill="none" stroke="#b87a14" points="3182.09,-13078.44 3182.09,-13093.35 3096.47,-13103.9 2975.4,-13103.9 2889.78,-13093.35 2889.78,-13078.44 2975.4,-13067.9 3096.47,-13067.9 3182.09,-13078.44"/>
<text text-anchor="middle" x="3035.94" y="-13082.2" font-family="Times,serif" font-size="14.00">ca : Create self-signed CA key-cert</text>
</a>
</g>
</g>
<!-- role_7e1eef3e&#45;&gt;task_64ee109c -->
<g id="edge_428559c5" class="edge">
<title>role_7e1eef3e-&gt;task_64ee109c</title>
<g id="a_edge_428559c5"><a xlink:title="4 [when: not ca_key_exists.stat.exists or ca_method == 'recreate']">
<path fill="none" stroke="#b87a14" d="M1618.52,-13133.86C1647.3,-13129.45 1688.19,-13123.77 1724.24,-13120.9 2140.81,-13087.74 2633.95,-13084.14 2879.62,-13084.76" id="path_edge_428559c5"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2879.68,-13088.26 2889.69,-13084.78 2879.7,-13081.26 2879.68,-13088.26"/>
</a>
</g>
<g id="a_edge_428559c5-label"><a xlink:title="4 [when: not ca_key_exists.stat.exists or ca_method == 'recreate']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_428559c5" text-anchor="middle" startOffset="50%">4 [when: not ca_key_exists.stat.exists or ca_method == 'recreate']</textPath></text>
</a>
</g>
<links><link target="task_64ee109c"/></links></g>
<!-- task_96854d05 -->
<g id="task_96854d05" class="node">
<title>task_96854d05</title>
<g id="a_task_96854d05"><a xlink:title="nameserver : Make sure dnsmasq package installed">
<polygon fill="none" stroke="#b87a14" points="3245.72,-13024.44 3245.72,-13039.35 3122.83,-13049.9 2949.04,-13049.9 2826.15,-13039.35 2826.15,-13024.44 2949.04,-13013.9 3122.83,-13013.9 3245.72,-13024.44"/>
<text text-anchor="middle" x="3035.94" y="-13028.2" font-family="Times,serif" font-size="14.00">nameserver : Make sure dnsmasq package installed</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_96854d05 -->
<g id="edge_93b2bd73" class="edge">
<title>role_aca5f44e-&gt;task_96854d05</title>
<g id="a_edge_93b2bd73"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M1590.71,-12860.91C1610.13,-12895.97 1658.45,-12972.57 1724.24,-13002.9 1922.75,-13094.4 2561.18,-13064.92 2867.67,-13044.5" id="path_edge_93b2bd73"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2868.25,-13047.97 2877.99,-13043.8 2867.78,-13040.98 2868.25,-13047.97"/>
</a>
</g>
<g id="a_edge_93b2bd73-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_93b2bd73" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_96854d05"/></links></g>
<!-- task_ac7e0a23 -->
<g id="task_ac7e0a23" class="node">
<title>task_ac7e0a23</title>
<g id="a_task_ac7e0a23"><a xlink:title="nameserver : Copy dnsmasq /etc/dnsmasq.d/config">
<polygon fill="none" stroke="#b87a14" points="3243.5,-12970.44 3243.5,-12985.35 3121.91,-12995.9 2949.96,-12995.9 2828.38,-12985.35 2828.38,-12970.44 2949.96,-12959.9 3121.91,-12959.9 3243.5,-12970.44"/>
<text text-anchor="middle" x="3035.94" y="-12974.2" font-family="Times,serif" font-size="14.00">nameserver : Copy dnsmasq /etc/dnsmasq.d/config</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_ac7e0a23 -->
<g id="edge_d687a9cc" class="edge">
<title>role_aca5f44e-&gt;task_ac7e0a23</title>
<g id="a_edge_d687a9cc"><a xlink:title="2 ">
<path fill="none" stroke="#b87a14" d="M1596.69,-12860.75C1620.74,-12887.19 1670.17,-12935.71 1724.24,-12954.9 1824.09,-12990.34 2472.26,-12986.39 2818.16,-12981.6" id="path_edge_d687a9cc"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2818.36,-12985.1 2828.31,-12981.46 2818.26,-12978.1 2818.36,-12985.1"/>
</a>
</g>
<g id="a_edge_d687a9cc-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_d687a9cc" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="task_ac7e0a23"/></links></g>
<!-- task_eb0ac8f7 -->
<g id="task_eb0ac8f7" class="node">
<title>task_eb0ac8f7</title>
<g id="a_task_eb0ac8f7"><a xlink:title="nameserver : Add dynamic dns records to meta">
<polygon fill="none" stroke="#b87a14" points="3229.36,-12916.44 3229.36,-12931.35 3116.05,-12941.9 2955.82,-12941.9 2842.52,-12931.35 2842.52,-12916.44 2955.82,-12905.9 3116.05,-12905.9 3229.36,-12916.44"/>
<text text-anchor="middle" x="3035.94" y="-12920.2" font-family="Times,serif" font-size="14.00">nameserver : Add dynamic dns records to meta</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_eb0ac8f7 -->
<g id="edge_fb5fcb86" class="edge">
<title>role_aca5f44e-&gt;task_eb0ac8f7</title>
<g id="a_edge_fb5fcb86"><a xlink:title="3 ">
<path fill="none" stroke="#b87a14" d="M1623.26,-12857.53C1651.43,-12866.63 1689.6,-12877.59 1724.24,-12882.9 2116.61,-12943.03 2582.51,-12940.27 2839.76,-12932.4" id="path_edge_fb5fcb86"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2840.08,-12935.89 2849.96,-12932.08 2839.86,-12928.89 2840.08,-12935.89"/>
</a>
</g>
<g id="a_edge_fb5fcb86-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_fb5fcb86" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_eb0ac8f7"/></links></g>
<!-- task_b2c7b59b -->
<g id="task_b2c7b59b" class="node">
<title>task_b2c7b59b</title>
<g id="a_task_b2c7b59b"><a xlink:title="nameserver : Launch meta dnsmasq service">
<polygon fill="none" stroke="#b87a14" points="3216.12,-12862.44 3216.12,-12877.35 3110.57,-12887.9 2961.3,-12887.9 2855.75,-12877.35 2855.75,-12862.44 2961.3,-12851.9 3110.57,-12851.9 3216.12,-12862.44"/>
<text text-anchor="middle" x="3035.94" y="-12866.2" font-family="Times,serif" font-size="14.00">nameserver : Launch meta dnsmasq service</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_b2c7b59b -->
<g id="edge_3cf71faa" class="edge">
<title>role_aca5f44e-&gt;task_b2c7b59b</title>
<g id="a_edge_3cf71faa"><a xlink:title="4 ">
<path fill="none" stroke="#b87a14" d="M1653.9,-12844.25C1871,-12848.28 2520.35,-12860.34 2845.32,-12866.38" id="path_edge_3cf71faa"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2845.73,-12869.88 2855.79,-12866.57 2845.86,-12862.89 2845.73,-12869.88"/>
</a>
</g>
<g id="a_edge_3cf71faa-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_3cf71faa" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="task_b2c7b59b"/></links></g>
<!-- task_5f11c060 -->
<g id="task_5f11c060" class="node">
<title>task_5f11c060</title>
<g id="a_task_5f11c060"><a xlink:title="nameserver : Wait for meta dnsmasq online">
<polygon fill="none" stroke="#b87a14" points="3216.53,-12808.44 3216.53,-12823.35 3110.74,-12833.9 2961.13,-12833.9 2855.34,-12823.35 2855.34,-12808.44 2961.13,-12797.9 3110.74,-12797.9 3216.53,-12808.44"/>
<text text-anchor="middle" x="3035.94" y="-12812.2" font-family="Times,serif" font-size="14.00">nameserver : Wait for meta dnsmasq online</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_5f11c060 -->
<g id="edge_e1f22413" class="edge">
<title>role_aca5f44e-&gt;task_5f11c060</title>
<g id="a_edge_e1f22413"><a xlink:title="5 ">
<path fill="none" stroke="#b87a14" d="M1644.15,-12833.9C1669.03,-12830.74 1697.93,-12827.56 1724.24,-12825.9 2122.46,-12800.77 2590.07,-12805.38 2845.19,-12810.77" id="path_edge_e1f22413"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2845.23,-12814.27 2855.3,-12810.99 2845.38,-12807.27 2845.23,-12814.27"/>
</a>
</g>
<g id="a_edge_e1f22413-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_e1f22413" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="task_5f11c060"/></links></g>
<!-- task_781ac871 -->
<g id="task_781ac871" class="node">
<title>task_781ac871</title>
<g id="a_task_781ac871"><a xlink:title="nameserver : Register consul dnsmasq service">
<polygon fill="none" stroke="#b87a14" points="3225.42,-12754.44 3225.42,-12769.35 3114.42,-12779.9 2957.45,-12779.9 2846.46,-12769.35 2846.46,-12754.44 2957.45,-12743.9 3114.42,-12743.9 3225.42,-12754.44"/>
<text text-anchor="middle" x="3035.94" y="-12758.2" font-family="Times,serif" font-size="14.00">nameserver : Register consul dnsmasq service</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_781ac871 -->
<g id="edge_4a1ff448" class="edge">
<title>role_aca5f44e-&gt;task_781ac871</title>
<g id="a_edge_4a1ff448"><a xlink:title="6 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1612.97,-12826.73C1641.29,-12813.18 1684.38,-12794.82 1724.24,-12786.9 2141.81,-12703.88 2648.97,-12728.84 2891.83,-12748.3" id="path_edge_4a1ff448"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2891.88,-12751.82 2902.13,-12749.14 2892.45,-12744.84 2891.88,-12751.82"/>
</a>
</g>
<g id="a_edge_4a1ff448-label"><a xlink:title="6 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_4a1ff448" text-anchor="middle" startOffset="50%">6 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_781ac871"/></links></g>
<!-- task_84548d0c -->
<g id="task_84548d0c" class="node">
<title>task_84548d0c</title>
<g id="a_task_84548d0c"><a xlink:title="nameserver : Reload consul">
<polygon fill="none" stroke="#b87a14" points="3154.31,-12700.44 3154.31,-12715.35 3084.97,-12725.9 2986.9,-12725.9 2917.56,-12715.35 2917.56,-12700.44 2986.9,-12689.9 3084.97,-12689.9 3154.31,-12700.44"/>
<text text-anchor="middle" x="3035.94" y="-12704.2" font-family="Times,serif" font-size="14.00">nameserver : Reload consul</text>
</a>
</g>
</g>
<!-- role_aca5f44e&#45;&gt;task_84548d0c -->
<g id="edge_fcd2c1b2" class="edge">
<title>role_aca5f44e-&gt;task_84548d0c</title>
<g id="a_edge_fcd2c1b2"><a xlink:title="7 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1593.32,-12825.16C1615.14,-12794.69 1664.64,-12733.39 1724.24,-12709.9 1832.11,-12667.38 2598.98,-12691.29 2907.17,-12702.81" id="path_edge_fcd2c1b2"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2907.37,-12706.32 2917.49,-12703.2 2907.63,-12699.33 2907.37,-12706.32"/>
</a>
</g>
<g id="a_edge_fcd2c1b2-label"><a xlink:title="7 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_fcd2c1b2" text-anchor="middle" startOffset="50%">7 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_84548d0c"/></links></g>
<!-- task_dc67e4f4 -->
<g id="task_dc67e4f4" class="node">
<title>task_dc67e4f4</title>
<g id="a_task_dc67e4f4"><a xlink:title="nginx : Make sure nginx installed">
<polygon fill="none" stroke="#b87a14" points="3176.83,-12646.44 3176.83,-12661.35 3094.3,-12671.9 2977.57,-12671.9 2895.04,-12661.35 2895.04,-12646.44 2977.57,-12635.9 3094.3,-12635.9 3176.83,-12646.44"/>
<text text-anchor="middle" x="3035.94" y="-12650.2" font-family="Times,serif" font-size="14.00">nginx : Make sure nginx installed</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_dc67e4f4 -->
<g id="edge_bfb0065b" class="edge">
<title>role_a5b5c1ed-&gt;task_dc67e4f4</title>
<g id="a_edge_bfb0065b"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M1583.88,-12158.98C1595.64,-12239.11 1647.15,-12560.88 1724.24,-12619.9 1769.61,-12654.63 2550.16,-12655.79 2884.7,-12654.68" id="path_edge_bfb0065b"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2884.96,-12658.18 2894.95,-12654.65 2884.94,-12651.18 2884.96,-12658.18"/>
</a>
</g>
<g id="a_edge_bfb0065b-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_bfb0065b" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_dc67e4f4"/></links></g>
<!-- task_81406773 -->
<g id="task_81406773" class="node">
<title>task_81406773</title>
<g id="a_task_81406773"><a xlink:title="nginx : Create local html directory">
<polygon fill="none" stroke="#b87a14" points="3180.77,-12592.44 3180.77,-12607.35 3095.93,-12617.9 2975.94,-12617.9 2891.1,-12607.35 2891.1,-12592.44 2975.94,-12581.9 3095.93,-12581.9 3180.77,-12592.44"/>
<text text-anchor="middle" x="3035.94" y="-12596.2" font-family="Times,serif" font-size="14.00">nginx : Create local html directory</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_81406773 -->
<g id="edge_9e52b149" class="edge">
<title>role_a5b5c1ed-&gt;task_81406773</title>
<g id="a_edge_9e52b149"><a xlink:title="2 ">
<path fill="none" stroke="#b87a14" d="M1580.76,-12159.21C1579.78,-12227.32 1586.55,-12467.22 1724.24,-12568.9 1770.02,-12602.7 2544.18,-12602.61 2880.74,-12600.95" id="path_edge_9e52b149"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2881.08,-12604.45 2891.06,-12600.9 2881.04,-12597.45 2881.08,-12604.45"/>
</a>
</g>
<g id="a_edge_9e52b149-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_9e52b149" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="task_81406773"/></links></g>
<!-- task_b72afd79 -->
<g id="task_b72afd79" class="node">
<title>task_b72afd79</title>
<g id="a_task_b72afd79"><a xlink:title="nginx : Copy pigsty logo file">
<polygon fill="none" stroke="#b87a14" points="3157.84,-12538.44 3157.84,-12553.35 3086.43,-12563.9 2985.44,-12563.9 2914.03,-12553.35 2914.03,-12538.44 2985.44,-12527.9 3086.43,-12527.9 3157.84,-12538.44"/>
<text text-anchor="middle" x="3035.94" y="-12542.2" font-family="Times,serif" font-size="14.00">nginx : Copy pigsty logo file</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_b72afd79 -->
<g id="edge_b04e3e28" class="edge">
<title>role_a5b5c1ed-&gt;task_b72afd79</title>
<g id="a_edge_b04e3e28"><a xlink:title="3 ">
<path fill="none" stroke="#b87a14" d="M1581.51,-12159.11C1583.3,-12222.61 1598.76,-12435.22 1724.24,-12523.9 1771.79,-12557.5 2580.95,-12551.44 2903.64,-12547.65" id="path_edge_b04e3e28"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2904.02,-12551.15 2913.98,-12547.53 2903.93,-12544.15 2904.02,-12551.15"/>
</a>
</g>
<g id="a_edge_b04e3e28-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_b04e3e28" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_b72afd79"/></links></g>
<!-- task_2cd358d3 -->
<g id="task_2cd358d3" class="node">
<title>task_2cd358d3</title>
<g id="a_task_2cd358d3"><a xlink:title="nginx : Render default nginx home page">
<polygon fill="none" stroke="#b87a14" points="3202.89,-12484.44 3202.89,-12499.35 3105.09,-12509.9 2966.78,-12509.9 2868.98,-12499.35 2868.98,-12484.44 2966.78,-12473.9 3105.09,-12473.9 3202.89,-12484.44"/>
<text text-anchor="middle" x="3035.94" y="-12488.2" font-family="Times,serif" font-size="14.00">nginx : Render default nginx home page</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_2cd358d3 -->
<g id="edge_c132c4f3" class="edge">
<title>role_a5b5c1ed-&gt;task_2cd358d3</title>
<g id="a_edge_c132c4f3"><a xlink:title="4 ">
<path fill="none" stroke="#b87a14" d="M1582.99,-12159.21C1589.27,-12215.83 1616.87,-12388.47 1724.24,-12459.9 1816.24,-12521.1 2522.75,-12507.87 2858.63,-12497.91" id="path_edge_c132c4f3"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2859.05,-12501.4 2868.94,-12497.6 2858.84,-12494.4 2859.05,-12501.4"/>
</a>
</g>
<g id="a_edge_c132c4f3-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_c132c4f3" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="task_2cd358d3"/></links></g>
<!-- task_82d9bfcf -->
<g id="task_82d9bfcf" class="node">
<title>task_82d9bfcf</title>
<g id="a_task_82d9bfcf"><a xlink:title="nginx : Create nginx haproxy config dir">
<polygon fill="none" stroke="#b87a14" points="3199.76,-12430.44 3199.76,-12445.35 3103.8,-12455.9 2968.08,-12455.9 2872.11,-12445.35 2872.11,-12430.44 2968.08,-12419.9 3103.8,-12419.9 3199.76,-12430.44"/>
<text text-anchor="middle" x="3035.94" y="-12434.2" font-family="Times,serif" font-size="14.00">nginx : Create nginx haproxy config dir</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_82d9bfcf -->
<g id="edge_d301c561" class="edge">
<title>role_a5b5c1ed-&gt;task_82d9bfcf</title>
<g id="a_edge_d301c561"><a xlink:title="5 ">
<path fill="none" stroke="#b87a14" d="M1584.26,-12158.95C1593.7,-12210.18 1628.39,-12356.58 1724.24,-12415.9 1771.72,-12445.28 2516.68,-12442.54 2861.84,-12439.66" id="path_edge_d301c561"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2861.96,-12443.16 2871.93,-12439.58 2861.9,-12436.16 2861.96,-12443.16"/>
</a>
</g>
<g id="a_edge_d301c561-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_d301c561" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="task_82d9bfcf"/></links></g>
<!-- task_ef6af8cd -->
<g id="task_ef6af8cd" class="node">
<title>task_ef6af8cd</title>
<g id="a_task_ef6af8cd"><a xlink:title="nginx : Copy nginx default config">
<polygon fill="none" stroke="#b87a14" points="3177.24,-12376.44 3177.24,-12391.35 3094.47,-12401.9 2977.41,-12401.9 2894.63,-12391.35 2894.63,-12376.44 2977.41,-12365.9 3094.47,-12365.9 3177.24,-12376.44"/>
<text text-anchor="middle" x="3035.94" y="-12380.2" font-family="Times,serif" font-size="14.00">nginx : Copy nginx default config</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_ef6af8cd -->
<g id="edge_09a90d17" class="edge">
<title>role_a5b5c1ed-&gt;task_ef6af8cd</title>
<g id="a_edge_09a90d17"><a xlink:title="6 ">
<path fill="none" stroke="#b87a14" d="M1586.77,-12158.86C1601.05,-12202.3 1644.09,-12312.75 1724.24,-12356.9 1823.47,-12411.55 2561.07,-12397.53 2884.12,-12388.59" id="path_edge_09a90d17"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2884.59,-12392.08 2894.49,-12388.3 2884.4,-12385.08 2884.59,-12392.08"/>
</a>
</g>
<g id="a_edge_09a90d17-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_09a90d17" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="task_ef6af8cd"/></links></g>
<!-- task_ae580472 -->
<g id="task_ae580472" class="node">
<title>task_ae580472</title>
<g id="a_task_ae580472"><a xlink:title="nginx : Copy nginx upstream conf">
<polygon fill="none" stroke="#b87a14" points="3179.46,-12322.44 3179.46,-12337.35 3095.39,-12347.9 2976.49,-12347.9 2892.41,-12337.35 2892.41,-12322.44 2976.49,-12311.9 3095.39,-12311.9 3179.46,-12322.44"/>
<text text-anchor="middle" x="3035.94" y="-12326.2" font-family="Times,serif" font-size="14.00">nginx : Copy nginx upstream conf</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_ae580472 -->
<g id="edge_41ff666f" class="edge">
<title>role_a5b5c1ed-&gt;task_ae580472</title>
<g id="a_edge_41ff666f"><a xlink:title="7 [when: item.name != 'home']">
<path fill="none" stroke="#b87a14" d="M1590.56,-12158.64C1609.88,-12193.57 1658.28,-12270.49 1724.24,-12300.9 1826.84,-12348.19 2558.58,-12339.57 2881.95,-12333.32" id="path_edge_41ff666f"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2882.41,-12336.81 2892.34,-12333.12 2882.27,-12329.81 2882.41,-12336.81"/>
</a>
</g>
<g id="a_edge_41ff666f-label"><a xlink:title="7 [when: item.name != 'home']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_41ff666f" text-anchor="middle" startOffset="50%">7 [when: item.name != 'home']</textPath></text>
</a>
</g>
<links><link target="task_ae580472"/></links></g>
<!-- task_482fe7cf -->
<g id="task_482fe7cf" class="node">
<title>task_482fe7cf</title>
<g id="a_task_482fe7cf"><a xlink:title="nginx : Create docs tarball">
<polygon fill="none" stroke="#b87a14" points="3148.96,-12268.44 3148.96,-12283.35 3082.75,-12293.9 2989.12,-12293.9 2922.91,-12283.35 2922.91,-12268.44 2989.12,-12257.9 3082.75,-12257.9 3148.96,-12268.44"/>
<text text-anchor="middle" x="3035.94" y="-12272.2" font-family="Times,serif" font-size="14.00">nginx : Create docs tarball</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_482fe7cf -->
<g id="edge_cbaf7740" class="edge">
<title>role_a5b5c1ed-&gt;task_482fe7cf</title>
<g id="a_edge_cbaf7740"><a xlink:title="8 [when: docs_enabled|bool]">
<path fill="none" stroke="#b87a14" d="M1596.29,-12158.32C1620.2,-12184.66 1669.88,-12233.6 1724.24,-12252.9 1834.15,-12291.92 2608.4,-12283.2 2912.62,-12278.17" id="path_edge_cbaf7740"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2912.86,-12281.67 2922.81,-12278 2912.75,-12274.67 2912.86,-12281.67"/>
</a>
</g>
<g id="a_edge_cbaf7740-label"><a xlink:title="8 [when: docs_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_cbaf7740" text-anchor="middle" startOffset="50%">8 [when: docs_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_482fe7cf"/></links></g>
<!-- task_266b01f8 -->
<g id="task_266b01f8" class="node">
<title>task_266b01f8</title>
<g id="a_task_266b01f8"><a xlink:title="nginx : Copy pigsty docs to /tmp">
<polygon fill="none" stroke="#b87a14" points="3174.61,-12214.44 3174.61,-12229.35 3093.38,-12239.9 2978.49,-12239.9 2897.26,-12229.35 2897.26,-12214.44 2978.49,-12203.9 3093.38,-12203.9 3174.61,-12214.44"/>
<text text-anchor="middle" x="3035.94" y="-12218.2" font-family="Times,serif" font-size="14.00">nginx : Copy pigsty docs to /tmp</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_266b01f8 -->
<g id="edge_7627d022" class="edge">
<title>role_a5b5c1ed-&gt;task_266b01f8</title>
<g id="a_edge_7627d022"><a xlink:title="9 [when: docs_enabled|bool]">
<path fill="none" stroke="#b87a14" d="M1617.5,-12153.65C1646.08,-12163.07 1687.18,-12175.22 1724.24,-12180.9 2141.87,-12244.91 2642.81,-12237.66 2886.78,-12228.83" id="path_edge_7627d022"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2887.27,-12232.31 2897.14,-12228.45 2887.02,-12225.32 2887.27,-12232.31"/>
</a>
</g>
<g id="a_edge_7627d022-label"><a xlink:title="9 [when: docs_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_7627d022" text-anchor="middle" startOffset="50%">9 [when: docs_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_266b01f8"/></links></g>
<!-- task_3a3641a2 -->
<g id="task_3a3641a2" class="node">
<title>task_3a3641a2</title>
<g id="a_task_3a3641a2"><a xlink:title="nginx : Extract pigsty docs to repo home">
<polygon fill="none" stroke="#b87a14" points="3204.21,-12160.44 3204.21,-12175.35 3105.64,-12185.9 2966.24,-12185.9 2867.67,-12175.35 2867.67,-12160.44 2966.24,-12149.9 3105.64,-12149.9 3204.21,-12160.44"/>
<text text-anchor="middle" x="3035.94" y="-12164.2" font-family="Times,serif" font-size="14.00">nginx : Extract pigsty docs to repo home</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_3a3641a2 -->
<g id="edge_ff88bbdf" class="edge">
<title>role_a5b5c1ed-&gt;task_3a3641a2</title>
<g id="a_edge_ff88bbdf"><a xlink:title="10 [when: docs_enabled|bool]">
<path fill="none" stroke="#b87a14" d="M1633.05,-12141.86C1828.27,-12145.49 2525.94,-12158.44 2857.49,-12164.6" id="path_edge_ff88bbdf"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2857.61,-12168.11 2867.68,-12164.79 2857.74,-12161.11 2857.61,-12168.11"/>
</a>
</g>
<g id="a_edge_ff88bbdf-label"><a xlink:title="10 [when: docs_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_ff88bbdf" text-anchor="middle" startOffset="50%">10 [when: docs_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_3a3641a2"/></links></g>
<!-- task_a1e327d6 -->
<g id="task_a1e327d6" class="node">
<title>task_a1e327d6</title>
<g id="a_task_a1e327d6"><a xlink:title="nginx : Extract pev2 resource to repo home">
<polygon fill="none" stroke="#b87a14" points="3214.81,-12106.44 3214.81,-12121.35 3110.03,-12131.9 2961.84,-12131.9 2857.06,-12121.35 2857.06,-12106.44 2961.84,-12095.9 3110.03,-12095.9 3214.81,-12106.44"/>
<text text-anchor="middle" x="3035.94" y="-12110.2" font-family="Times,serif" font-size="14.00">nginx : Extract pev2 resource to repo home</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_a1e327d6 -->
<g id="edge_ac02ee31" class="edge">
<title>role_a5b5c1ed-&gt;task_a1e327d6</title>
<g id="a_edge_ac02ee31"><a xlink:title="11 [when: pev2_enabled|bool]">
<path fill="none" stroke="#b87a14" d="M1628.84,-12133.91C1656.59,-12130.16 1692.32,-12125.91 1724.24,-12123.9 2123.44,-12098.71 2592.37,-12103.4 2847.07,-12108.81" id="path_edge_ac02ee31"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2847.09,-12112.31 2857.17,-12109.03 2847.24,-12105.31 2847.09,-12112.31"/>
</a>
</g>
<g id="a_edge_ac02ee31-label"><a xlink:title="11 [when: pev2_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_ac02ee31" text-anchor="middle" startOffset="50%">11 [when: pev2_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_a1e327d6"/></links></g>
<!-- task_6219dd49 -->
<g id="task_6219dd49" class="node">
<title>task_6219dd49</title>
<g id="a_task_6219dd49"><a xlink:title="nginx : Restart meta nginx service">
<polygon fill="none" stroke="#b87a14" points="3179.46,-12052.44 3179.46,-12067.35 3095.39,-12077.9 2976.49,-12077.9 2892.41,-12067.35 2892.41,-12052.44 2976.49,-12041.9 3095.39,-12041.9 3179.46,-12052.44"/>
<text text-anchor="middle" x="3035.94" y="-12056.2" font-family="Times,serif" font-size="14.00">nginx : Restart meta nginx service</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_6219dd49 -->
<g id="edge_740edc9d" class="edge">
<title>role_a5b5c1ed-&gt;task_6219dd49</title>
<g id="a_edge_740edc9d"><a xlink:title="12 ">
<path fill="none" stroke="#b87a14" d="M1610.23,-12126.04C1638.46,-12112.39 1683.07,-12093.08 1724.24,-12084.9 2153.15,-11999.63 2676.58,-12028.28 2911.03,-12047.87" id="path_edge_740edc9d"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2911.03,-12051.39 2921.29,-12048.74 2911.62,-12044.41 2911.03,-12051.39"/>
</a>
</g>
<g id="a_edge_740edc9d-label"><a xlink:title="12 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_740edc9d" text-anchor="middle" startOffset="50%">12 </textPath></text>
</a>
</g>
<links><link target="task_6219dd49"/></links></g>
<!-- task_7cfae255 -->
<g id="task_7cfae255" class="node">
<title>task_7cfae255</title>
<g id="a_task_7cfae255"><a xlink:title="nginx : Wait for nginx service online">
<polygon fill="none" stroke="#b87a14" points="3189.16,-11998.44 3189.16,-12013.35 3099.4,-12023.9 2972.47,-12023.9 2882.71,-12013.35 2882.71,-11998.44 2972.47,-11987.9 3099.4,-11987.9 3189.16,-11998.44"/>
<text text-anchor="middle" x="3035.94" y="-12002.2" font-family="Times,serif" font-size="14.00">nginx : Wait for nginx service online</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_7cfae255 -->
<g id="edge_eab03276" class="edge">
<title>role_a5b5c1ed-&gt;task_7cfae255</title>
<g id="a_edge_eab03276"><a xlink:title="13 ">
<path fill="none" stroke="#b87a14" d="M1593.32,-12123.16C1615.14,-12092.69 1664.64,-12031.39 1724.24,-12007.9 1828.25,-11966.9 2545.01,-11987.67 2872.42,-11999.53" id="path_edge_eab03276"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2872.35,-12003.03 2882.47,-11999.9 2872.61,-11996.04 2872.35,-12003.03"/>
</a>
</g>
<g id="a_edge_eab03276-label"><a xlink:title="13 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_eab03276" text-anchor="middle" startOffset="50%">13 </textPath></text>
</a>
</g>
<links><link target="task_7cfae255"/></links></g>
<!-- task_169aa8fa -->
<g id="task_169aa8fa" class="node">
<title>task_169aa8fa</title>
<g id="a_task_169aa8fa"><a xlink:title="nginx : Make sure nginx exporter installed">
<polygon fill="none" stroke="#b87a14" points="3211.28,-11944.44 3211.28,-11959.35 3108.56,-11969.9 2963.31,-11969.9 2860.6,-11959.35 2860.6,-11944.44 2963.31,-11933.9 3108.56,-11933.9 3211.28,-11944.44"/>
<text text-anchor="middle" x="3035.94" y="-11948.2" font-family="Times,serif" font-size="14.00">nginx : Make sure nginx exporter installed</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_169aa8fa -->
<g id="edge_1abc8b39" class="edge">
<title>role_a5b5c1ed-&gt;task_169aa8fa</title>
<g id="a_edge_1abc8b39"><a xlink:title="14 ">
<path fill="none" stroke="#b87a14" d="M1589.16,-12123C1606.84,-12085.21 1653.84,-11997.94 1724.24,-11963.9 1822.75,-11916.28 2512.97,-11933.43 2850.27,-11944.92" id="path_edge_1abc8b39"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2850.52,-11948.43 2860.63,-11945.27 2850.76,-11941.43 2850.52,-11948.43"/>
</a>
</g>
<g id="a_edge_1abc8b39-label"><a xlink:title="14 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_1abc8b39" text-anchor="middle" startOffset="50%">14 </textPath></text>
</a>
</g>
<links><link target="task_169aa8fa"/></links></g>
<!-- task_8df3a80f -->
<g id="task_8df3a80f" class="node">
<title>task_8df3a80f</title>
<g id="a_task_8df3a80f"><a xlink:title="nginx : Config nginx_exporter options">
<polygon fill="none" stroke="#b87a14" points="3194.01,-11890.44 3194.01,-11905.35 3101.41,-11915.9 2970.46,-11915.9 2877.86,-11905.35 2877.86,-11890.44 2970.46,-11879.9 3101.41,-11879.9 3194.01,-11890.44"/>
<text text-anchor="middle" x="3035.94" y="-11894.2" font-family="Times,serif" font-size="14.00">nginx : Config nginx_exporter options</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_8df3a80f -->
<g id="edge_c6133ee7" class="edge">
<title>role_a5b5c1ed-&gt;task_8df3a80f</title>
<g id="a_edge_c6133ee7"><a xlink:title="15 ">
<path fill="none" stroke="#b87a14" d="M1586.13,-12122.94C1599.31,-12077.77 1640.71,-11959.75 1724.24,-11912.9 1821.39,-11858.41 2536.56,-11878.49 2867.62,-11890.95" id="path_edge_c6133ee7"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2867.66,-11894.46 2877.79,-11891.34 2867.93,-11887.46 2867.66,-11894.46"/>
</a>
</g>
<g id="a_edge_c6133ee7-label"><a xlink:title="15 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_c6133ee7" text-anchor="middle" startOffset="50%">15 </textPath></text>
</a>
</g>
<links><link target="task_8df3a80f"/></links></g>
<!-- task_45e91acb -->
<g id="task_45e91acb" class="node">
<title>task_45e91acb</title>
<g id="a_task_45e91acb"><a xlink:title="nginx : Restart nginx_exporter service">
<polygon fill="none" stroke="#b87a14" points="3194.01,-11836.44 3194.01,-11851.35 3101.41,-11861.9 2970.46,-11861.9 2877.86,-11851.35 2877.86,-11836.44 2970.46,-11825.9 3101.41,-11825.9 3194.01,-11836.44"/>
<text text-anchor="middle" x="3035.94" y="-11840.2" font-family="Times,serif" font-size="14.00">nginx : Restart nginx_exporter service</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_45e91acb -->
<g id="edge_99d0038c" class="edge">
<title>role_a5b5c1ed-&gt;task_45e91acb</title>
<g id="a_edge_99d0038c"><a xlink:title="16 ">
<path fill="none" stroke="#b87a14" d="M1583.97,-12122.62C1592.71,-12070.04 1625.86,-11918.2 1724.24,-11856.9 1818.84,-11797.96 2536.23,-11821.61 2867.82,-11835.97" id="path_edge_99d0038c"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2867.86,-11839.47 2878,-11836.41 2868.16,-11832.48 2867.86,-11839.47"/>
</a>
</g>
<g id="a_edge_99d0038c-label"><a xlink:title="16 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_99d0038c" text-anchor="middle" startOffset="50%">16 </textPath></text>
</a>
</g>
<links><link target="task_45e91acb"/></links></g>
<!-- task_9f14e062 -->
<g id="task_9f14e062" class="node">
<title>task_9f14e062</title>
<g id="a_task_9f14e062"><a xlink:title="nginx : Wait for nginx exporter online">
<polygon fill="none" stroke="#b87a14" points="3194.01,-11782.44 3194.01,-11797.35 3101.41,-11807.9 2970.46,-11807.9 2877.86,-11797.35 2877.86,-11782.44 2970.46,-11771.9 3101.41,-11771.9 3194.01,-11782.44"/>
<text text-anchor="middle" x="3035.94" y="-11786.2" font-family="Times,serif" font-size="14.00">nginx : Wait for nginx exporter online</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_9f14e062 -->
<g id="edge_71a80ec9" class="edge">
<title>role_a5b5c1ed-&gt;task_9f14e062</title>
<g id="a_edge_71a80ec9"><a xlink:title="17 ">
<path fill="none" stroke="#b87a14" d="M1582.38,-12122.55C1586.93,-12063.29 1610.16,-11876.41 1724.24,-11799.9 1817.33,-11737.47 2543.47,-11765.21 2873.11,-11781.31" id="path_edge_71a80ec9"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2873.07,-11784.81 2883.23,-11781.8 2873.41,-11777.82 2873.07,-11784.81"/>
</a>
</g>
<g id="a_edge_71a80ec9-label"><a xlink:title="17 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_71a80ec9" text-anchor="middle" startOffset="50%">17 </textPath></text>
</a>
</g>
<links><link target="task_9f14e062"/></links></g>
<!-- task_4af56604 -->
<g id="task_4af56604" class="node">
<title>task_4af56604</title>
<g id="a_task_4af56604"><a xlink:title="nginx : Register cosnul nginx service">
<polygon fill="none" stroke="#b87a14" points="3190.07,-11728.44 3190.07,-11743.35 3099.78,-11753.9 2972.09,-11753.9 2881.81,-11743.35 2881.81,-11728.44 2972.09,-11717.9 3099.78,-11717.9 3190.07,-11728.44"/>
<text text-anchor="middle" x="3035.94" y="-11732.2" font-family="Times,serif" font-size="14.00">nginx : Register cosnul nginx service</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_4af56604 -->
<g id="edge_81a41bc5" class="edge">
<title>role_a5b5c1ed-&gt;task_4af56604</title>
<g id="a_edge_81a41bc5"><a xlink:title="18 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1581.18,-12122.81C1581.78,-12057.71 1593.59,-11834.33 1724.24,-11741.9 1816.49,-11676.64 2554.65,-11709.04 2880.86,-11726.84" id="path_edge_81a41bc5"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2880.69,-11730.33 2890.87,-11727.38 2881.07,-11723.34 2880.69,-11730.33"/>
</a>
</g>
<g id="a_edge_81a41bc5-label"><a xlink:title="18 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_81a41bc5" text-anchor="middle" startOffset="50%">18 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_4af56604"/></links></g>
<!-- task_8a00c39f -->
<g id="task_8a00c39f" class="node">
<title>task_8a00c39f</title>
<g id="a_task_8a00c39f"><a xlink:title="nginx : Register consul nginx-exporter service">
<polygon fill="none" stroke="#b87a14" points="3225.42,-11674.44 3225.42,-11689.35 3114.42,-11699.9 2957.45,-11699.9 2846.46,-11689.35 2846.46,-11674.44 2957.45,-11663.9 3114.42,-11663.9 3225.42,-11674.44"/>
<text text-anchor="middle" x="3035.94" y="-11678.2" font-family="Times,serif" font-size="14.00">nginx : Register consul nginx-exporter service</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_8a00c39f -->
<g id="edge_fbbba28f" class="edge">
<title>role_a5b5c1ed-&gt;task_8a00c39f</title>
<g id="a_edge_fbbba28f"><a xlink:title="19 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1584.11,-12122.81C1596.55,-12044.84 1649.6,-11738.85 1724.24,-11683.9 1768.14,-11651.58 2480.95,-11666.53 2836.48,-11676.09" id="path_edge_fbbba28f"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2836.55,-11679.59 2846.64,-11676.36 2836.74,-11672.59 2836.55,-11679.59"/>
</a>
</g>
<g id="a_edge_fbbba28f-label"><a xlink:title="19 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_fbbba28f" text-anchor="middle" startOffset="50%">19 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_8a00c39f"/></links></g>
<!-- task_12bafbd9 -->
<g id="task_12bafbd9" class="node">
<title>task_12bafbd9</title>
<g id="a_task_12bafbd9"><a xlink:title="nginx : Reload consul">
<polygon fill="none" stroke="#b87a14" points="3131.79,-11620.44 3131.79,-11635.35 3075.64,-11645.9 2996.23,-11645.9 2940.09,-11635.35 2940.09,-11620.44 2996.23,-11609.9 3075.64,-11609.9 3131.79,-11620.44"/>
<text text-anchor="middle" x="3035.94" y="-11624.2" font-family="Times,serif" font-size="14.00">nginx : Reload consul</text>
</a>
</g>
</g>
<!-- role_a5b5c1ed&#45;&gt;task_12bafbd9 -->
<g id="edge_97e045fd" class="edge">
<title>role_a5b5c1ed-&gt;task_12bafbd9</title>
<g id="a_edge_97e045fd"><a xlink:title="20 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1583.68,-12122.72C1594.75,-12040.61 1644.35,-11705.84 1724.24,-11644.9 1818.96,-11572.65 2635.62,-11607.22 2929.84,-11622.2" id="path_edge_97e045fd"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2929.92,-11625.71 2940.08,-11622.72 2930.28,-11618.72 2929.92,-11625.71"/>
</a>
</g>
<g id="a_edge_97e045fd-label"><a xlink:title="20 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_97e045fd" text-anchor="middle" startOffset="50%">20 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_12bafbd9"/></links></g>
<!-- task_95f2f5ad -->
<g id="task_95f2f5ad" class="node">
<title>task_95f2f5ad</title>
<g id="a_task_95f2f5ad"><a xlink:title="prometheus : Install prometheus and alertmanager">
<polygon fill="none" stroke="#b87a14" points="3240.87,-11566.44 3240.87,-11581.35 3120.82,-11591.9 2951.05,-11591.9 2831,-11581.35 2831,-11566.44 2951.05,-11555.9 3120.82,-11555.9 3240.87,-11566.44"/>
<text text-anchor="middle" x="3035.94" y="-11570.2" font-family="Times,serif" font-size="14.00">prometheus : Install prometheus and alertmanager</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_95f2f5ad -->
<g id="edge_d96ccf92" class="edge">
<title>role_04fe8cda-&gt;task_95f2f5ad</title>
<g id="a_edge_d96ccf92"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M1581.03,-11159.95C1581.07,-11226 1591.08,-11455.61 1724.24,-11551.9 1767.79,-11583.39 2460.85,-11580.38 2821.08,-11576.65" id="path_edge_d96ccf92"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2821.15,-11580.15 2831.11,-11576.54 2821.08,-11573.15 2821.15,-11580.15"/>
</a>
</g>
<g id="a_edge_d96ccf92-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_d96ccf92" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_95f2f5ad"/></links></g>
<!-- task_23f834c4 -->
<g id="task_23f834c4" class="node">
<title>task_23f834c4</title>
<g id="a_task_23f834c4"><a xlink:title="prometheus : Wipe out prometheus config dir">
<polygon fill="none" stroke="#b87a14" points="3223.19,-11512.44 3223.19,-11527.35 3113.5,-11537.9 2958.37,-11537.9 2848.68,-11527.35 2848.68,-11512.44 2958.37,-11501.9 3113.5,-11501.9 3223.19,-11512.44"/>
<text text-anchor="middle" x="3035.94" y="-11516.2" font-family="Times,serif" font-size="14.00">prometheus : Wipe out prometheus config dir</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_23f834c4 -->
<g id="edge_faa4a175" class="edge">
<title>role_04fe8cda-&gt;task_23f834c4</title>
<g id="a_edge_faa4a175"><a xlink:title="2 [when: not prometheus_reload]">
<path fill="none" stroke="#b87a14" d="M1582.31,-11160.01C1586.64,-11219.4 1609.32,-11408.98 1724.24,-11487.9 1813.57,-11549.24 2495.29,-11537.03 2838.63,-11526.75" id="path_edge_faa4a175"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2838.8,-11530.25 2848.69,-11526.44 2838.59,-11523.25 2838.8,-11530.25"/>
</a>
</g>
<g id="a_edge_faa4a175-label"><a xlink:title="2 [when: not prometheus_reload]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_faa4a175" text-anchor="middle" startOffset="50%">2 [when: not prometheus_reload]</textPath></text>
</a>
</g>
<links><link target="task_23f834c4"/></links></g>
<!-- task_5861fd61 -->
<g id="task_5861fd61" class="node">
<title>task_5861fd61</title>
<g id="a_task_5861fd61"><a xlink:title="prometheus : Wipe out existing prometheus data">
<polygon fill="none" stroke="#b87a14" points="3234.21,-11458.44 3234.21,-11473.35 3118.06,-11483.9 2953.81,-11483.9 2837.67,-11473.35 2837.67,-11458.44 2953.81,-11447.9 3118.06,-11447.9 3234.21,-11458.44"/>
<text text-anchor="middle" x="3035.94" y="-11462.2" font-family="Times,serif" font-size="14.00">prometheus : Wipe out existing prometheus data</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_5861fd61 -->
<g id="edge_d9fc59a5" class="edge">
<title>role_04fe8cda-&gt;task_5861fd61</title>
<g id="a_edge_d9fc59a5"><a xlink:title="3 [when: not prometheus_reload]">
<path fill="none" stroke="#b87a14" d="M1583.43,-11160.08C1590.84,-11214.65 1621.14,-11377.41 1724.24,-11443.9 1769.65,-11473.18 2469.09,-11471.12 2827.13,-11468.11" id="path_edge_d9fc59a5"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2827.39,-11471.61 2837.36,-11468.02 2827.33,-11464.61 2827.39,-11471.61"/>
</a>
</g>
<g id="a_edge_d9fc59a5-label"><a xlink:title="3 [when: not prometheus_reload]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_d9fc59a5" text-anchor="middle" startOffset="50%">3 [when: not prometheus_reload]</textPath></text>
</a>
</g>
<links><link target="task_5861fd61"/></links></g>
<!-- task_2f129820 -->
<g id="task_2f129820" class="node">
<title>task_2f129820</title>
<g id="a_task_2f129820"><a xlink:title="prometheus : Create prometheus directories">
<polygon fill="none" stroke="#b87a14" points="3215.22,-11404.44 3215.22,-11419.35 3110.2,-11429.9 2961.68,-11429.9 2856.65,-11419.35 2856.65,-11404.44 2961.68,-11393.9 3110.2,-11393.9 3215.22,-11404.44"/>
<text text-anchor="middle" x="3035.94" y="-11408.2" font-family="Times,serif" font-size="14.00">prometheus : Create prometheus directories</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_2f129820 -->
<g id="edge_2c067356" class="edge">
<title>role_04fe8cda-&gt;task_2f129820</title>
<g id="a_edge_2c067356"><a xlink:title="4 ">
<path fill="none" stroke="#b87a14" d="M1585.45,-11160.06C1597.33,-11207.58 1636.55,-11335.41 1724.24,-11386.9 1818.3,-11442.12 2506.36,-11428.66 2846.14,-11418.41" id="path_edge_2c067356"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2846.45,-11421.91 2856.34,-11418.1 2846.24,-11414.91 2846.45,-11421.91"/>
</a>
</g>
<g id="a_edge_2c067356-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_2c067356" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="task_2f129820"/></links></g>
<!-- task_f44d76f7 -->
<g id="task_f44d76f7" class="node">
<title>task_f44d76f7</title>
<g id="a_task_f44d76f7"><a xlink:title="prometheus : Copy prometheus bin scripts">
<polygon fill="none" stroke="#b87a14" points="3210.37,-11350.44 3210.37,-11365.35 3108.19,-11375.9 2963.68,-11375.9 2861.5,-11365.35 2861.5,-11350.44 2963.68,-11339.9 3108.19,-11339.9 3210.37,-11350.44"/>
<text text-anchor="middle" x="3035.94" y="-11354.2" font-family="Times,serif" font-size="14.00">prometheus : Copy prometheus bin scripts</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_f44d76f7 -->
<g id="edge_40efee61" class="edge">
<title>role_04fe8cda-&gt;task_f44d76f7</title>
<g id="a_edge_40efee61"><a xlink:title="5 ">
<path fill="none" stroke="#b87a14" d="M1588.48,-11159.9C1605.27,-11199.34 1651.36,-11292.78 1724.24,-11329.9 1821.85,-11379.61 2513.81,-11370.39 2851.06,-11362.76" id="path_edge_40efee61"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2851.51,-11366.25 2861.42,-11362.52 2851.35,-11359.25 2851.51,-11366.25"/>
</a>
</g>
<g id="a_edge_40efee61-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_40efee61" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="task_f44d76f7"/></links></g>
<!-- task_a463fb9f -->
<g id="task_a463fb9f" class="node">
<title>task_a463fb9f</title>
<g id="a_task_a463fb9f"><a xlink:title="prometheus : Copy prometheus rules">
<polygon fill="none" stroke="#b87a14" points="3189.16,-11296.44 3189.16,-11311.35 3099.4,-11321.9 2972.47,-11321.9 2882.71,-11311.35 2882.71,-11296.44 2972.47,-11285.9 3099.4,-11285.9 3189.16,-11296.44"/>
<text text-anchor="middle" x="3035.94" y="-11300.2" font-family="Times,serif" font-size="14.00">prometheus : Copy prometheus rules</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_a463fb9f -->
<g id="edge_44beb28f" class="edge">
<title>role_04fe8cda-&gt;task_a463fb9f</title>
<g id="a_edge_44beb28f"><a xlink:title="6 ">
<path fill="none" stroke="#b87a14" d="M1593.26,-11159.91C1615,-11190.88 1664.37,-11253.27 1724.24,-11277.9 1827.69,-11320.45 2545.18,-11312.98 2872.64,-11307.22" id="path_edge_44beb28f"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2872.75,-11310.72 2882.69,-11307.04 2872.63,-11303.72 2872.75,-11310.72"/>
</a>
</g>
<g id="a_edge_44beb28f-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_44beb28f" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="task_a463fb9f"/></links></g>
<!-- task_c5084855 -->
<g id="task_c5084855" class="node">
<title>task_c5084855</title>
<g id="a_task_c5084855"><a xlink:title="prometheus : Render prometheus config">
<polygon fill="none" stroke="#b87a14" points="3201.98,-11242.44 3201.98,-11257.35 3104.72,-11267.9 2967.16,-11267.9 2869.89,-11257.35 2869.89,-11242.44 2967.16,-11231.9 3104.72,-11231.9 3201.98,-11242.44"/>
<text text-anchor="middle" x="3035.94" y="-11246.2" font-family="Times,serif" font-size="14.00">prometheus : Render prometheus config</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_c5084855 -->
<g id="edge_28e4a33d" class="edge">
<title>role_04fe8cda-&gt;task_c5084855</title>
<g id="a_edge_28e4a33d"><a xlink:title="7 ">
<path fill="none" stroke="#b87a14" d="M1606.27,-11159.04C1633.76,-11176.83 1679.96,-11203.62 1724.24,-11214.9 1933.63,-11268.24 2553.26,-11261.72 2859.53,-11254.78" id="path_edge_28e4a33d"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2859.93,-11258.27 2869.85,-11254.55 2859.77,-11251.28 2859.93,-11258.27"/>
</a>
</g>
<g id="a_edge_28e4a33d-label"><a xlink:title="7 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_28e4a33d" text-anchor="middle" startOffset="50%">7 </textPath></text>
</a>
</g>
<links><link target="task_c5084855"/></links></g>
<!-- task_cbbd0670 -->
<g id="task_cbbd0670" class="node">
<title>task_cbbd0670</title>
<g id="a_task_cbbd0670"><a xlink:title="prometheus : Render altermanager config">
<polygon fill="none" stroke="#b87a14" points="3206.83,-11188.44 3206.83,-11203.35 3106.72,-11213.9 2965.15,-11213.9 2865.04,-11203.35 2865.04,-11188.44 2965.15,-11177.9 3106.72,-11177.9 3206.83,-11188.44"/>
<text text-anchor="middle" x="3035.94" y="-11192.2" font-family="Times,serif" font-size="14.00">prometheus : Render altermanager config</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_cbbd0670 -->
<g id="edge_0f7951e5" class="edge">
<title>role_04fe8cda-&gt;task_cbbd0670</title>
<g id="a_edge_0f7951e5"><a xlink:title="8 ">
<path fill="none" stroke="#b87a14" d="M1643.07,-11151.56C1668.19,-11155.11 1697.54,-11158.77 1724.24,-11160.9 2127.3,-11192.98 2602.05,-11197.39 2854.95,-11197.09" id="path_edge_0f7951e5"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2854.97,-11200.59 2864.97,-11197.07 2854.96,-11193.59 2854.97,-11200.59"/>
</a>
</g>
<g id="a_edge_0f7951e5-label"><a xlink:title="8 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_0f7951e5" text-anchor="middle" startOffset="50%">8 </textPath></text>
</a>
</g>
<links><link target="task_cbbd0670"/></links></g>
<!-- task_629ca310 -->
<g id="task_629ca310" class="node">
<title>task_629ca310</title>
<g id="a_task_629ca310"><a xlink:title="prometheus : Config /etc/prometheus opts">
<polygon fill="none" stroke="#b87a14" points="3208.15,-11134.44 3208.15,-11149.35 3107.27,-11159.9 2964.6,-11159.9 2863.72,-11149.35 2863.72,-11134.44 2964.6,-11123.9 3107.27,-11123.9 3208.15,-11134.44"/>
<text text-anchor="middle" x="3035.94" y="-11138.2" font-family="Times,serif" font-size="14.00">prometheus : Config /etc/prometheus opts</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_629ca310 -->
<g id="edge_8e3071bc" class="edge">
<title>role_04fe8cda-&gt;task_629ca310</title>
<g id="a_edge_8e3071bc"><a xlink:title="9 ">
<path fill="none" stroke="#b87a14" d="M1654.65,-11141.9C1874.26,-11141.9 2531.32,-11141.9 2853.2,-11141.9" id="path_edge_8e3071bc"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2853.56,-11145.4 2863.56,-11141.9 2853.56,-11138.4 2853.56,-11145.4"/>
</a>
</g>
<g id="a_edge_8e3071bc-label"><a xlink:title="9 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_8e3071bc" text-anchor="middle" startOffset="50%">9 </textPath></text>
</a>
</g>
<links><link target="task_629ca310"/></links></g>
<!-- task_cbac5970 -->
<g id="task_cbac5970" class="node">
<title>task_cbac5970</title>
<g id="a_task_cbac5970"><a xlink:title="prometheus : Launch prometheus service">
<polygon fill="none" stroke="#b87a14" points="3206.43,-11080.44 3206.43,-11095.35 3106.56,-11105.9 2965.32,-11105.9 2865.45,-11095.35 2865.45,-11080.44 2965.32,-11069.9 3106.56,-11069.9 3206.43,-11080.44"/>
<text text-anchor="middle" x="3035.94" y="-11084.2" font-family="Times,serif" font-size="14.00">prometheus : Launch prometheus service</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_cbac5970 -->
<g id="edge_8658aaf5" class="edge">
<title>role_04fe8cda-&gt;task_cbac5970</title>
<g id="a_edge_8658aaf5"><a xlink:title="10 ">
<path fill="none" stroke="#b87a14" d="M1643.07,-11132.24C1668.19,-11128.69 1697.54,-11125.02 1724.24,-11122.9 2127.58,-11090.79 2602.71,-11086.4 2855.48,-11086.71" id="path_edge_8658aaf5"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2855.48,-11090.21 2865.49,-11086.73 2855.49,-11083.21 2855.48,-11090.21"/>
</a>
</g>
<g id="a_edge_8658aaf5-label"><a xlink:title="10 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_8658aaf5" text-anchor="middle" startOffset="50%">10 </textPath></text>
</a>
</g>
<links><link target="task_cbac5970"/></links></g>
<!-- task_cc0a0371 -->
<g id="task_cc0a0371" class="node">
<title>task_cc0a0371</title>
<g id="a_task_cc0a0371"><a xlink:title="prometheus : Wait for prometheus online">
<polygon fill="none" stroke="#b87a14" points="3206.43,-11026.44 3206.43,-11041.35 3106.56,-11051.9 2965.32,-11051.9 2865.45,-11041.35 2865.45,-11026.44 2965.32,-11015.9 3106.56,-11015.9 3206.43,-11026.44"/>
<text text-anchor="middle" x="3035.94" y="-11030.2" font-family="Times,serif" font-size="14.00">prometheus : Wait for prometheus online</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_cc0a0371 -->
<g id="edge_fd8c2839" class="edge">
<title>role_04fe8cda-&gt;task_cc0a0371</title>
<g id="a_edge_fd8c2839"><a xlink:title="11 ">
<path fill="none" stroke="#b87a14" d="M1605.73,-11124.85C1633.13,-11106.81 1679.59,-11079.39 1724.24,-11067.9 1932.54,-11014.3 2547.55,-11021.31 2855.3,-11028.65" id="path_edge_fd8c2839"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2855.58,-11032.16 2865.66,-11028.9 2855.75,-11025.16 2855.58,-11032.16"/>
</a>
</g>
<g id="a_edge_fd8c2839-label"><a xlink:title="11 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_fd8c2839" text-anchor="middle" startOffset="50%">11 </textPath></text>
</a>
</g>
<links><link target="task_cc0a0371"/></links></g>
<!-- task_41a59cc7 -->
<g id="task_41a59cc7" class="node">
<title>task_41a59cc7</title>
<g id="a_task_41a59cc7"><a xlink:title="prometheus : Launch alertmanager service">
<polygon fill="none" stroke="#b87a14" points="3211.28,-10972.44 3211.28,-10987.35 3108.56,-10997.9 2963.31,-10997.9 2860.6,-10987.35 2860.6,-10972.44 2963.31,-10961.9 3108.56,-10961.9 3211.28,-10972.44"/>
<text text-anchor="middle" x="3035.94" y="-10976.2" font-family="Times,serif" font-size="14.00">prometheus : Launch alertmanager service</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_41a59cc7 -->
<g id="edge_14ad833e" class="edge">
<title>role_04fe8cda-&gt;task_41a59cc7</title>
<g id="a_edge_14ad833e"><a xlink:title="12 ">
<path fill="none" stroke="#b87a14" d="M1592.85,-11124.12C1614.3,-11092.86 1663.71,-11029 1724.24,-11003.9 1928.73,-10919.1 2579.33,-10949.32 2879.94,-10968.72" id="path_edge_14ad833e"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2879.84,-10972.22 2890.04,-10969.38 2880.29,-10965.24 2879.84,-10972.22"/>
</a>
</g>
<g id="a_edge_14ad833e-label"><a xlink:title="12 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_14ad833e" text-anchor="middle" startOffset="50%">12 </textPath></text>
</a>
</g>
<links><link target="task_41a59cc7"/></links></g>
<!-- task_28abcec2 -->
<g id="task_28abcec2" class="node">
<title>task_28abcec2</title>
<g id="a_task_28abcec2"><a xlink:title="prometheus : Wait for alertmanager online">
<polygon fill="none" stroke="#b87a14" points="3211.68,-10918.44 3211.68,-10933.35 3108.73,-10943.9 2963.14,-10943.9 2860.19,-10933.35 2860.19,-10918.44 2963.14,-10907.9 3108.73,-10907.9 3211.68,-10918.44"/>
<text text-anchor="middle" x="3035.94" y="-10922.2" font-family="Times,serif" font-size="14.00">prometheus : Wait for alertmanager online</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_28abcec2 -->
<g id="edge_eba40594" class="edge">
<title>role_04fe8cda-&gt;task_28abcec2</title>
<g id="a_edge_eba40594"><a xlink:title="13 ">
<path fill="none" stroke="#b87a14" d="M1586.88,-11123.69C1601.27,-11080.19 1644.29,-10970.72 1724.24,-10927.9 1821.55,-10875.78 2524.45,-10901.52 2858.93,-10917.04" id="path_edge_eba40594"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2859.05,-10920.55 2869.2,-10917.52 2859.38,-10913.55 2859.05,-10920.55"/>
</a>
</g>
<g id="a_edge_eba40594-label"><a xlink:title="13 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_eba40594" text-anchor="middle" startOffset="50%">13 </textPath></text>
</a>
</g>
<links><link target="task_28abcec2"/></links></g>
<!-- task_4793005d -->
<g id="task_4793005d" class="node">
<title>task_4793005d</title>
<g id="a_task_4793005d"><a xlink:title="prometheus : Render infra file-sd targets targets for prometheus">
<polygon fill="none" stroke="#b87a14" points="3292.08,-10864.44 3292.08,-10879.35 3142.03,-10889.9 2929.84,-10889.9 2779.79,-10879.35 2779.79,-10864.44 2929.84,-10853.9 3142.03,-10853.9 3292.08,-10864.44"/>
<text text-anchor="middle" x="3035.94" y="-10868.2" font-family="Times,serif" font-size="14.00">prometheus : Render infra file-sd targets targets for prometheus</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_4793005d -->
<g id="edge_fba775c3" class="edge">
<title>role_04fe8cda-&gt;task_4793005d</title>
<g id="a_edge_fba775c3"><a xlink:title="14 ">
<path fill="none" stroke="#b87a14" d="M1584.6,-11123.7C1594.75,-11073.48 1630.76,-10932.93 1724.24,-10876.9 1815.11,-10822.43 2467.36,-10844.56 2816.16,-10860.67" id="path_edge_fba775c3"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2816.24,-10864.18 2826.39,-10861.15 2816.57,-10857.19 2816.24,-10864.18"/>
</a>
</g>
<g id="a_edge_fba775c3-label"><a xlink:title="14 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_fba775c3" text-anchor="middle" startOffset="50%">14 </textPath></text>
</a>
</g>
<links><link target="task_4793005d"/></links></g>
<!-- task_d33d6508 -->
<g id="task_d33d6508" class="node">
<title>task_d33d6508</title>
<g id="a_task_d33d6508"><a xlink:title="prometheus : Reload prometheus service">
<polygon fill="none" stroke="#b87a14" points="3204.21,-10810.44 3204.21,-10825.35 3105.64,-10835.9 2966.24,-10835.9 2867.67,-10825.35 2867.67,-10810.44 2966.24,-10799.9 3105.64,-10799.9 3204.21,-10810.44"/>
<text text-anchor="middle" x="3035.94" y="-10814.2" font-family="Times,serif" font-size="14.00">prometheus : Reload prometheus service</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_d33d6508 -->
<g id="edge_a37546bf" class="edge">
<title>role_04fe8cda-&gt;task_d33d6508</title>
<g id="a_edge_a37546bf"><a xlink:title="15 ">
<path fill="none" stroke="#b87a14" d="M1582.89,-11123.89C1588.9,-11067.41 1615.89,-10893.38 1724.24,-10822.9 1817.81,-10762.04 2537.95,-10791.53 2869.19,-10808.63" id="path_edge_a37546bf"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2869.19,-10812.14 2879.36,-10809.16 2869.56,-10805.15 2869.19,-10812.14"/>
</a>
</g>
<g id="a_edge_a37546bf-label"><a xlink:title="15 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_a37546bf" text-anchor="middle" startOffset="50%">15 </textPath></text>
</a>
</g>
<links><link target="task_d33d6508"/></links></g>
<!-- task_18e5750b -->
<g id="task_18e5750b" class="node">
<title>task_18e5750b</title>
<g id="a_task_18e5750b"><a xlink:title="prometheus : Copy prometheus service definition">
<polygon fill="none" stroke="#b87a14" points="3237.33,-10756.44 3237.33,-10771.35 3119.36,-10781.9 2952.51,-10781.9 2834.54,-10771.35 2834.54,-10756.44 2952.51,-10745.9 3119.36,-10745.9 3237.33,-10756.44"/>
<text text-anchor="middle" x="3035.94" y="-10760.2" font-family="Times,serif" font-size="14.00">prometheus : Copy prometheus service definition</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_18e5750b -->
<g id="edge_1af096e5" class="edge">
<title>role_04fe8cda-&gt;task_18e5750b</title>
<g id="a_edge_1af096e5"><a xlink:title="16 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1581.63,-11123.56C1583.8,-11060.59 1600.42,-10852.43 1724.24,-10766.9 1814.81,-10704.34 2517.16,-10734.63 2854.81,-10753.16" id="path_edge_1af096e5"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2854.76,-10756.66 2864.94,-10753.71 2855.15,-10749.67 2854.76,-10756.66"/>
</a>
</g>
<g id="a_edge_1af096e5-label"><a xlink:title="16 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_1af096e5" text-anchor="middle" startOffset="50%">16 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_18e5750b"/></links></g>
<!-- task_63758a12 -->
<g id="task_63758a12" class="node">
<title>task_63758a12</title>
<g id="a_task_63758a12"><a xlink:title="prometheus : Copy alertmanager service definition">
<polygon fill="none" stroke="#b87a14" points="3242.18,-10702.44 3242.18,-10717.35 3121.37,-10727.9 2950.51,-10727.9 2829.69,-10717.35 2829.69,-10702.44 2950.51,-10691.9 3121.37,-10691.9 3242.18,-10702.44"/>
<text text-anchor="middle" x="3035.94" y="-10706.2" font-family="Times,serif" font-size="14.00">prometheus : Copy alertmanager service definition</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_63758a12 -->
<g id="edge_9900feba" class="edge">
<title>role_04fe8cda-&gt;task_63758a12</title>
<g id="a_edge_9900feba"><a xlink:title="17 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1580.62,-11123.78C1579.11,-11055.33 1584.01,-10811.21 1724.24,-10709.9 1767.74,-10678.47 2459.04,-10693.37 2819.66,-10703.38" id="path_edge_9900feba"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2819.61,-10706.88 2829.71,-10703.66 2819.81,-10699.88 2819.61,-10706.88"/>
</a>
</g>
<g id="a_edge_9900feba-label"><a xlink:title="17 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_9900feba" text-anchor="middle" startOffset="50%">17 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_63758a12"/></links></g>
<!-- task_acb4654a -->
<g id="task_acb4654a" class="node">
<title>task_acb4654a</title>
<g id="a_task_acb4654a"><a xlink:title="prometheus : Reload consul to register prometheus">
<polygon fill="none" stroke="#b87a14" points="3243.5,-10648.44 3243.5,-10663.35 3121.91,-10673.9 2949.96,-10673.9 2828.38,-10663.35 2828.38,-10648.44 2949.96,-10637.9 3121.91,-10637.9 3243.5,-10648.44"/>
<text text-anchor="middle" x="3035.94" y="-10652.2" font-family="Times,serif" font-size="14.00">prometheus : Reload consul to register prometheus</text>
</a>
</g>
</g>
<!-- role_04fe8cda&#45;&gt;task_acb4654a -->
<g id="edge_31de766a" class="edge">
<title>role_04fe8cda-&gt;task_acb4654a</title>
<g id="a_edge_31de766a"><a xlink:title="18 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1583.96,-11123.86C1595.95,-11044.67 1648.02,-10729.11 1724.24,-10671.9 1811.23,-10606.61 2499.25,-10629.91 2842.11,-10645.9" id="path_edge_31de766a"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2842,-10649.4 2852.15,-10646.37 2842.33,-10642.4 2842,-10649.4"/>
</a>
</g>
<g id="a_edge_31de766a-label"><a xlink:title="18 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_31de766a" text-anchor="middle" startOffset="50%">18 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_acb4654a"/></links></g>
<!-- task_9ad16835 -->
<g id="task_9ad16835" class="node">
<title>task_9ad16835</title>
<g id="a_task_9ad16835"><a xlink:title="grafana : Make sure grafana installed">
<polygon fill="none" stroke="#b87a14" points="3190.47,-10594.44 3190.47,-10609.35 3099.95,-10619.9 2971.92,-10619.9 2881.4,-10609.35 2881.4,-10594.44 2971.92,-10583.9 3099.95,-10583.9 3190.47,-10594.44"/>
<text text-anchor="middle" x="3035.94" y="-10598.2" font-family="Times,serif" font-size="14.00">grafana : Make sure grafana installed</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_9ad16835 -->
<g id="edge_1c913d03" class="edge">
<title>role_16780a65-&gt;task_9ad16835</title>
<g id="a_edge_1c913d03"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M1581.51,-10215.11C1583.3,-10278.61 1598.76,-10491.22 1724.24,-10579.9 1770.26,-10612.42 2529.61,-10607.79 2870.98,-10604.03" id="path_edge_1c913d03"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2871.24,-10607.52 2881.2,-10603.91 2871.17,-10600.52 2871.24,-10607.52"/>
</a>
</g>
<g id="a_edge_1c913d03-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_1c913d03" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_9ad16835"/></links></g>
<!-- task_e217b01d -->
<g id="task_e217b01d" class="node">
<title>task_e217b01d</title>
<g id="a_task_e217b01d"><a xlink:title="grafana : Stop grafana service">
<polygon fill="none" stroke="#b87a14" points="3161.79,-10540.44 3161.79,-10555.35 3088.06,-10565.9 2983.81,-10565.9 2910.09,-10555.35 2910.09,-10540.44 2983.81,-10529.9 3088.06,-10529.9 3161.79,-10540.44"/>
<text text-anchor="middle" x="3035.94" y="-10544.2" font-family="Times,serif" font-size="14.00">grafana : Stop grafana service</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_e217b01d -->
<g id="edge_1a4fe000" class="edge">
<title>role_16780a65-&gt;task_e217b01d</title>
<g id="a_edge_1a4fe000"><a xlink:title="2 ">
<path fill="none" stroke="#b87a14" d="M1582.99,-10215.21C1589.27,-10271.83 1616.87,-10444.47 1724.24,-10515.9 1820.21,-10579.74 2584.83,-10562.59 2899.94,-10552.64" id="path_edge_1a4fe000"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2900.16,-10556.14 2910.04,-10552.32 2899.94,-10549.14 2900.16,-10556.14"/>
</a>
</g>
<g id="a_edge_1a4fe000-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_1a4fe000" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="task_e217b01d"/></links></g>
<!-- task_f506e753 -->
<g id="task_f506e753" class="node">
<title>task_f506e753</title>
<g id="a_task_f506e753"><a xlink:title="grafana : Check grafana plugin cache exists">
<polygon fill="none" stroke="#b87a14" points="3214.81,-10486.44 3214.81,-10501.35 3110.03,-10511.9 2961.84,-10511.9 2857.06,-10501.35 2857.06,-10486.44 2961.84,-10475.9 3110.03,-10475.9 3214.81,-10486.44"/>
<text text-anchor="middle" x="3035.94" y="-10490.2" font-family="Times,serif" font-size="14.00">grafana : Check grafana plugin cache exists</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_f506e753 -->
<g id="edge_e6bb159b" class="edge">
<title>role_16780a65-&gt;task_f506e753</title>
<g id="a_edge_e6bb159b"><a xlink:title="3 ">
<path fill="none" stroke="#b87a14" d="M1584.26,-10214.95C1593.7,-10266.18 1628.39,-10412.58 1724.24,-10471.9 1771.06,-10500.87 2496.04,-10498.61 2847.16,-10495.78" id="path_edge_e6bb159b"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2847.21,-10499.28 2857.18,-10495.7 2847.16,-10492.28 2847.21,-10499.28"/>
</a>
</g>
<g id="a_edge_e6bb159b-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_e6bb159b" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_f506e753"/></links></g>
<!-- task_238c0a22 -->
<g id="task_238c0a22" class="node">
<title>task_238c0a22</title>
<g id="a_task_238c0a22"><a xlink:title="grafana : Provision grafana plugins via cache if exists">
<polygon fill="none" stroke="#b87a14" points="3253.19,-10432.44 3253.19,-10447.35 3125.93,-10457.9 2945.94,-10457.9 2818.68,-10447.35 2818.68,-10432.44 2945.94,-10421.9 3125.93,-10421.9 3253.19,-10432.44"/>
<text text-anchor="middle" x="3035.94" y="-10436.2" font-family="Times,serif" font-size="14.00">grafana : Provision grafana plugins via cache if exists</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_238c0a22 -->
<g id="edge_a967fd38" class="edge">
<title>role_16780a65-&gt;task_238c0a22</title>
<g id="a_edge_a967fd38"><a xlink:title="4 [when: grafana_plugins_cache.stat.exists  and grafana_plugin != 'none']">
<path fill="none" stroke="#b87a14" d="M1586.77,-10214.86C1601.05,-10258.3 1644.09,-10368.75 1724.24,-10412.9 1816.34,-10463.62 2458.39,-10455.19 2808.47,-10446.57" id="path_edge_a967fd38"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2808.57,-10450.07 2818.48,-10446.32 2808.4,-10443.07 2808.57,-10450.07"/>
</a>
</g>
<g id="a_edge_a967fd38-label"><a xlink:title="4 [when: grafana_plugins_cache.stat.exists  and grafana_plugin != 'none']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_a967fd38" text-anchor="middle" startOffset="50%">4 [when: grafana_plugins_cache.stat.exists  and grafana_plugin != 'none']</textPath></text>
</a>
</g>
<links><link target="task_238c0a22"/></links></g>
<!-- task_ba3d1978 -->
<g id="task_ba3d1978" class="node">
<title>task_ba3d1978</title>
<g id="a_task_ba3d1978"><a xlink:title="grafana : Download grafana plugins via internet">
<polygon fill="none" stroke="#b87a14" points="3231.58,-10378.44 3231.58,-10393.35 3116.97,-10403.9 2954.9,-10403.9 2840.29,-10393.35 2840.29,-10378.44 2954.9,-10367.9 3116.97,-10367.9 3231.58,-10378.44"/>
<text text-anchor="middle" x="3035.94" y="-10382.2" font-family="Times,serif" font-size="14.00">grafana : Download grafana plugins via internet</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_ba3d1978 -->
<g id="edge_70417d95" class="edge">
<title>role_16780a65-&gt;task_ba3d1978</title>
<g id="a_edge_70417d95"><a xlink:title="5 [when: grafana_plugin != 'none' and (not grafana_plugins_cache.stat.exists or grafana_plugin == 'always')]">
<path fill="none" stroke="#b87a14" d="M1590.56,-10214.64C1609.88,-10249.57 1658.28,-10326.49 1724.24,-10356.9 1821.66,-10401.8 2486.35,-10396.3 2830.02,-10390.28" id="path_edge_70417d95"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2830.16,-10393.77 2840.1,-10390.1 2830.04,-10386.78 2830.16,-10393.77"/>
</a>
</g>
<g id="a_edge_70417d95-label"><a xlink:title="5 [when: grafana_plugin != 'none' and (not grafana_plugins_cache.stat.exists or grafana_plugin == 'always')]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_70417d95" text-anchor="middle" startOffset="50%">5 [when: grafana_plugin != 'none' and (not grafana_plugins_cache.stat.exists or grafana_plugin == 'always')]</textPath></text>
</a>
</g>
<links><link target="task_ba3d1978"/></links></g>
<!-- task_cfb554f4 -->
<g id="task_cfb554f4" class="node">
<title>task_cfb554f4</title>
<g id="a_task_cfb554f4"><a xlink:title="grafana : Download grafana plugins via git">
<polygon fill="none" stroke="#b87a14" points="3212.59,-10324.44 3212.59,-10339.35 3109.11,-10349.9 2962.76,-10349.9 2859.28,-10339.35 2859.28,-10324.44 2962.76,-10313.9 3109.11,-10313.9 3212.59,-10324.44"/>
<text text-anchor="middle" x="3035.94" y="-10328.2" font-family="Times,serif" font-size="14.00">grafana : Download grafana plugins via git</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_cfb554f4 -->
<g id="edge_65183387" class="edge">
<title>role_16780a65-&gt;task_cfb554f4</title>
<g id="a_edge_65183387"><a xlink:title="6 [when: grafana_plugin != 'none' and (not grafana_plugins_cache.stat.exists or grafana_plugin == 'always')]">
<path fill="none" stroke="#b87a14" d="M1596.29,-10214.32C1620.2,-10240.66 1669.88,-10289.6 1724.24,-10308.9 1827.13,-10345.42 2512.17,-10340.12 2848.85,-10335.17" id="path_edge_65183387"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2849.25,-10338.66 2859.2,-10335.01 2849.15,-10331.66 2849.25,-10338.66"/>
</a>
</g>
<g id="a_edge_65183387-label"><a xlink:title="6 [when: grafana_plugin != 'none' and (not grafana_plugins_cache.stat.exists or grafana_plugin == 'always')]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_65183387" text-anchor="middle" startOffset="50%">6 [when: grafana_plugin != 'none' and (not grafana_plugins_cache.stat.exists or grafana_plugin == 'always')]</textPath></text>
</a>
</g>
<links><link target="task_cfb554f4"/></links></g>
<!-- task_ffdf7f89 -->
<g id="task_ffdf7f89" class="node">
<title>task_ffdf7f89</title>
<g id="a_task_ffdf7f89"><a xlink:title="grafana : Remove grafana provisioning config">
<polygon fill="none" stroke="#b87a14" points="3224.51,-10270.44 3224.51,-10285.35 3114.05,-10295.9 2957.83,-10295.9 2847.36,-10285.35 2847.36,-10270.44 2957.83,-10259.9 3114.05,-10259.9 3224.51,-10270.44"/>
<text text-anchor="middle" x="3035.94" y="-10274.2" font-family="Times,serif" font-size="14.00">grafana : Remove grafana provisioning config</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_ffdf7f89 -->
<g id="edge_fa22a6d3" class="edge">
<title>role_16780a65-&gt;task_ffdf7f89</title>
<g id="a_edge_fa22a6d3"><a xlink:title="7 ">
<path fill="none" stroke="#b87a14" d="M1619.89,-10210.43C1648.34,-10219.74 1688.2,-10231.38 1724.24,-10236.9 2118.41,-10297.31 2586.79,-10294.25 2843.3,-10286.29" id="path_edge_fa22a6d3"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2843.58,-10289.78 2853.47,-10285.97 2843.36,-10282.78 2843.58,-10289.78"/>
</a>
</g>
<g id="a_edge_fa22a6d3-label"><a xlink:title="7 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_fa22a6d3" text-anchor="middle" startOffset="50%">7 </textPath></text>
</a>
</g>
<links><link target="task_ffdf7f89"/></links></g>
<!-- task_a558f15f -->
<g id="task_a558f15f" class="node">
<title>task_a558f15f</title>
<g id="a_task_a558f15f"><a xlink:title="grafana : Remake grafana resource dir">
<polygon fill="none" stroke="#b87a14" points="3194.91,-10216.44 3194.91,-10231.35 3101.79,-10241.9 2970.08,-10241.9 2876.96,-10231.35 2876.96,-10216.44 2970.08,-10205.9 3101.79,-10205.9 3194.91,-10216.44"/>
<text text-anchor="middle" x="3035.94" y="-10220.2" font-family="Times,serif" font-size="14.00">grafana : Remake grafana resource dir</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_a558f15f -->
<g id="edge_aa0810da" class="edge">
<title>role_16780a65-&gt;task_a558f15f</title>
<g id="a_edge_aa0810da"><a xlink:title="8 ">
<path fill="none" stroke="#b87a14" d="M1639.65,-10197.98C1845.35,-10201.8 2541.93,-10214.74 2866.24,-10220.77" id="path_edge_aa0810da"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2866.6,-10224.27 2876.67,-10220.96 2866.73,-10217.27 2866.6,-10224.27"/>
</a>
</g>
<g id="a_edge_aa0810da-label"><a xlink:title="8 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_aa0810da" text-anchor="middle" startOffset="50%">8 </textPath></text>
</a>
</g>
<links><link target="task_a558f15f"/></links></g>
<!-- task_fefb658e -->
<g id="task_fefb658e" class="node">
<title>task_fefb658e</title>
<g id="a_task_fefb658e"><a xlink:title="grafana : Templating /etc/grafana/grafana.ini">
<polygon fill="none" stroke="#b87a14" points="3219.66,-10162.44 3219.66,-10177.35 3112.04,-10187.9 2959.84,-10187.9 2852.21,-10177.35 2852.21,-10162.44 2959.84,-10151.9 3112.04,-10151.9 3219.66,-10162.44"/>
<text text-anchor="middle" x="3035.94" y="-10166.2" font-family="Times,serif" font-size="14.00">grafana : Templating /etc/grafana/grafana.ini</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_fefb658e -->
<g id="edge_9a6df3a9" class="edge">
<title>role_16780a65-&gt;task_fefb658e</title>
<g id="a_edge_9a6df3a9"><a xlink:title="9 ">
<path fill="none" stroke="#b87a14" d="M1634.13,-10189.2C1661.04,-10185.64 1694.32,-10181.79 1724.24,-10179.9 2120.78,-10154.88 2586.13,-10159.34 2841.95,-10164.7" id="path_edge_9a6df3a9"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2842.02,-10168.2 2852.09,-10164.92 2842.17,-10161.21 2842.02,-10168.2"/>
</a>
</g>
<g id="a_edge_9a6df3a9-label"><a xlink:title="9 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_9a6df3a9" text-anchor="middle" startOffset="50%">9 </textPath></text>
</a>
</g>
<links><link target="task_fefb658e"/></links></g>
<!-- task_8e878114 -->
<g id="task_8e878114" class="node">
<title>task_8e878114</title>
<g id="a_task_8e878114"><a xlink:title="grafana : Templating datasources provisioning config">
<polygon fill="none" stroke="#b87a14" points="3252.79,-10108.44 3252.79,-10123.35 3125.76,-10133.9 2946.11,-10133.9 2819.08,-10123.35 2819.08,-10108.44 2946.11,-10097.9 3125.76,-10097.9 3252.79,-10108.44"/>
<text text-anchor="middle" x="3035.94" y="-10112.2" font-family="Times,serif" font-size="14.00">grafana : Templating datasources provisioning config</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_8e878114 -->
<g id="edge_42427927" class="edge">
<title>role_16780a65-&gt;task_8e878114</title>
<g id="a_edge_42427927"><a xlink:title="10 ">
<path fill="none" stroke="#b87a14" d="M1611.31,-10181.52C1639.6,-10167.91 1683.6,-10148.98 1724.24,-10140.9 2136.24,-10058.99 2635.45,-10082.19 2881.97,-10101.52" id="path_edge_42427927"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2881.83,-10105.02 2892.07,-10102.32 2882.38,-10098.04 2881.83,-10105.02"/>
</a>
</g>
<g id="a_edge_42427927-label"><a xlink:title="10 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_42427927" text-anchor="middle" startOffset="50%">10 </textPath></text>
</a>
</g>
<links><link target="task_8e878114"/></links></g>
<!-- task_d931f731 -->
<g id="task_d931f731" class="node">
<title>task_d931f731</title>
<g id="a_task_d931f731"><a xlink:title="grafana : Templating dashboards provisioning config">
<polygon fill="none" stroke="#b87a14" points="3250.57,-10054.44 3250.57,-10069.35 3124.84,-10079.9 2947.03,-10079.9 2821.31,-10069.35 2821.31,-10054.44 2947.03,-10043.9 3124.84,-10043.9 3250.57,-10054.44"/>
<text text-anchor="middle" x="3035.94" y="-10058.2" font-family="Times,serif" font-size="14.00">grafana : Templating dashboards provisioning config</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_d931f731 -->
<g id="edge_a8663a53" class="edge">
<title>role_16780a65-&gt;task_d931f731</title>
<g id="a_edge_a8663a53"><a xlink:title="11 ">
<path fill="none" stroke="#b87a14" d="M1593.32,-10179.16C1615.14,-10148.69 1664.64,-10087.39 1724.24,-10063.9 1822.74,-10025.07 2470.69,-10041.64 2817.19,-10053.58" id="path_edge_a8663a53"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2817.23,-10057.09 2827.35,-10053.93 2817.48,-10050.09 2817.23,-10057.09"/>
</a>
</g>
<g id="a_edge_a8663a53-label"><a xlink:title="11 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_a8663a53" text-anchor="middle" startOffset="50%">11 </textPath></text>
</a>
</g>
<links><link target="task_d931f731"/></links></g>
<!-- task_2f4fce86 -->
<g id="task_2f4fce86" class="node">
<title>task_2f4fce86</title>
<g id="a_task_2f4fce86"><a xlink:title="grafana : Launch grafana service">
<polygon fill="none" stroke="#b87a14" points="3173.3,-10000.44 3173.3,-10015.35 3092.83,-10025.9 2979.04,-10025.9 2898.57,-10015.35 2898.57,-10000.44 2979.04,-9989.9 3092.83,-9989.9 3173.3,-10000.44"/>
<text text-anchor="middle" x="3035.94" y="-10004.2" font-family="Times,serif" font-size="14.00">grafana : Launch grafana service</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_2f4fce86 -->
<g id="edge_7d5cb2c3" class="edge">
<title>role_16780a65-&gt;task_2f4fce86</title>
<g id="a_edge_7d5cb2c3"><a xlink:title="12 ">
<path fill="none" stroke="#b87a14" d="M1589.16,-10179C1606.84,-10141.21 1653.84,-10053.94 1724.24,-10019.9 1826.62,-9970.4 2568.24,-9990.89 2888.41,-10002.24" id="path_edge_7d5cb2c3"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2888.57,-10005.75 2898.68,-10002.61 2888.82,-9998.75 2888.57,-10005.75"/>
</a>
</g>
<g id="a_edge_7d5cb2c3-label"><a xlink:title="12 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_7d5cb2c3" text-anchor="middle" startOffset="50%">12 </textPath></text>
</a>
</g>
<links><link target="task_2f4fce86"/></links></g>
<!-- task_ac5851d1 -->
<g id="task_ac5851d1" class="node">
<title>task_ac5851d1</title>
<g id="a_task_ac5851d1"><a xlink:title="grafana : Wait for grafana online">
<polygon fill="none" stroke="#b87a14" points="3173.71,-9946.44 3173.71,-9961.35 3093,-9971.9 2978.87,-9971.9 2898.17,-9961.35 2898.17,-9946.44 2978.87,-9935.9 3093,-9935.9 3173.71,-9946.44"/>
<text text-anchor="middle" x="3035.94" y="-9950.2" font-family="Times,serif" font-size="14.00">grafana : Wait for grafana online</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_ac5851d1 -->
<g id="edge_99f1a959" class="edge">
<title>role_16780a65-&gt;task_ac5851d1</title>
<g id="a_edge_99f1a959"><a xlink:title="13 ">
<path fill="none" stroke="#b87a14" d="M1586.13,-10178.94C1599.31,-10133.77 1640.71,-10015.75 1724.24,-9968.9 1823.4,-9913.29 2566.38,-9935.35 2887.65,-9947.72" id="path_edge_99f1a959"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2887.83,-9951.23 2897.96,-9948.12 2888.1,-9944.23 2887.83,-9951.23"/>
</a>
</g>
<g id="a_edge_99f1a959-label"><a xlink:title="13 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_99f1a959" text-anchor="middle" startOffset="50%">13 </textPath></text>
</a>
</g>
<links><link target="task_ac5851d1"/></links></g>
<!-- task_3fb2f79d -->
<g id="task_3fb2f79d" class="node">
<title>task_3fb2f79d</title>
<g id="a_task_3fb2f79d"><a xlink:title="grafana : Sync grafana home and core dashboards">
<polygon fill="none" stroke="#b87a14" points="3239.05,-9892.44 3239.05,-9907.35 3120.07,-9917.9 2951.8,-9917.9 2832.82,-9907.35 2832.82,-9892.44 2951.8,-9881.9 3120.07,-9881.9 3239.05,-9892.44"/>
<text text-anchor="middle" x="3035.94" y="-9896.2" font-family="Times,serif" font-size="14.00">grafana : Sync grafana home and core dashboards</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_3fb2f79d -->
<g id="edge_7175e725" class="edge">
<title>role_16780a65-&gt;task_3fb2f79d</title>
<g id="a_edge_7175e725"><a xlink:title="14 ">
<path fill="none" stroke="#b87a14" d="M1583.97,-10178.62C1592.71,-10126.04 1625.86,-9974.2 1724.24,-9912.9 1816.04,-9855.7 2494.42,-9876.29 2837.47,-9890.68" id="path_edge_7175e725"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2837.38,-9894.17 2847.52,-9891.1 2837.68,-9887.18 2837.38,-9894.17"/>
</a>
</g>
<g id="a_edge_7175e725-label"><a xlink:title="14 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_7175e725" text-anchor="middle" startOffset="50%">14 </textPath></text>
</a>
</g>
<links><link target="task_3fb2f79d"/></links></g>
<!-- task_711fd505 -->
<g id="task_711fd505" class="node">
<title>task_711fd505</title>
<g id="a_task_711fd505"><a xlink:title="grafana : Provisioning grafana with grafana.py">
<polygon fill="none" stroke="#b87a14" points="3226.73,-9838.44 3226.73,-9853.35 3114.97,-9863.9 2956.91,-9863.9 2845.14,-9853.35 2845.14,-9838.44 2956.91,-9827.9 3114.97,-9827.9 3226.73,-9838.44"/>
<text text-anchor="middle" x="3035.94" y="-9842.2" font-family="Times,serif" font-size="14.00">grafana : Provisioning grafana with grafana.py</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_711fd505 -->
<g id="edge_be4a991c" class="edge">
<title>role_16780a65-&gt;task_711fd505</title>
<g id="a_edge_be4a991c"><a xlink:title="15 ">
<path fill="none" stroke="#b87a14" d="M1582.38,-10178.55C1586.93,-10119.29 1610.16,-9932.41 1724.24,-9855.9 1815.42,-9794.75 2513.99,-9820.11 2852.36,-9836.3" id="path_edge_be4a991c"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2852.36,-9839.81 2862.52,-9836.79 2852.7,-9832.81 2852.36,-9839.81"/>
</a>
</g>
<g id="a_edge_be4a991c-label"><a xlink:title="15 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_be4a991c" text-anchor="middle" startOffset="50%">15 </textPath></text>
</a>
</g>
<links><link target="task_711fd505"/></links></g>
<!-- task_4453b599 -->
<g id="task_4453b599" class="node">
<title>task_4453b599</title>
<g id="a_task_4453b599"><a xlink:title="grafana : Register consul grafana service">
<polygon fill="none" stroke="#b87a14" points="3204.21,-9784.44 3204.21,-9799.35 3105.64,-9809.9 2966.24,-9809.9 2867.67,-9799.35 2867.67,-9784.44 2966.24,-9773.9 3105.64,-9773.9 3204.21,-9784.44"/>
<text text-anchor="middle" x="3035.94" y="-9788.2" font-family="Times,serif" font-size="14.00">grafana : Register consul grafana service</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_4453b599 -->
<g id="edge_6be49806" class="edge">
<title>role_16780a65-&gt;task_4453b599</title>
<g id="a_edge_6be49806"><a xlink:title="16 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1581.18,-10178.81C1581.78,-10113.71 1593.59,-9890.33 1724.24,-9797.9 1815.66,-9733.23 2541.37,-9764.46 2871.92,-9782.35" id="path_edge_6be49806"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2871.89,-9785.85 2882.07,-9782.9 2872.27,-9778.86 2871.89,-9785.85"/>
</a>
</g>
<g id="a_edge_6be49806-label"><a xlink:title="16 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_6be49806" text-anchor="middle" startOffset="50%">16 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_4453b599"/></links></g>
<!-- task_d3449cd4 -->
<g id="task_d3449cd4" class="node">
<title>task_d3449cd4</title>
<g id="a_task_d3449cd4"><a xlink:title="grafana : Reload consul">
<polygon fill="none" stroke="#b87a14" points="3138.86,-9730.44 3138.86,-9745.35 3078.57,-9755.9 2993.31,-9755.9 2933.02,-9745.35 2933.02,-9730.44 2993.31,-9719.9 3078.57,-9719.9 3138.86,-9730.44"/>
<text text-anchor="middle" x="3035.94" y="-9734.2" font-family="Times,serif" font-size="14.00">grafana : Reload consul</text>
</a>
</g>
</g>
<!-- role_16780a65&#45;&gt;task_d3449cd4 -->
<g id="edge_849fb7eb" class="edge">
<title>role_16780a65-&gt;task_d3449cd4</title>
<g id="a_edge_849fb7eb"><a xlink:title="17 [when: service_registry == 'consul']">
<path fill="none" stroke="#b87a14" d="M1584.11,-10178.81C1596.55,-10100.84 1649.6,-9794.85 1724.24,-9739.9 1772.09,-9704.68 2614.44,-9725.6 2922.92,-9734.5" id="path_edge_849fb7eb"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2923.13,-9738 2933.22,-9734.8 2923.33,-9731.01 2923.13,-9738"/>
</a>
</g>
<g id="a_edge_849fb7eb-label"><a xlink:title="17 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_849fb7eb" text-anchor="middle" startOffset="50%">17 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_d3449cd4"/></links></g>
<!-- task_bf5c5b1d -->
<g id="task_bf5c5b1d" class="node">
<title>task_bf5c5b1d</title>
<g id="a_task_bf5c5b1d"><a xlink:title="loki : Install loki via yum">
<polygon fill="none" stroke="#b87a14" points="3145.93,-9676.44 3145.93,-9691.35 3081.5,-9701.9 2990.38,-9701.9 2925.95,-9691.35 2925.95,-9676.44 2990.38,-9665.9 3081.5,-9665.9 3145.93,-9676.44"/>
<text text-anchor="middle" x="3035.94" y="-9680.2" font-family="Times,serif" font-size="14.00">loki : Install loki via yum</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_bf5c5b1d -->
<g id="edge_466383b4" class="edge">
<title>role_c6151a82-&gt;task_bf5c5b1d</title>
<g id="a_edge_466383b4"><a xlink:title="1 ">
<path fill="none" stroke="#b87a14" d="M1595.9,-9565.89C1619.66,-9592.12 1669.58,-9641.49 1724.24,-9660.9 1834.55,-9700.06 2614.01,-9691.13 2915.91,-9686.12" id="path_edge_466383b4"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2916.07,-9689.61 2926.01,-9685.95 2915.95,-9682.62 2916.07,-9689.61"/>
</a>
</g>
<g id="a_edge_466383b4-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_466383b4" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_bf5c5b1d"/></links></g>
<!-- task_79f9e090 -->
<g id="task_79f9e090" class="node">
<title>task_79f9e090</title>
<g id="a_task_79f9e090"><a xlink:title="loki : Cleanup loki">
<polygon fill="none" stroke="#b87a14" points="3119.87,-9622.44 3119.87,-9637.35 3070.7,-9647.9 3001.17,-9647.9 2952,-9637.35 2952,-9622.44 3001.17,-9611.9 3070.7,-9611.9 3119.87,-9622.44"/>
<text text-anchor="middle" x="3035.94" y="-9626.2" font-family="Times,serif" font-size="14.00">loki : Cleanup loki</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_79f9e090 -->
<g id="edge_f49acb57" class="edge">
<title>role_c6151a82-&gt;task_79f9e090</title>
<g id="a_edge_f49acb57"><a xlink:title="2 [when: loki_clean|bool]">
<path fill="none" stroke="#b87a14" d="M1615.17,-9560.88C1643.82,-9570.4 1686.17,-9583.06 1724.24,-9588.9 2176.42,-9658.2 2726.25,-9643.97 2941.86,-9634.64" id="path_edge_f49acb57"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2942.04,-9638.14 2951.88,-9634.2 2941.73,-9631.15 2942.04,-9638.14"/>
</a>
</g>
<g id="a_edge_f49acb57-label"><a xlink:title="2 [when: loki_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_f49acb57" text-anchor="middle" startOffset="50%">2 [when: loki_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_79f9e090"/></links></g>
<!-- task_4d2e6488 -->
<g id="task_4d2e6488" class="node">
<title>task_4d2e6488</title>
<g id="a_task_4d2e6488"><a xlink:title="loki : Copy loki systemd service">
<polygon fill="none" stroke="#b87a14" points="3172.39,-9568.44 3172.39,-9583.35 3092.46,-9593.9 2979.41,-9593.9 2899.48,-9583.35 2899.48,-9568.44 2979.41,-9557.9 3092.46,-9557.9 3172.39,-9568.44"/>
<text text-anchor="middle" x="3035.94" y="-9572.2" font-family="Times,serif" font-size="14.00">loki : Copy loki systemd service</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_4d2e6488 -->
<g id="edge_bc3bd1cd" class="edge">
<title>role_c6151a82-&gt;task_4d2e6488</title>
<g id="a_edge_bc3bd1cd"><a xlink:title="3 ">
<path fill="none" stroke="#b87a14" d="M1626.42,-9549.74C1817.94,-9553.29 2568.69,-9567.24 2888.92,-9573.19" id="path_edge_bc3bd1cd"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2889.14,-9576.69 2899.2,-9573.38 2889.27,-9569.69 2889.14,-9576.69"/>
</a>
</g>
<g id="a_edge_bc3bd1cd-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_bc3bd1cd" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_4d2e6488"/></links></g>
<!-- task_c166cc36 -->
<g id="task_c166cc36" class="node">
<title>task_c166cc36</title>
<g id="a_task_c166cc36"><a xlink:title="loki : Copy loki.yml main config">
<polygon fill="none" stroke="#b87a14" points="3174.61,-9514.44 3174.61,-9529.35 3093.38,-9539.9 2978.49,-9539.9 2897.26,-9529.35 2897.26,-9514.44 2978.49,-9503.9 3093.38,-9503.9 3174.61,-9514.44"/>
<text text-anchor="middle" x="3035.94" y="-9518.2" font-family="Times,serif" font-size="14.00">loki : Copy loki.yml main config</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_c166cc36 -->
<g id="edge_7836e012" class="edge">
<title>role_c6151a82-&gt;task_c166cc36</title>
<g id="a_edge_7836e012"><a xlink:title="4 ">
<path fill="none" stroke="#b87a14" d="M1623.73,-9542.61C1652.11,-9538.7 1690.33,-9534.04 1724.24,-9531.9 2145.16,-9505.34 2643.6,-9512 2886.69,-9517.69" id="path_edge_7836e012"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2886.92,-9521.2 2897.01,-9517.94 2887.09,-9514.2 2886.92,-9521.2"/>
</a>
</g>
<g id="a_edge_7836e012-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_7836e012" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="task_c166cc36"/></links></g>
<!-- task_282a7443 -->
<g id="task_282a7443" class="node">
<title>task_282a7443</title>
<g id="a_task_282a7443"><a xlink:title="loki : Render loki default config">
<polygon fill="none" stroke="#b87a14" points="3170.17,-9460.44 3170.17,-9475.35 3091.54,-9485.9 2980.33,-9485.9 2901.7,-9475.35 2901.7,-9460.44 2980.33,-9449.9 3091.54,-9449.9 3170.17,-9460.44"/>
<text text-anchor="middle" x="3035.94" y="-9464.2" font-family="Times,serif" font-size="14.00">loki : Render loki default config</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_282a7443 -->
<g id="edge_223778d3" class="edge">
<title>role_c6151a82-&gt;task_282a7443</title>
<g id="a_edge_223778d3"><a xlink:title="5 ">
<path fill="none" stroke="#b87a14" d="M1608.9,-9534.69C1637.05,-9521.01 1682.42,-9501.21 1724.24,-9492.9 2156.18,-9407.03 2683.97,-9436.68 2915.94,-9456.29" id="path_edge_223778d3"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2915.83,-9459.79 2926.09,-9457.15 2916.43,-9452.81 2915.83,-9459.79"/>
</a>
</g>
<g id="a_edge_223778d3-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_223778d3" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="task_282a7443"/></links></g>
<!-- task_c0abedba -->
<g id="task_c0abedba" class="node">
<title>task_c0abedba</title>
<g id="a_task_c0abedba"><a xlink:title="loki : Launch Loki">
<polygon fill="none" stroke="#b87a14" points="3119.87,-9406.44 3119.87,-9421.35 3070.7,-9431.9 3001.17,-9431.9 2952,-9421.35 2952,-9406.44 3001.17,-9395.9 3070.7,-9395.9 3119.87,-9406.44"/>
<text text-anchor="middle" x="3035.94" y="-9410.2" font-family="Times,serif" font-size="14.00">loki : Launch Loki</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_c0abedba -->
<g id="edge_297aae70" class="edge">
<title>role_c6151a82-&gt;task_c0abedba</title>
<g id="a_edge_297aae70"><a xlink:title="6 ">
<path fill="none" stroke="#b87a14" d="M1593.32,-9531.16C1615.14,-9500.69 1664.64,-9439.39 1724.24,-9415.9 1836.44,-9371.67 2661.71,-9399.33 2942.05,-9410.14" id="path_edge_297aae70"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2942.06,-9413.64 2952.19,-9410.53 2942.34,-9406.65 2942.06,-9413.64"/>
</a>
</g>
<g id="a_edge_297aae70-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_297aae70" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="task_c0abedba"/></links></g>
<!-- task_80bcb3d5 -->
<g id="task_80bcb3d5" class="node">
<title>task_80bcb3d5</title>
<g id="a_task_80bcb3d5"><a xlink:title="loki : Wait for loki online">
<polygon fill="none" stroke="#b87a14" points="3146.33,-9352.44 3146.33,-9367.35 3081.66,-9377.9 2990.21,-9377.9 2925.54,-9367.35 2925.54,-9352.44 2990.21,-9341.9 3081.66,-9341.9 3146.33,-9352.44"/>
<text text-anchor="middle" x="3035.94" y="-9356.2" font-family="Times,serif" font-size="14.00">loki : Wait for loki online</text>
</a>
</g>
</g>
<!-- role_c6151a82&#45;&gt;task_80bcb3d5 -->
<g id="edge_a4dd5900" class="edge">
<title>role_c6151a82-&gt;task_80bcb3d5</title>
<g id="a_edge_a4dd5900"><a xlink:title="7 ">
<path fill="none" stroke="#b87a14" d="M1589.16,-9531C1606.84,-9493.21 1653.84,-9405.94 1724.24,-9371.9 1829.61,-9320.96 2612.07,-9344.14 2915.33,-9355.21" id="path_edge_a4dd5900"/>
<polygon fill="#b87a14" stroke="#b87a14" points="2915.36,-9358.71 2925.48,-9355.58 2915.62,-9351.72 2915.36,-9358.71"/>
</a>
</g>
<g id="a_edge_a4dd5900-label"><a xlink:title="7 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#b87a14" dy="-1%"><textPath xlink:href="#path_edge_a4dd5900" text-anchor="middle" startOffset="50%">7 </textPath></text>
</a>
</g>
<links><link target="task_80bcb3d5"/></links></g>
<!-- role_51b0b4c4 -->
<g id="role_51b0b4c4" class="node">
<title>role_51b0b4c4</title>
<g id="a_role_51b0b4c4"><a xlink:title="node_exporter">
<ellipse fill="none" stroke="#3e8e7f" cx="1580.32" cy="-9035.9" rx="83.39" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-9032.2" font-family="Times,serif" font-size="14.00">[role] node_exporter</text>
</a>
</g>
<links><link target="edge_a57e0a3c"/><link target="edge_c1b0686d"/><link target="edge_1ccc59a0"/><link target="edge_6ff99f06"/><link target="edge_a1d9d5fe"/><link target="edge_ea7efa64"/><link target="edge_53e686a9"/><link target="edge_18adce46"/><link target="edge_96bcef1d"/><link target="edge_3d4d6b4b"/><link target="edge_3272a0dc"/></links></g>
<!-- play_7bb60bb1&#45;&gt;role_51b0b4c4 -->
<g id="edge_5ca2184e" class="edge">
<title>play_7bb60bb1-&gt;role_51b0b4c4</title>
<g id="a_edge_5ca2184e"><a xlink:title="1 ">
<path fill="none" stroke="#3e8e7f" d="M354.11,-9035.9C591.83,-9035.9 1244.17,-9035.9 1486.8,-9035.9" id="path_edge_5ca2184e"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="1487,-9039.4 1497,-9035.9 1487,-9032.4 1487,-9039.4"/>
</a>
</g>
<g id="a_edge_5ca2184e-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_5ca2184e" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_51b0b4c4"/></links></g>
<!-- role_252ba2da -->
<g id="role_252ba2da" class="node">
<title>role_252ba2da</title>
<g id="a_role_252ba2da"><a xlink:title="promtail">
<ellipse fill="none" stroke="#3e8e7f" cx="1580.32" cy="-8522.9" rx="63.09" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-8519.2" font-family="Times,serif" font-size="14.00">[role] promtail</text>
</a>
</g>
<links><link target="edge_80b2dbc4"/><link target="edge_8bb19a06"/><link target="edge_c3d2e34b"/><link target="edge_dc22474f"/><link target="edge_3e35fd8e"/><link target="edge_39ab1c69"/><link target="edge_b3b3f71b"/><link target="edge_5361697d"/><link target="edge_c5ddd4d6"/></links></g>
<!-- play_7bb60bb1&#45;&gt;role_252ba2da -->
<g id="edge_7bb81f76" class="edge">
<title>play_7bb60bb1-&gt;role_252ba2da</title>
<g id="a_edge_7bb81f76"><a xlink:title="2 ">
<path fill="none" stroke="#3e8e7f" d="M312.25,-9017.79C515.72,-8938.32 1328.57,-8620.83 1532.65,-8541.13" id="path_edge_7bb81f76"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="1534.14,-8544.3 1542.18,-8537.4 1531.6,-8537.78 1534.14,-8544.3"/>
</a>
</g>
<g id="a_edge_7bb81f76-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_7bb81f76" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="role_252ba2da"/></links></g>
<!-- task_5e62a5b0 -->
<g id="task_5e62a5b0" class="node">
<title>task_5e62a5b0</title>
<g id="a_task_5e62a5b0"><a xlink:title="node_exporter : Add yum repo for node_exporter">
<polygon fill="none" stroke="#3e8e7f" points="3237.33,-9298.44 3237.33,-9313.35 3119.36,-9323.9 2952.51,-9323.9 2834.54,-9313.35 2834.54,-9298.44 2952.51,-9287.9 3119.36,-9287.9 3237.33,-9298.44"/>
<text text-anchor="middle" x="3035.94" y="-9302.2" font-family="Times,serif" font-size="14.00">node_exporter : Add yum repo for node_exporter</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_5e62a5b0 -->
<g id="edge_a57e0a3c" class="edge">
<title>role_51b0b4c4-&gt;task_5e62a5b0</title>
<g id="a_edge_a57e0a3c"><a xlink:title="1 [when: node_exporter_enabled|bool and exporter_install != 'none' and exporter_install == 'yum' and exporter_repo_url != '']">
<path fill="none" stroke="#3e8e7f" d="M1585.45,-9054.06C1597.33,-9101.58 1636.55,-9229.41 1724.24,-9280.9 1770.7,-9308.17 2465.61,-9308.78 2824.21,-9307.24" id="path_edge_a57e0a3c"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2824.48,-9310.74 2834.46,-9307.2 2824.44,-9303.74 2824.48,-9310.74"/>
</a>
</g>
<g id="a_edge_a57e0a3c-label"><a xlink:title="1 [when: node_exporter_enabled|bool and exporter_install != 'none' and exporter_install == 'yum' and exporter_repo_url != '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_a57e0a3c" text-anchor="middle" startOffset="50%">1 [when: node_exporter_enabled|bool and exporter_install != 'none' and exporter_install == 'yum' and exporter_repo_url != '']</textPath></text>
</a>
</g>
<links><link target="task_5e62a5b0"/></links></g>
<!-- task_152b8ee2 -->
<g id="task_152b8ee2" class="node">
<title>task_152b8ee2</title>
<g id="a_task_152b8ee2"><a xlink:title="node_exporter : Install node_exporter via yum">
<polygon fill="none" stroke="#3e8e7f" points="3225.82,-9244.44 3225.82,-9259.35 3114.59,-9269.9 2957.28,-9269.9 2846.05,-9259.35 2846.05,-9244.44 2957.28,-9233.9 3114.59,-9233.9 3225.82,-9244.44"/>
<text text-anchor="middle" x="3035.94" y="-9248.2" font-family="Times,serif" font-size="14.00">node_exporter : Install node_exporter via yum</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_152b8ee2 -->
<g id="edge_c1b0686d" class="edge">
<title>role_51b0b4c4-&gt;task_152b8ee2</title>
<g id="a_edge_c1b0686d"><a xlink:title="2 [when: node_exporter_enabled|bool and exporter_install != 'none' and and exporter_install == 'yum']">
<path fill="none" stroke="#3e8e7f" d="M1588.48,-9053.9C1605.27,-9093.34 1651.36,-9186.78 1724.24,-9223.9 1820.39,-9272.87 2493.27,-9264.65 2835.71,-9257.1" id="path_edge_c1b0686d"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2835.82,-9260.6 2845.74,-9256.88 2835.67,-9253.6 2835.82,-9260.6"/>
</a>
</g>
<g id="a_edge_c1b0686d-label"><a xlink:title="2 [when: node_exporter_enabled|bool and exporter_install != 'none' and and exporter_install == 'yum']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_c1b0686d" text-anchor="middle" startOffset="50%">2 [when: node_exporter_enabled|bool and exporter_install != 'none' and and exporter_install == 'yum']</textPath></text>
</a>
</g>
<links><link target="task_152b8ee2"/></links></g>
<!-- task_03c0d124 -->
<g id="task_03c0d124" class="node">
<title>task_03c0d124</title>
<g id="a_task_03c0d124"><a xlink:title="node_exporter : Install node_exporter via binary">
<polygon fill="none" stroke="#3e8e7f" points="3232.89,-9190.44 3232.89,-9205.35 3117.52,-9215.9 2954.35,-9215.9 2838.98,-9205.35 2838.98,-9190.44 2954.35,-9179.9 3117.52,-9179.9 3232.89,-9190.44"/>
<text text-anchor="middle" x="3035.94" y="-9194.2" font-family="Times,serif" font-size="14.00">node_exporter : Install node_exporter via binary</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_03c0d124 -->
<g id="edge_1ccc59a0" class="edge">
<title>role_51b0b4c4-&gt;task_03c0d124</title>
<g id="a_edge_1ccc59a0"><a xlink:title="3 [when: node_exporter_enabled|bool and exporter_install != 'none' and exporter_install == 'binary']">
<path fill="none" stroke="#3e8e7f" d="M1593.26,-9053.91C1615,-9084.88 1664.37,-9147.27 1724.24,-9171.9 1823.28,-9212.63 2485.12,-9207.53 2828.7,-9201.96" id="path_edge_1ccc59a0"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2828.83,-9205.46 2838.77,-9201.8 2828.72,-9198.46 2828.83,-9205.46"/>
</a>
</g>
<g id="a_edge_1ccc59a0-label"><a xlink:title="3 [when: node_exporter_enabled|bool and exporter_install != 'none' and exporter_install == 'binary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_1ccc59a0" text-anchor="middle" startOffset="50%">3 [when: node_exporter_enabled|bool and exporter_install != 'none' and exporter_install == 'binary']</textPath></text>
</a>
</g>
<links><link target="task_03c0d124"/></links></g>
<!-- task_0c1b5ebb -->
<g id="task_0c1b5ebb" class="node">
<title>task_0c1b5ebb</title>
<g id="a_task_0c1b5ebb"><a xlink:title="node_exporter : Config node_exporter systemd unit">
<polygon fill="none" stroke="#3e8e7f" points="3245.72,-9136.44 3245.72,-9151.35 3122.83,-9161.9 2949.04,-9161.9 2826.15,-9151.35 2826.15,-9136.44 2949.04,-9125.9 3122.83,-9125.9 3245.72,-9136.44"/>
<text text-anchor="middle" x="3035.94" y="-9140.2" font-family="Times,serif" font-size="14.00">node_exporter : Config node_exporter systemd unit</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_0c1b5ebb -->
<g id="edge_6ff99f06" class="edge">
<title>role_51b0b4c4-&gt;task_0c1b5ebb</title>
<g id="a_edge_6ff99f06"><a xlink:title="4 [when: node_exporter_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1606.27,-9053.04C1633.76,-9070.83 1679.96,-9097.62 1724.24,-9108.9 1924.12,-9159.82 2497.81,-9156.19 2815.92,-9149.72" id="path_edge_6ff99f06"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2816.27,-9153.21 2826.19,-9149.51 2816.12,-9146.21 2816.27,-9153.21"/>
</a>
</g>
<g id="a_edge_6ff99f06-label"><a xlink:title="4 [when: node_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_6ff99f06" text-anchor="middle" startOffset="50%">4 [when: node_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_0c1b5ebb"/></links></g>
<!-- task_3ef42f99 -->
<g id="task_3ef42f99" class="node">
<title>task_3ef42f99</title>
<g id="a_task_3ef42f99"><a xlink:title="node_exporter : Config default node_exporter options">
<polygon fill="none" stroke="#3e8e7f" points="3253.19,-9082.44 3253.19,-9097.35 3125.93,-9107.9 2945.94,-9107.9 2818.68,-9097.35 2818.68,-9082.44 2945.94,-9071.9 3125.93,-9071.9 3253.19,-9082.44"/>
<text text-anchor="middle" x="3035.94" y="-9086.2" font-family="Times,serif" font-size="14.00">node_exporter : Config default node_exporter options</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_3ef42f99 -->
<g id="edge_a1d9d5fe" class="edge">
<title>role_51b0b4c4-&gt;task_3ef42f99</title>
<g id="a_edge_a1d9d5fe"><a xlink:title="5 [when: node_exporter_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1648.42,-9046.3C1672.3,-9049.61 1699.41,-9052.92 1724.24,-9054.9 2103.65,-9085.1 2546.58,-9090.78 2808.2,-9091.09" id="path_edge_a1d9d5fe"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2808.58,-9094.59 2818.58,-9091.1 2808.59,-9087.59 2808.58,-9094.59"/>
</a>
</g>
<g id="a_edge_a1d9d5fe-label"><a xlink:title="5 [when: node_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_a1d9d5fe" text-anchor="middle" startOffset="50%">5 [when: node_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_3ef42f99"/></links></g>
<!-- task_aab8b5df -->
<g id="task_aab8b5df" class="node">
<title>task_aab8b5df</title>
<g id="a_task_aab8b5df"><a xlink:title="node_exporter : Launch node_exporter systemd unit">
<polygon fill="none" stroke="#3e8e7f" points="3248.35,-9028.44 3248.35,-9043.35 3123.92,-9053.9 2947.95,-9053.9 2823.53,-9043.35 2823.53,-9028.44 2947.95,-9017.9 3123.92,-9017.9 3248.35,-9028.44"/>
<text text-anchor="middle" x="3035.94" y="-9032.2" font-family="Times,serif" font-size="14.00">node_exporter : Launch node_exporter systemd unit</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_aab8b5df -->
<g id="edge_ea7efa64" class="edge">
<title>role_51b0b4c4-&gt;task_aab8b5df</title>
<g id="a_edge_ea7efa64"><a xlink:title="6 ">
<path fill="none" stroke="#3e8e7f" d="M1663.64,-9035.9C1882.46,-9035.9 2484.28,-9035.9 2813.18,-9035.9" id="path_edge_ea7efa64"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2813.32,-9039.4 2823.32,-9035.9 2813.32,-9032.4 2813.32,-9039.4"/>
</a>
</g>
<g id="a_edge_ea7efa64-label"><a xlink:title="6 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_ea7efa64" text-anchor="middle" startOffset="50%">6 </textPath></text>
</a>
</g>
<links><link target="task_aab8b5df"/></links></g>
<!-- task_76486fdc -->
<g id="task_76486fdc" class="node">
<title>task_76486fdc</title>
<g id="a_task_76486fdc"><a xlink:title="node_exporter : Wait for node_exporter online">
<polygon fill="none" stroke="#3e8e7f" points="3226.73,-8974.44 3226.73,-8989.35 3114.97,-8999.9 2956.91,-8999.9 2845.14,-8989.35 2845.14,-8974.44 2956.91,-8963.9 3114.97,-8963.9 3226.73,-8974.44"/>
<text text-anchor="middle" x="3035.94" y="-8978.2" font-family="Times,serif" font-size="14.00">node_exporter : Wait for node_exporter online</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_76486fdc -->
<g id="edge_53e686a9" class="edge">
<title>role_51b0b4c4-&gt;task_76486fdc</title>
<g id="a_edge_53e686a9"><a xlink:title="7 ">
<path fill="none" stroke="#3e8e7f" d="M1648.42,-9025.49C1672.3,-9022.19 1699.41,-9018.88 1724.24,-9016.9 2116.95,-8985.64 2577.7,-8980.65 2835.02,-8980.7" id="path_edge_53e686a9"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2835.22,-8984.2 2845.22,-8980.7 2835.23,-8977.2 2835.22,-8984.2"/>
</a>
</g>
<g id="a_edge_53e686a9-label"><a xlink:title="7 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_53e686a9" text-anchor="middle" startOffset="50%">7 </textPath></text>
</a>
</g>
<links><link target="task_76486fdc"/></links></g>
<!-- task_7c91e684 -->
<g id="task_7c91e684" class="node">
<title>task_7c91e684</title>
<g id="a_task_7c91e684"><a xlink:title="node_exporter : Deregister node exporter from prometheus">
<polygon fill="none" stroke="#3e8e7f" points="3274.4,-8920.44 3274.4,-8935.35 3134.71,-8945.9 2937.16,-8945.9 2797.47,-8935.35 2797.47,-8920.44 2937.16,-8909.9 3134.71,-8909.9 3274.4,-8920.44"/>
<text text-anchor="middle" x="3035.94" y="-8924.2" font-family="Times,serif" font-size="14.00">node_exporter : Deregister node exporter from prometheus</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_7c91e684 -->
<g id="edge_18adce46" class="edge">
<title>role_51b0b4c4-&gt;task_7c91e684</title>
<g id="a_edge_18adce46"><a xlink:title="8 ">
<path fill="none" stroke="#3e8e7f" d="M1606.23,-9018.52C1633.69,-9000.48 1679.86,-8973.32 1724.24,-8961.9 1918.06,-8912.03 2464.01,-8914.63 2786.9,-8921.14" id="path_edge_18adce46"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2787.27,-8924.65 2797.34,-8921.36 2787.41,-8917.65 2787.27,-8924.65"/>
</a>
</g>
<g id="a_edge_18adce46-label"><a xlink:title="8 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_18adce46" text-anchor="middle" startOffset="50%">8 </textPath></text>
</a>
</g>
<links><link target="task_7c91e684"/></links></g>
<!-- task_9fea999c -->
<g id="task_9fea999c" class="node">
<title>task_9fea999c</title>
<g id="a_task_9fea999c"><a xlink:title="node_exporter : Fetch hostname from server if no node name is given">
<polygon fill="none" stroke="#3e8e7f" points="3316.82,-8866.44 3316.82,-8881.35 3152.28,-8891.9 2919.59,-8891.9 2755.05,-8881.35 2755.05,-8866.44 2919.59,-8855.9 3152.28,-8855.9 3316.82,-8866.44"/>
<text text-anchor="middle" x="3035.94" y="-8870.2" font-family="Times,serif" font-size="14.00">node_exporter : Fetch hostname from server if no node name is given</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_9fea999c -->
<g id="edge_96bcef1d" class="edge">
<title>role_51b0b4c4-&gt;task_9fea999c</title>
<g id="a_edge_96bcef1d"><a xlink:title="9 [when: node_exporter_enabled|bool and nodename is not defined or nodename == '']">
<path fill="none" stroke="#3e8e7f" d="M1593.19,-9017.62C1614.82,-8986.19 1664.02,-8922.87 1724.24,-8897.9 1919.22,-8817.05 2519.74,-8840.76 2835.77,-8859.96" id="path_edge_96bcef1d"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2835.77,-8863.46 2845.96,-8860.58 2836.19,-8856.48 2835.77,-8863.46"/>
</a>
</g>
<g id="a_edge_96bcef1d-label"><a xlink:title="9 [when: node_exporter_enabled|bool and nodename is not defined or nodename == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_96bcef1d" text-anchor="middle" startOffset="50%">9 [when: node_exporter_enabled|bool and nodename is not defined or nodename == '']</textPath></text>
</a>
</g>
<links><link target="task_9fea999c"/></links></g>
<!-- task_b522bfa3 -->
<g id="task_b522bfa3" class="node">
<title>task_b522bfa3</title>
<g id="a_task_b522bfa3"><a xlink:title="node_exporter : Setup nodename according to hostname">
<polygon fill="none" stroke="#3e8e7f" points="3263.8,-8812.44 3263.8,-8827.35 3130.32,-8837.9 2941.55,-8837.9 2808.07,-8827.35 2808.07,-8812.44 2941.55,-8801.9 3130.32,-8801.9 3263.8,-8812.44"/>
<text text-anchor="middle" x="3035.94" y="-8816.2" font-family="Times,serif" font-size="14.00">node_exporter : Setup nodename according to hostname</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_b522bfa3 -->
<g id="edge_3d4d6b4b" class="edge">
<title>role_51b0b4c4-&gt;task_b522bfa3</title>
<g id="a_edge_3d4d6b4b"><a xlink:title="10 [when: node_exporter_enabled|bool and nodename is not defined or nodename == '']">
<path fill="none" stroke="#3e8e7f" d="M1586.88,-9017.69C1601.27,-8974.19 1644.29,-8864.72 1724.24,-8821.9 1818.62,-8771.35 2482.65,-8794.04 2827.72,-8809.61" id="path_edge_3d4d6b4b"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2827.69,-8813.11 2837.84,-8810.07 2828.01,-8806.12 2827.69,-8813.11"/>
</a>
</g>
<g id="a_edge_3d4d6b4b-label"><a xlink:title="10 [when: node_exporter_enabled|bool and nodename is not defined or nodename == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_3d4d6b4b" text-anchor="middle" startOffset="50%">10 [when: node_exporter_enabled|bool and nodename is not defined or nodename == '']</textPath></text>
</a>
</g>
<links><link target="task_b522bfa3"/></links></g>
<!-- task_fc9bc2c6 -->
<g id="task_fc9bc2c6" class="node">
<title>task_fc9bc2c6</title>
<g id="a_task_fc9bc2c6"><a xlink:title="node_exporter : Register node exporter as prometheus target">
<polygon fill="none" stroke="#3e8e7f" points="3280.16,-8758.44 3280.16,-8773.35 3137.1,-8783.9 2934.78,-8783.9 2791.71,-8773.35 2791.71,-8758.44 2934.78,-8747.9 3137.1,-8747.9 3280.16,-8758.44"/>
<text text-anchor="middle" x="3035.94" y="-8762.2" font-family="Times,serif" font-size="14.00">node_exporter : Register node exporter as prometheus target</text>
</a>
</g>
</g>
<!-- role_51b0b4c4&#45;&gt;task_fc9bc2c6 -->
<g id="edge_3272a0dc" class="edge">
<title>role_51b0b4c4-&gt;task_fc9bc2c6</title>
<g id="a_edge_3272a0dc"><a xlink:title="11 [when: node_exporter_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1584.6,-9017.7C1594.75,-8967.48 1630.76,-8826.93 1724.24,-8770.9 1768.68,-8744.26 2413.46,-8753 2781.75,-8760.26" id="path_edge_3272a0dc"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2781.69,-8763.76 2791.75,-8760.46 2781.82,-8756.76 2781.69,-8763.76"/>
</a>
</g>
<g id="a_edge_3272a0dc-label"><a xlink:title="11 [when: node_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_3272a0dc" text-anchor="middle" startOffset="50%">11 [when: node_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_fc9bc2c6"/></links></g>
<!-- task_26069043 -->
<g id="task_26069043" class="node">
<title>task_26069043</title>
<g id="a_task_26069043"><a xlink:title="promtail : Install promtail via yum">
<polygon fill="none" stroke="#3e8e7f" points="3181.68,-8704.44 3181.68,-8719.35 3096.31,-8729.9 2975.57,-8729.9 2890.19,-8719.35 2890.19,-8704.44 2975.57,-8693.9 3096.31,-8693.9 3181.68,-8704.44"/>
<text text-anchor="middle" x="3035.94" y="-8708.2" font-family="Times,serif" font-size="14.00">promtail : Install promtail via yum</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_26069043 -->
<g id="edge_80b2dbc4" class="edge">
<title>role_252ba2da-&gt;task_26069043</title>
<g id="a_edge_80b2dbc4"><a xlink:title="1 [when: promtail_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1590.71,-8540.91C1610.13,-8575.97 1658.45,-8652.57 1724.24,-8682.9 1826.61,-8730.09 2555.4,-8721.61 2879.83,-8715.36" id="path_edge_80b2dbc4"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2880.32,-8718.85 2890.25,-8715.16 2880.19,-8711.85 2880.32,-8718.85"/>
</a>
</g>
<g id="a_edge_80b2dbc4-label"><a xlink:title="1 [when: promtail_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_80b2dbc4" text-anchor="middle" startOffset="50%">1 [when: promtail_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_26069043"/></links></g>
<!-- task_44150634 -->
<g id="task_44150634" class="node">
<title>task_44150634</title>
<g id="a_task_44150634"><a xlink:title="promtail : Cleanup promtail positions">
<polygon fill="none" stroke="#3e8e7f" points="3192.29,-8650.44 3192.29,-8665.35 3100.7,-8675.9 2971.17,-8675.9 2879.59,-8665.35 2879.59,-8650.44 2971.17,-8639.9 3100.7,-8639.9 3192.29,-8650.44"/>
<text text-anchor="middle" x="3035.94" y="-8654.2" font-family="Times,serif" font-size="14.00">promtail : Cleanup promtail positions</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_44150634 -->
<g id="edge_8bb19a06" class="edge">
<title>role_252ba2da-&gt;task_44150634</title>
<g id="a_edge_8bb19a06"><a xlink:title="2 [when: promtail_enabled|bool and promtail_clean|bool]">
<path fill="none" stroke="#3e8e7f" d="M1596.29,-8540.32C1620.2,-8566.66 1669.88,-8615.6 1724.24,-8634.9 1829.28,-8672.19 2541.14,-8665.87 2869.55,-8660.86" id="path_edge_8bb19a06"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2869.68,-8664.35 2879.63,-8660.7 2869.57,-8657.35 2869.68,-8664.35"/>
</a>
</g>
<g id="a_edge_8bb19a06-label"><a xlink:title="2 [when: promtail_enabled|bool and promtail_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_8bb19a06" text-anchor="middle" startOffset="50%">2 [when: promtail_enabled|bool and promtail_clean|bool]</textPath></text>
</a>
</g>
<links><link target="task_44150634"/></links></g>
<!-- task_1eec9ef1 -->
<g id="task_1eec9ef1" class="node">
<title>task_1eec9ef1</title>
<g id="a_task_1eec9ef1"><a xlink:title="promtail : Copy promtail systemd service">
<polygon fill="none" stroke="#3e8e7f" points="3208.15,-8596.44 3208.15,-8611.35 3107.27,-8621.9 2964.6,-8621.9 2863.72,-8611.35 2863.72,-8596.44 2964.6,-8585.9 3107.27,-8585.9 3208.15,-8596.44"/>
<text text-anchor="middle" x="3035.94" y="-8600.2" font-family="Times,serif" font-size="14.00">promtail : Copy promtail systemd service</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_1eec9ef1 -->
<g id="edge_c3d2e34b" class="edge">
<title>role_252ba2da-&gt;task_1eec9ef1</title>
<g id="a_edge_c3d2e34b"><a xlink:title="3 [when: promtail_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1620.8,-8536.73C1649.18,-8545.98 1688.59,-8557.43 1724.24,-8562.9 2124.8,-8624.29 2601.99,-8620.13 2855.6,-8611.9" id="path_edge_c3d2e34b"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2855.76,-8615.39 2865.64,-8611.57 2855.53,-8608.4 2855.76,-8615.39"/>
</a>
</g>
<g id="a_edge_c3d2e34b-label"><a xlink:title="3 [when: promtail_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_c3d2e34b" text-anchor="middle" startOffset="50%">3 [when: promtail_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_1eec9ef1"/></links></g>
<!-- task_977144a6 -->
<g id="task_977144a6" class="node">
<title>task_977144a6</title>
<g id="a_task_977144a6"><a xlink:title="promtail : Fetch hostname from server if no node name is given">
<polygon fill="none" stroke="#3e8e7f" points="3294.71,-8542.44 3294.71,-8557.35 3143.12,-8567.9 2928.75,-8567.9 2777.17,-8557.35 2777.17,-8542.44 2928.75,-8531.9 3143.12,-8531.9 3294.71,-8542.44"/>
<text text-anchor="middle" x="3035.94" y="-8546.2" font-family="Times,serif" font-size="14.00">promtail : Fetch hostname from server if no node name is given</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_977144a6 -->
<g id="edge_dc22474f" class="edge">
<title>role_252ba2da-&gt;task_977144a6</title>
<g id="a_edge_dc22474f"><a xlink:title="4 [when: promtail_enabled|bool and nodename is not defined or nodename == '']">
<path fill="none" stroke="#3e8e7f" d="M1643.31,-8524.05C1833.81,-8527.59 2418.74,-8538.45 2766.67,-8544.92" id="path_edge_dc22474f"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2766.83,-8548.42 2776.89,-8545.11 2766.96,-8541.42 2766.83,-8548.42"/>
</a>
</g>
<g id="a_edge_dc22474f-label"><a xlink:title="4 [when: promtail_enabled|bool and nodename is not defined or nodename == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_dc22474f" text-anchor="middle" startOffset="50%">4 [when: promtail_enabled|bool and nodename is not defined or nodename == '']</textPath></text>
</a>
</g>
<links><link target="task_977144a6"/></links></g>
<!-- task_915f47dd -->
<g id="task_915f47dd" class="node">
<title>task_915f47dd</title>
<g id="a_task_915f47dd"><a xlink:title="promtail : Setup nodename according to hostname">
<polygon fill="none" stroke="#3e8e7f" points="3242.18,-8488.44 3242.18,-8503.35 3121.37,-8513.9 2950.51,-8513.9 2829.69,-8503.35 2829.69,-8488.44 2950.51,-8477.9 3121.37,-8477.9 3242.18,-8488.44"/>
<text text-anchor="middle" x="3035.94" y="-8492.2" font-family="Times,serif" font-size="14.00">promtail : Setup nodename according to hostname</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_915f47dd -->
<g id="edge_3e35fd8e" class="edge">
<title>role_252ba2da-&gt;task_915f47dd</title>
<g id="a_edge_3e35fd8e"><a xlink:title="5 [when: promtail_enabled|bool and nodename is not defined or nodename == '']">
<path fill="none" stroke="#3e8e7f" d="M1636.84,-8514.84C1663.26,-8511.39 1695.31,-8507.72 1724.24,-8505.9 2109.43,-8481.6 2559.55,-8485.11 2819.48,-8490.24" id="path_edge_3e35fd8e"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2819.73,-8493.75 2829.8,-8490.45 2819.87,-8486.75 2819.73,-8493.75"/>
</a>
</g>
<g id="a_edge_3e35fd8e-label"><a xlink:title="5 [when: promtail_enabled|bool and nodename is not defined or nodename == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_3e35fd8e" text-anchor="middle" startOffset="50%">5 [when: promtail_enabled|bool and nodename is not defined or nodename == '']</textPath></text>
</a>
</g>
<links><link target="task_915f47dd"/></links></g>
<!-- task_c6915a23 -->
<g id="task_c6915a23" class="node">
<title>task_c6915a23</title>
<g id="a_task_c6915a23"><a xlink:title="promtail : Render promtail main config">
<polygon fill="none" stroke="#3e8e7f" points="3199.76,-8434.44 3199.76,-8449.35 3103.8,-8459.9 2968.08,-8459.9 2872.11,-8449.35 2872.11,-8434.44 2968.08,-8423.9 3103.8,-8423.9 3199.76,-8434.44"/>
<text text-anchor="middle" x="3035.94" y="-8438.2" font-family="Times,serif" font-size="14.00">promtail : Render promtail main config</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_c6915a23 -->
<g id="edge_39ab1c69" class="edge">
<title>role_252ba2da-&gt;task_c6915a23</title>
<g id="a_edge_39ab1c69"><a xlink:title="6 [when: promtail_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1611.86,-8507.26C1640.16,-8493.66 1683.86,-8474.93 1724.24,-8466.9 2147.86,-8382.68 2663.69,-8409.59 2902.22,-8429.14" id="path_edge_39ab1c69"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2902.07,-8432.64 2912.33,-8429.98 2902.65,-8425.67 2902.07,-8432.64"/>
</a>
</g>
<g id="a_edge_39ab1c69-label"><a xlink:title="6 [when: promtail_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_39ab1c69" text-anchor="middle" startOffset="50%">6 [when: promtail_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_c6915a23"/></links></g>
<!-- task_2b3be572 -->
<g id="task_2b3be572" class="node">
<title>task_2b3be572</title>
<g id="a_task_2b3be572"><a xlink:title="promtail : Render promtail default config">
<polygon fill="none" stroke="#3e8e7f" points="3206.43,-8380.44 3206.43,-8395.35 3106.56,-8405.9 2965.32,-8405.9 2865.45,-8395.35 2865.45,-8380.44 2965.32,-8369.9 3106.56,-8369.9 3206.43,-8380.44"/>
<text text-anchor="middle" x="3035.94" y="-8384.2" font-family="Times,serif" font-size="14.00">promtail : Render promtail default config</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_2b3be572 -->
<g id="edge_b3b3f71b" class="edge">
<title>role_252ba2da-&gt;task_2b3be572</title>
<g id="a_edge_b3b3f71b"><a xlink:title="7 [when: promtail_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1593.32,-8505.16C1615.14,-8474.69 1664.64,-8413.39 1724.24,-8389.9 1826.49,-8349.6 2520.82,-8368.98 2855.4,-8380.92" id="path_edge_b3b3f71b"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2855.56,-8384.43 2865.68,-8381.29 2855.81,-8377.43 2855.56,-8384.43"/>
</a>
</g>
<g id="a_edge_b3b3f71b-label"><a xlink:title="7 [when: promtail_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_b3b3f71b" text-anchor="middle" startOffset="50%">7 [when: promtail_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_2b3be572"/></links></g>
<!-- task_5b10ce2b -->
<g id="task_5b10ce2b" class="node">
<title>task_5b10ce2b</title>
<g id="a_task_5b10ce2b"><a xlink:title="promtail : Launch promtail">
<polygon fill="none" stroke="#3e8e7f" points="3152.09,-8326.44 3152.09,-8341.35 3084.05,-8351.9 2987.82,-8351.9 2919.78,-8341.35 2919.78,-8326.44 2987.82,-8315.9 3084.05,-8315.9 3152.09,-8326.44"/>
<text text-anchor="middle" x="3035.94" y="-8330.2" font-family="Times,serif" font-size="14.00">promtail : Launch promtail</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_5b10ce2b -->
<g id="edge_5361697d" class="edge">
<title>role_252ba2da-&gt;task_5b10ce2b</title>
<g id="a_edge_5361697d"><a xlink:title="8 [when: promtail_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1589.16,-8505C1606.84,-8467.21 1653.84,-8379.94 1724.24,-8345.9 1828.95,-8295.28 2602.23,-8317.85 2909.54,-8329" id="path_edge_5361697d"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2909.71,-8332.51 2919.83,-8329.38 2909.96,-8325.51 2909.71,-8332.51"/>
</a>
</g>
<g id="a_edge_5361697d-label"><a xlink:title="8 [when: promtail_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_5361697d" text-anchor="middle" startOffset="50%">8 [when: promtail_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_5b10ce2b"/></links></g>
<!-- task_5c46c04e -->
<g id="task_5c46c04e" class="node">
<title>task_5c46c04e</title>
<g id="a_task_5c46c04e"><a xlink:title="promtail : Wait for promtail online">
<polygon fill="none" stroke="#3e8e7f" points="3182.09,-8272.44 3182.09,-8287.35 3096.47,-8297.9 2975.4,-8297.9 2889.78,-8287.35 2889.78,-8272.44 2975.4,-8261.9 3096.47,-8261.9 3182.09,-8272.44"/>
<text text-anchor="middle" x="3035.94" y="-8276.2" font-family="Times,serif" font-size="14.00">promtail : Wait for promtail online</text>
</a>
</g>
</g>
<!-- role_252ba2da&#45;&gt;task_5c46c04e -->
<g id="edge_c5ddd4d6" class="edge">
<title>role_252ba2da-&gt;task_5c46c04e</title>
<g id="a_edge_c5ddd4d6"><a xlink:title="9 [when: promtail_enabled|bool]">
<path fill="none" stroke="#3e8e7f" d="M1586.13,-8504.94C1599.31,-8459.77 1640.71,-8341.75 1724.24,-8294.9 1822.54,-8239.77 2553.55,-8260.98 2879.2,-8273.39" id="path_edge_c5ddd4d6"/>
<polygon fill="#3e8e7f" stroke="#3e8e7f" points="2879.54,-8276.91 2889.67,-8273.79 2879.81,-8269.91 2879.54,-8276.91"/>
</a>
</g>
<g id="a_edge_c5ddd4d6-label"><a xlink:title="9 [when: promtail_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#3e8e7f" dy="-1%"><textPath xlink:href="#path_edge_c5ddd4d6" text-anchor="middle" startOffset="50%">9 [when: promtail_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_5c46c04e"/></links></g>
<!-- role_d68e7a20 -->
<g id="role_d68e7a20" class="node">
<title>role_d68e7a20</title>
<g id="a_role_d68e7a20"><a xlink:title="postgres">
<ellipse fill="none" stroke="#cb014d" cx="1580.32" cy="-5309.9" rx="61.99" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-5306.2" font-family="Times,serif" font-size="14.00">[role] postgres</text>
</a>
</g>
<links><link target="edge_891c903b"/><link target="edge_d9953bda"/><link target="edge_a0ff0e65"/><link target="edge_2e5217c5"/><link target="edge_2e5440dd"/><link target="edge_c647068c"/><link target="edge_67ef0c77"/><link target="edge_27813161"/><link target="edge_c69039a4"/><link target="edge_741fcf99"/><link target="edge_89517222"/><link target="edge_59757cb8"/><link target="edge_0c3cff90"/><link target="edge_9ab64751"/><link target="edge_d3c42290"/><link target="edge_88d2b921"/><link target="edge_af565daf"/><link target="edge_662d742f"/><link target="edge_ddc0ce65"/><link target="edge_e2c35fa2"/><link target="edge_c9085f57"/><link target="edge_5f0da2b2"/><link target="edge_fbc6da34"/><link target="edge_ba2aebdf"/><link target="edge_2a489643"/><link target="edge_717bd5ff"/><link target="edge_0f76182b"/><link target="edge_20011c1e"/><link target="edge_b94b1568"/><link target="edge_41e2ff1a"/><link target="edge_87938320"/><link target="edge_96cd7350"/><link target="edge_89761c6f"/><link target="edge_40319889"/><link target="edge_3b5290a4"/><link target="edge_6d557058"/><link target="edge_b12e2439"/><link target="edge_b6b15784"/><link target="edge_dbae939d"/><link target="edge_e8048087"/><link target="edge_e105c168"/><link target="edge_ec858dc2"/><link target="edge_a8029bb4"/><link target="edge_89b6729f"/><link target="edge_b1a87c1f"/><link target="edge_6d427fd5"/><link target="edge_b0fdf3be"/><link target="edge_4677c4b1"/><link target="edge_57a5ae49"/><link target="edge_32cf009d"/><link target="edge_f629c523"/><link target="edge_f46afa96"/><link target="edge_5772c737"/><link target="edge_056c6315"/><link target="edge_4f478d5d"/><link target="edge_823ed9aa"/><link target="edge_6be7e241"/><link target="edge_9a64de05"/><link target="edge_c5163680"/><link target="edge_e5e64154"/><link target="edge_e21dd8e8"/><link target="edge_b28b778c"/><link target="edge_55e863e7"/><link target="edge_722a628e"/><link target="edge_45e3494f"/><link target="edge_428f085e"/><link target="edge_0902d93b"/><link target="edge_3d888f83"/><link target="edge_d82ae024"/><link target="edge_6e25148f"/><link target="edge_9942c56d"/><link target="edge_5a3caabc"/><link target="edge_9ea4cbcb"/><link target="edge_3e0fde8d"/><link target="edge_0ae50fa9"/><link target="edge_e8396cb8"/><link target="edge_05e0cb1b"/><link target="edge_48ccded0"/><link target="edge_566bed10"/><link target="edge_38d3714d"/><link target="edge_93c78914"/><link target="edge_13aa3c23"/><link target="edge_36c7aef9"/><link target="edge_e4dbc38b"/><link target="edge_55c7a9d2"/><link target="edge_01f84e87"/><link target="edge_d62c941e"/><link target="edge_12eee7d4"/><link target="edge_6a6eb36f"/><link target="edge_93a6916f"/><link target="edge_821252c3"/><link target="edge_f4e5c776"/><link target="edge_6b1319b9"/><link target="edge_7b5b60eb"/><link target="edge_3e9281be"/><link target="edge_f6615577"/><link target="edge_e75eefd1"/><link target="edge_cd19b45b"/><link target="edge_22f1164e"/><link target="edge_40397b8b"/><link target="edge_e02f2ac1"/><link target="edge_9656f8b8"/><link target="edge_4fa8c607"/><link target="edge_5f9ba143"/><link target="edge_69889c84"/><link target="edge_97b589c6"/><link target="edge_7f88439b"/><link target="edge_1fa380f5"/></links></g>
<!-- play_331ffd80&#45;&gt;role_d68e7a20 -->
<g id="edge_3dacd7f1" class="edge">
<title>play_331ffd80-&gt;role_d68e7a20</title>
<g id="a_edge_3dacd7f1"><a xlink:title="1 ">
<path fill="none" stroke="#cb014d" d="M273.12,-2034.02C371.7,-2281.27 1447.86,-4980.22 1568.37,-5282.43" id="path_edge_3dacd7f1"/>
<polygon fill="#cb014d" stroke="#cb014d" points="1565.14,-5283.8 1572.1,-5291.79 1571.65,-5281.21 1565.14,-5283.8"/>
</a>
</g>
<g id="a_edge_3dacd7f1-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3dacd7f1" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_d68e7a20"/></links></g>
<!-- role_83ca7fe3 -->
<g id="role_83ca7fe3" class="node">
<title>role_83ca7fe3</title>
<g id="a_role_83ca7fe3"><a xlink:title="service">
<ellipse fill="none" stroke="#cb014d" cx="1580.32" cy="-2015.9" rx="57.69" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-2012.2" font-family="Times,serif" font-size="14.00">[role] service</text>
</a>
</g>
<links><link target="edge_6143233d"/><link target="edge_6f006e65"/><link target="edge_9354453e"/><link target="edge_73db9f06"/><link target="edge_0a9c8382"/><link target="edge_53b2a26c"/><link target="edge_3686b389"/><link target="edge_ecd9e5cb"/><link target="edge_9d2998b2"/><link target="edge_6bcd3489"/><link target="edge_02129c4d"/><link target="edge_3ff70590"/><link target="edge_bafb9014"/><link target="edge_effd5812"/><link target="edge_e64c26f8"/></links></g>
<!-- play_331ffd80&#45;&gt;role_83ca7fe3 -->
<g id="edge_789f021e" class="edge">
<title>play_331ffd80-&gt;role_83ca7fe3</title>
<g id="a_edge_789f021e"><a xlink:title="2 ">
<path fill="none" stroke="#cb014d" d="M347.06,-2015.9C587.24,-2015.9 1291.39,-2015.9 1512.25,-2015.9" id="path_edge_789f021e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="1512.4,-2019.4 1522.4,-2015.9 1512.4,-2012.4 1512.4,-2019.4"/>
</a>
</g>
<g id="a_edge_789f021e-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_789f021e" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="role_83ca7fe3"/></links></g>
<!-- role_89f85c62 -->
<g id="role_89f85c62" class="node">
<title>role_89f85c62</title>
<g id="a_role_89f85c62"><a xlink:title="pg_exporter">
<ellipse fill="none" stroke="#cb014d" cx="1580.32" cy="-1232.9" rx="75.29" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-1229.2" font-family="Times,serif" font-size="14.00">[role] pg_exporter</text>
</a>
</g>
<links><link target="edge_83356e50"/><link target="edge_18002af7"/><link target="edge_e01f5896"/><link target="edge_6b8474d6"/><link target="edge_ebb2206d"/><link target="edge_557aba6f"/><link target="edge_a99c7b31"/><link target="edge_bf042474"/><link target="edge_4fa6b74b"/><link target="edge_51429f43"/><link target="edge_c9e7332f"/><link target="edge_3978768c"/><link target="edge_2cb2a814"/><link target="edge_b51fb702"/><link target="edge_a25a773f"/></links></g>
<!-- play_331ffd80&#45;&gt;role_89f85c62 -->
<g id="edge_b574e782" class="edge">
<title>play_331ffd80-&gt;role_89f85c62</title>
<g id="a_edge_b574e782"><a xlink:title="3 ">
<path fill="none" stroke="#cb014d" d="M296.11,-1997.89C470.81,-1893.74 1350.44,-1369.34 1542.32,-1254.96" id="path_edge_b574e782"/>
<polygon fill="#cb014d" stroke="#cb014d" points="1544.39,-1257.8 1551.19,-1249.67 1540.81,-1251.78 1544.39,-1257.8"/>
</a>
</g>
<g id="a_edge_b574e782-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b574e782" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="role_89f85c62"/></links></g>
<!-- role_cb3cadfd -->
<g id="role_cb3cadfd" class="node">
<title>role_cb3cadfd</title>
<g id="a_role_cb3cadfd"><a xlink:title="pg_register">
<ellipse fill="none" stroke="#cb014d" cx="1580.32" cy="-449.9" rx="72.29" ry="18"/>
<text text-anchor="middle" x="1580.32" y="-446.2" font-family="Times,serif" font-size="14.00">[role] pg_register</text>
</a>
</g>
<links><link target="edge_5cbb6c2a"/><link target="edge_1d4b1f40"/><link target="edge_87046bf8"/><link target="edge_3a7bde15"/><link target="edge_9752985c"/><link target="edge_77e031c3"/><link target="edge_b40538f5"/><link target="edge_4275788d"/><link target="edge_7c549f74"/><link target="edge_f8a9b97a"/><link target="edge_01186432"/><link target="edge_15cac040"/><link target="edge_e3c979cb"/><link target="edge_b9e51206"/></links></g>
<!-- play_331ffd80&#45;&gt;role_cb3cadfd -->
<g id="edge_626b682e" class="edge">
<title>play_331ffd80-&gt;role_cb3cadfd</title>
<g id="a_edge_626b682e"><a xlink:title="4 ">
<path fill="none" stroke="#cb014d" d="M267.9,-1997.73C278.99,-1899.43 335.23,-1431.27 412.39,-1310.9 710.39,-845.98 1354.38,-545.68 1532.71,-469.21" id="path_edge_626b682e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="1534.25,-472.36 1542.08,-465.22 1531.51,-465.92 1534.25,-472.36"/>
</a>
</g>
<g id="a_edge_626b682e-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_626b682e" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="role_cb3cadfd"/></links></g>
<!-- task_8fc3a43d -->
<g id="task_8fc3a43d" class="node">
<title>task_8fc3a43d</title>
<g id="a_task_8fc3a43d"><a xlink:title="postgres : Create os group postgres">
<polygon fill="none" stroke="#cb014d" points="3182.09,-8218.44 3182.09,-8233.35 3096.47,-8243.9 2975.4,-8243.9 2889.78,-8233.35 2889.78,-8218.44 2975.4,-8207.9 3096.47,-8207.9 3182.09,-8218.44"/>
<text text-anchor="middle" x="3035.94" y="-8222.2" font-family="Times,serif" font-size="14.00">postgres : Create os group postgres</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_8fc3a43d -->
<g id="edge_891c903b" class="edge">
<title>role_d68e7a20-&gt;task_8fc3a43d</title>
<g id="a_edge_891c903b"><a xlink:title="1 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.51,-5327.98C1584.17,-5566.51 1614.83,-8087.2 1724.24,-8193.9 1764.97,-8233.61 2541.4,-8230.81 2879.64,-8227.68" id="path_edge_891c903b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2879.8,-8231.18 2889.77,-8227.59 2879.73,-8224.18 2879.8,-8231.18"/>
</a>
</g>
<g id="a_edge_891c903b-label"><a xlink:title="1 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_891c903b" text-anchor="middle" startOffset="50%">1 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_8fc3a43d"/></links></g>
<!-- task_011d5364 -->
<g id="task_011d5364" class="node">
<title>task_011d5364</title>
<g id="a_task_011d5364"><a xlink:title="postgres : Make sure dcs group exists">
<polygon fill="none" stroke="#cb014d" points="3192.29,-8164.44 3192.29,-8179.35 3100.7,-8189.9 2971.17,-8189.9 2879.59,-8179.35 2879.59,-8164.44 2971.17,-8153.9 3100.7,-8153.9 3192.29,-8164.44"/>
<text text-anchor="middle" x="3035.94" y="-8168.2" font-family="Times,serif" font-size="14.00">postgres : Make sure dcs group exists</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_011d5364 -->
<g id="edge_d9953bda" class="edge">
<title>role_d68e7a20-&gt;task_011d5364</title>
<g id="a_edge_d9953bda"><a xlink:title="2 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.53,-5328C1584.39,-5564.25 1616.88,-8035.3 1724.24,-8139.9 1764.59,-8179.21 2526.48,-8176.86 2869.72,-8173.77" id="path_edge_d9953bda"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2869.79,-8177.27 2879.75,-8173.68 2869.72,-8170.27 2869.79,-8177.27"/>
</a>
</g>
<g id="a_edge_d9953bda-label"><a xlink:title="2 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_d9953bda" text-anchor="middle" startOffset="50%">2 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_011d5364"/></links></g>
<!-- task_e393bedc -->
<g id="task_e393bedc" class="node">
<title>task_e393bedc</title>
<g id="a_task_e393bedc"><a xlink:title="postgres : Create dbsu postgres">
<polygon fill="none" stroke="#cb014d" points="3166.64,-8110.44 3166.64,-8125.35 3090.07,-8135.9 2981.8,-8135.9 2905.24,-8125.35 2905.24,-8110.44 2981.8,-8099.9 3090.07,-8099.9 3166.64,-8110.44"/>
<text text-anchor="middle" x="3035.94" y="-8114.2" font-family="Times,serif" font-size="14.00">postgres : Create dbsu postgres</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e393bedc -->
<g id="edge_a0ff0e65" class="edge">
<title>role_d68e7a20-&gt;task_e393bedc</title>
<g id="a_edge_a0ff0e65"><a xlink:title="3 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.55,-5328.01C1584.62,-5561.88 1618.93,-7983.4 1724.24,-8085.9 1765.64,-8126.19 2565.71,-8122.7 2895.09,-8119.53" id="path_edge_a0ff0e65"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2895.21,-8123.03 2905.17,-8119.43 2895.14,-8116.03 2895.21,-8123.03"/>
</a>
</g>
<g id="a_edge_a0ff0e65-label"><a xlink:title="3 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_a0ff0e65" text-anchor="middle" startOffset="50%">3 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_e393bedc"/></links></g>
<!-- task_c19aa67d -->
<g id="task_c19aa67d" class="node">
<title>task_c19aa67d</title>
<g id="a_task_c19aa67d"><a xlink:title="postgres : Grant dbsu nopass sudo">
<polygon fill="none" stroke="#cb014d" points="3178.55,-8056.44 3178.55,-8071.35 3095.01,-8081.9 2976.86,-8081.9 2893.32,-8071.35 2893.32,-8056.44 2976.86,-8045.9 3095.01,-8045.9 3178.55,-8056.44"/>
<text text-anchor="middle" x="3035.94" y="-8060.2" font-family="Times,serif" font-size="14.00">postgres : Grant dbsu nopass sudo</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c19aa67d -->
<g id="edge_2e5217c5" class="edge">
<title>role_d68e7a20-&gt;task_c19aa67d</title>
<g id="a_edge_2e5217c5"><a xlink:title="4 [when: not no_cmdb|bool and pg_dbsu_sudo == 'nopass']">
<path fill="none" stroke="#cb014d" d="M1581.57,-5328.02C1584.85,-5559.42 1620.97,-7931.49 1724.24,-8031.9 1765.15,-8071.68 2546.33,-8068.77 2882.84,-8065.64" id="path_edge_2e5217c5"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2883.19,-8069.14 2893.16,-8065.55 2883.12,-8062.14 2883.19,-8069.14"/>
</a>
</g>
<g id="a_edge_2e5217c5-label"><a xlink:title="4 [when: not no_cmdb|bool and pg_dbsu_sudo == 'nopass']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_2e5217c5" text-anchor="middle" startOffset="50%">4 [when: not no_cmdb|bool and pg_dbsu_sudo == 'nopass']</textPath></text>
</a>
</g>
<links><link target="task_c19aa67d"/></links></g>
<!-- task_e4b8d1f8 -->
<g id="task_e4b8d1f8" class="node">
<title>task_e4b8d1f8</title>
<g id="a_task_e4b8d1f8"><a xlink:title="postgres : Grant dbsu all sudo">
<polygon fill="none" stroke="#cb014d" points="3161.79,-8002.44 3161.79,-8017.35 3088.06,-8027.9 2983.81,-8027.9 2910.09,-8017.35 2910.09,-8002.44 2983.81,-7991.9 3088.06,-7991.9 3161.79,-8002.44"/>
<text text-anchor="middle" x="3035.94" y="-8006.2" font-family="Times,serif" font-size="14.00">postgres : Grant dbsu all sudo</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e4b8d1f8 -->
<g id="edge_2e5440dd" class="edge">
<title>role_d68e7a20-&gt;task_e4b8d1f8</title>
<g id="a_edge_2e5440dd"><a xlink:title="5 [when: not no_cmdb|bool and pg_dbsu_sudo == 'all']">
<path fill="none" stroke="#cb014d" d="M1581.59,-5328.01C1585.08,-5556.86 1623.02,-7879.58 1724.24,-7977.9 1765.86,-8018.32 2572.75,-8014.65 2899.39,-8011.48" id="path_edge_2e5440dd"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2899.9,-8014.98 2909.86,-8011.38 2899.83,-8007.98 2899.9,-8014.98"/>
</a>
</g>
<g id="a_edge_2e5440dd-label"><a xlink:title="5 [when: not no_cmdb|bool and pg_dbsu_sudo == 'all']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_2e5440dd" text-anchor="middle" startOffset="50%">5 [when: not no_cmdb|bool and pg_dbsu_sudo == 'all']</textPath></text>
</a>
</g>
<links><link target="task_e4b8d1f8"/></links></g>
<!-- task_529c02d0 -->
<g id="task_529c02d0" class="node">
<title>task_529c02d0</title>
<g id="a_task_529c02d0"><a xlink:title="postgres : Grant dbsu limited sudo">
<polygon fill="none" stroke="#cb014d" points="3180.37,-7948.44 3180.37,-7963.35 3095.76,-7973.9 2976.11,-7973.9 2891.5,-7963.35 2891.5,-7948.44 2976.11,-7937.9 3095.76,-7937.9 3180.37,-7948.44"/>
<text text-anchor="middle" x="3035.94" y="-7952.2" font-family="Times,serif" font-size="14.00">postgres : Grant dbsu limited sudo</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_529c02d0 -->
<g id="edge_c647068c" class="edge">
<title>role_d68e7a20-&gt;task_529c02d0</title>
<g id="a_edge_c647068c"><a xlink:title="6 [when: not no_cmdb|bool and pg_dbsu_sudo == 'limit']">
<path fill="none" stroke="#cb014d" d="M1581.61,-5327.98C1585.33,-5554.11 1625.13,-7826.67 1724.24,-7922.9 1765.12,-7962.59 2543.94,-7960.38 2881.28,-7957.53" id="path_edge_c647068c"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2881.66,-7961.03 2891.63,-7957.44 2881.6,-7954.03 2881.66,-7961.03"/>
</a>
</g>
<g id="a_edge_c647068c-label"><a xlink:title="6 [when: not no_cmdb|bool and pg_dbsu_sudo == 'limit']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_c647068c" text-anchor="middle" startOffset="50%">6 [when: not no_cmdb|bool and pg_dbsu_sudo == 'limit']</textPath></text>
</a>
</g>
<links><link target="task_529c02d0"/></links></g>
<!-- task_27a24f5c -->
<g id="task_27a24f5c" class="node">
<title>task_27a24f5c</title>
<g id="a_task_27a24f5c"><a xlink:title="postgres : Config watchdog onwer to dbsu">
<polygon fill="none" stroke="#cb014d" points="3209.46,-7894.44 3209.46,-7909.35 3107.81,-7919.9 2964.06,-7919.9 2862.41,-7909.35 2862.41,-7894.44 2964.06,-7883.9 3107.81,-7883.9 3209.46,-7894.44"/>
<text text-anchor="middle" x="3035.94" y="-7898.2" font-family="Times,serif" font-size="14.00">postgres : Config watchdog onwer to dbsu</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_27a24f5c -->
<g id="edge_67ef0c77" class="edge">
<title>role_d68e7a20-&gt;task_27a24f5c</title>
<g id="a_edge_67ef0c77"><a xlink:title="7 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.63,-5327.95C1585.57,-5551.36 1627.17,-7774.75 1724.24,-7868.9 1764.01,-7907.46 2501.37,-7906.46 2852.26,-7903.76" id="path_edge_67ef0c77"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2852.3,-7907.26 2862.27,-7903.68 2852.25,-7900.26 2852.3,-7907.26"/>
</a>
</g>
<g id="a_edge_67ef0c77-label"><a xlink:title="7 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_67ef0c77" text-anchor="middle" startOffset="50%">7 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_27a24f5c"/></links></g>
<!-- task_904a4b5e -->
<g id="task_904a4b5e" class="node">
<title>task_904a4b5e</title>
<g id="a_task_904a4b5e"><a xlink:title="postgres : Add dbsu ssh no host checking">
<polygon fill="none" stroke="#cb014d" points="3206.43,-7840.44 3206.43,-7855.35 3106.56,-7865.9 2965.32,-7865.9 2865.45,-7855.35 2865.45,-7840.44 2965.32,-7829.9 3106.56,-7829.9 3206.43,-7840.44"/>
<text text-anchor="middle" x="3035.94" y="-7844.2" font-family="Times,serif" font-size="14.00">postgres : Add dbsu ssh no host checking</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_904a4b5e -->
<g id="edge_27813161" class="edge">
<title>role_d68e7a20-&gt;task_904a4b5e</title>
<g id="a_edge_27813161"><a xlink:title="8 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.65,-5327.91C1585.81,-5548.5 1629.21,-7722.84 1724.24,-7814.9 1764.15,-7853.55 2505.71,-7852.44 2855.34,-7849.74" id="path_edge_27813161"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2855.6,-7853.23 2865.57,-7849.65 2855.54,-7846.23 2855.6,-7853.23"/>
</a>
</g>
<g id="a_edge_27813161-label"><a xlink:title="8 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_27813161" text-anchor="middle" startOffset="50%">8 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_904a4b5e"/></links></g>
<!-- task_5565f8d0 -->
<g id="task_5565f8d0" class="node">
<title>task_5565f8d0</title>
<g id="a_task_5565f8d0"><a xlink:title="postgres : Fetch dbsu public keys">
<polygon fill="none" stroke="#cb014d" points="3175.02,-7786.44 3175.02,-7801.35 3093.55,-7811.9 2978.33,-7811.9 2896.85,-7801.35 2896.85,-7786.44 2978.33,-7775.9 3093.55,-7775.9 3175.02,-7786.44"/>
<text text-anchor="middle" x="3035.94" y="-7790.2" font-family="Times,serif" font-size="14.00">postgres : Fetch dbsu public keys</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_5565f8d0 -->
<g id="edge_c69039a4" class="edge">
<title>role_d68e7a20-&gt;task_5565f8d0</title>
<g id="a_edge_c69039a4"><a xlink:title="9 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.68,-5328.19C1586.11,-5547.74 1631.29,-7670.97 1724.24,-7760.9 1765.4,-7800.72 2552.17,-7798.32 2886.57,-7795.48" id="path_edge_c69039a4"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2886.85,-7798.98 2896.82,-7795.39 2886.79,-7791.98 2886.85,-7798.98"/>
</a>
</g>
<g id="a_edge_c69039a4-label"><a xlink:title="9 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_c69039a4" text-anchor="middle" startOffset="50%">9 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_5565f8d0"/></links></g>
<!-- task_71da761f -->
<g id="task_71da761f" class="node">
<title>task_71da761f</title>
<g id="a_task_71da761f"><a xlink:title="postgres : Exchange dbsu ssh keys">
<polygon fill="none" stroke="#cb014d" points="3180.37,-7732.44 3180.37,-7747.35 3095.76,-7757.9 2976.11,-7757.9 2891.5,-7747.35 2891.5,-7732.44 2976.11,-7721.9 3095.76,-7721.9 3180.37,-7732.44"/>
<text text-anchor="middle" x="3035.94" y="-7736.2" font-family="Times,serif" font-size="14.00">postgres : Exchange dbsu ssh keys</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_71da761f -->
<g id="edge_741fcf99" class="edge">
<title>role_d68e7a20-&gt;task_71da761f</title>
<g id="a_edge_741fcf99"><a xlink:title="10 [when: not no_cmdb|bool and pg_dbsu_ssh_exchange]">
<path fill="none" stroke="#cb014d" d="M1581.7,-5328.12C1586.36,-5544.64 1633.32,-7619.05 1724.24,-7706.9 1765.22,-7746.49 2543.98,-7744.33 2881.3,-7741.52" id="path_edge_741fcf99"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2881.67,-7745.02 2891.64,-7741.43 2881.61,-7738.02 2881.67,-7745.02"/>
</a>
</g>
<g id="a_edge_741fcf99-label"><a xlink:title="10 [when: not no_cmdb|bool and pg_dbsu_ssh_exchange]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_741fcf99" text-anchor="middle" startOffset="50%">10 [when: not no_cmdb|bool and pg_dbsu_ssh_exchange]</textPath></text>
</a>
</g>
<links><link target="task_71da761f"/></links></g>
<!-- task_04139aae -->
<g id="task_04139aae" class="node">
<title>task_04139aae</title>
<g id="a_task_04139aae"><a xlink:title="postgres : Install offical pgdg yum repo">
<polygon fill="none" stroke="#cb014d" points="3199.36,-7678.44 3199.36,-7693.35 3103.63,-7703.9 2968.24,-7703.9 2872.52,-7693.35 2872.52,-7678.44 2968.24,-7667.9 3103.63,-7667.9 3199.36,-7678.44"/>
<text text-anchor="middle" x="3035.94" y="-7682.2" font-family="Times,serif" font-size="14.00">postgres : Install offical pgdg yum repo</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_04139aae -->
<g id="edge_89517222" class="edge">
<title>role_d68e7a20-&gt;task_04139aae</title>
<g id="a_edge_89517222"><a xlink:title="11 [when: not no_cmdb|bool and pgdg_repo]">
<path fill="none" stroke="#cb014d" d="M1581.73,-5328.04C1586.62,-5541.45 1635.34,-7567.12 1724.24,-7652.9 1764.49,-7691.73 2515.64,-7690.39 2862.28,-7687.67" id="path_edge_89517222"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2862.45,-7691.17 2872.42,-7687.59 2862.39,-7684.17 2862.45,-7691.17"/>
</a>
</g>
<g id="a_edge_89517222-label"><a xlink:title="11 [when: not no_cmdb|bool and pgdg_repo]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_89517222" text-anchor="middle" startOffset="50%">11 [when: not no_cmdb|bool and pgdg_repo]</textPath></text>
</a>
</g>
<links><link target="task_04139aae"/></links></g>
<!-- task_0e5e86e3 -->
<g id="task_0e5e86e3" class="node">
<title>task_0e5e86e3</title>
<g id="a_task_0e5e86e3"><a xlink:title="postgres : Install pg packages">
<polygon fill="none" stroke="#cb014d" points="3160.47,-7624.44 3160.47,-7639.35 3087.52,-7649.9 2984.35,-7649.9 2911.4,-7639.35 2911.4,-7624.44 2984.35,-7613.9 3087.52,-7613.9 3160.47,-7624.44"/>
<text text-anchor="middle" x="3035.94" y="-7628.2" font-family="Times,serif" font-size="14.00">postgres : Install pg packages</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_0e5e86e3 -->
<g id="edge_59757cb8" class="edge">
<title>role_d68e7a20-&gt;task_0e5e86e3</title>
<g id="a_edge_59757cb8"><a xlink:title="12 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.75,-5327.95C1586.88,-5538.16 1637.37,-7515.2 1724.24,-7598.9 1766.09,-7639.22 2575.27,-7636.21 2900.9,-7633.34" id="path_edge_59757cb8"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2901.36,-7636.84 2911.33,-7633.25 2901.3,-7629.84 2901.36,-7636.84"/>
</a>
</g>
<g id="a_edge_59757cb8-label"><a xlink:title="12 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_59757cb8" text-anchor="middle" startOffset="50%">12 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_0e5e86e3"/></links></g>
<!-- task_1d23e955 -->
<g id="task_1d23e955" class="node">
<title>task_1d23e955</title>
<g id="a_task_1d23e955"><a xlink:title="postgres : Install pg extensions">
<polygon fill="none" stroke="#cb014d" points="3166.23,-7570.44 3166.23,-7585.35 3089.9,-7595.9 2981.97,-7595.9 2905.64,-7585.35 2905.64,-7570.44 2981.97,-7559.9 3089.9,-7559.9 3166.23,-7570.44"/>
<text text-anchor="middle" x="3035.94" y="-7574.2" font-family="Times,serif" font-size="14.00">postgres : Install pg extensions</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_1d23e955 -->
<g id="edge_0c3cff90" class="edge">
<title>role_d68e7a20-&gt;task_1d23e955</title>
<g id="a_edge_0c3cff90"><a xlink:title="13 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.78,-5328.16C1587.2,-5536.76 1639.44,-7463.31 1724.24,-7544.9 1765.88,-7584.96 2566.3,-7582.23 2895.42,-7579.39" id="path_edge_0c3cff90"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2895.53,-7582.89 2905.5,-7579.3 2895.47,-7575.89 2895.53,-7582.89"/>
</a>
</g>
<g id="a_edge_0c3cff90-label"><a xlink:title="13 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_0c3cff90" text-anchor="middle" startOffset="50%">13 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_1d23e955"/></links></g>
<!-- task_de8ad9b5 -->
<g id="task_de8ad9b5" class="node">
<title>task_de8ad9b5</title>
<g id="a_task_de8ad9b5"><a xlink:title="postgres : Link /usr/pgsql to current version">
<polygon fill="none" stroke="#cb014d" points="3215.22,-7516.44 3215.22,-7531.35 3110.2,-7541.9 2961.68,-7541.9 2856.65,-7531.35 2856.65,-7516.44 2961.68,-7505.9 3110.2,-7505.9 3215.22,-7516.44"/>
<text text-anchor="middle" x="3035.94" y="-7520.2" font-family="Times,serif" font-size="14.00">postgres : Link /usr/pgsql to current version</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_de8ad9b5 -->
<g id="edge_9ab64751" class="edge">
<title>role_d68e7a20-&gt;task_de8ad9b5</title>
<g id="a_edge_9ab64751"><a xlink:title="14 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.81,-5328.04C1587.47,-5533.23 1641.46,-7411.38 1724.24,-7490.9 1763.98,-7529.07 2493.5,-7528.37 2846.57,-7525.77" id="path_edge_9ab64751"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2846.67,-7529.27 2856.65,-7525.7 2846.62,-7522.27 2846.67,-7529.27"/>
</a>
</g>
<g id="a_edge_9ab64751-label"><a xlink:title="14 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9ab64751" text-anchor="middle" startOffset="50%">14 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_de8ad9b5"/></links></g>
<!-- task_cfe6e302 -->
<g id="task_cfe6e302" class="node">
<title>task_cfe6e302</title>
<g id="a_task_cfe6e302"><a xlink:title="postgres : Add pg bin dir to profile path">
<polygon fill="none" stroke="#cb014d" points="3199.76,-7462.44 3199.76,-7477.35 3103.8,-7487.9 2968.08,-7487.9 2872.11,-7477.35 2872.11,-7462.44 2968.08,-7451.9 3103.8,-7451.9 3199.76,-7462.44"/>
<text text-anchor="middle" x="3035.94" y="-7466.2" font-family="Times,serif" font-size="14.00">postgres : Add pg bin dir to profile path</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_cfe6e302 -->
<g id="edge_d3c42290" class="edge">
<title>role_d68e7a20-&gt;task_cfe6e302</title>
<g id="a_edge_d3c42290"><a xlink:title="15 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.84,-5327.9C1587.74,-5529.59 1643.48,-7359.45 1724.24,-7436.9 1764.58,-7475.58 2514.75,-7474.33 2861.65,-7471.65" id="path_edge_d3c42290"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2861.82,-7475.15 2871.79,-7471.57 2861.77,-7468.15 2861.82,-7475.15"/>
</a>
</g>
<g id="a_edge_d3c42290-label"><a xlink:title="15 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_d3c42290" text-anchor="middle" startOffset="50%">15 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_cfe6e302"/></links></g>
<!-- task_78cdff76 -->
<g id="task_78cdff76" class="node">
<title>task_78cdff76</title>
<g id="a_task_78cdff76"><a xlink:title="postgres : Fix directory ownership">
<polygon fill="none" stroke="#cb014d" points="3178.55,-7408.44 3178.55,-7423.35 3095.01,-7433.9 2976.86,-7433.9 2893.32,-7423.35 2893.32,-7408.44 2976.86,-7397.9 3095.01,-7397.9 3178.55,-7408.44"/>
<text text-anchor="middle" x="3035.94" y="-7412.2" font-family="Times,serif" font-size="14.00">postgres : Fix directory ownership</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_78cdff76 -->
<g id="edge_88d2b921" class="edge">
<title>role_d68e7a20-&gt;task_78cdff76</title>
<g id="a_edge_88d2b921"><a xlink:title="16 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.87,-5328.06C1588.08,-5527.71 1645.53,-7307.55 1724.24,-7382.9 1765.46,-7422.36 2546.47,-7420.25 2882.88,-7417.48" id="path_edge_88d2b921"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2883.23,-7420.98 2893.2,-7417.39 2883.17,-7413.98 2883.23,-7420.98"/>
</a>
</g>
<g id="a_edge_88d2b921-label"><a xlink:title="16 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_88d2b921" text-anchor="middle" startOffset="50%">16 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_78cdff76"/></links></g>
<!-- task_12adbaba -->
<g id="task_12adbaba" class="node">
<title>task_12adbaba</title>
<g id="a_task_12adbaba"><a xlink:title="postgres : Remove default postgres service">
<polygon fill="none" stroke="#cb014d" points="3212.59,-7354.44 3212.59,-7369.35 3109.11,-7379.9 2962.76,-7379.9 2859.28,-7369.35 2859.28,-7354.44 2962.76,-7343.9 3109.11,-7343.9 3212.59,-7354.44"/>
<text text-anchor="middle" x="3035.94" y="-7358.2" font-family="Times,serif" font-size="14.00">postgres : Remove default postgres service</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_12adbaba -->
<g id="edge_af565daf" class="edge">
<title>role_d68e7a20-&gt;task_12adbaba</title>
<g id="a_edge_af565daf"><a xlink:title="17 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.16,-5328.07C1579.65,-5520.71 1571.09,-7182.56 1724.24,-7328.9 1764.18,-7367.06 2497.29,-7366.32 2849.29,-7363.73" id="path_edge_af565daf"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2849.36,-7367.23 2859.33,-7363.66 2849.31,-7360.23 2849.36,-7367.23"/>
</a>
</g>
<g id="a_edge_af565daf-label"><a xlink:title="17 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_af565daf" text-anchor="middle" startOffset="50%">17 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_12adbaba"/></links></g>
<!-- task_9493ff72 -->
<g id="task_9493ff72" class="node">
<title>task_9493ff72</title>
<g id="a_task_9493ff72"><a xlink:title="postgres : Check necessary variables exists">
<polygon fill="none" stroke="#cb014d" points="3212.59,-7300.44 3212.59,-7315.35 3109.11,-7325.9 2962.76,-7325.9 2859.28,-7315.35 2859.28,-7300.44 2962.76,-7289.9 3109.11,-7289.9 3212.59,-7300.44"/>
<text text-anchor="middle" x="3035.94" y="-7304.2" font-family="Times,serif" font-size="14.00">postgres : Check necessary variables exists</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_9493ff72 -->
<g id="edge_662d742f" class="edge">
<title>role_d68e7a20-&gt;task_9493ff72</title>
<g id="a_edge_662d742f"><a xlink:title="18 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<path fill="none" stroke="#cb014d" d="M1581.19,-5328.18C1580.09,-5518.43 1575.18,-7132.75 1724.24,-7274.9 1764.22,-7313.02 2497.31,-7312.3 2849.3,-7309.73" id="path_edge_662d742f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2849.37,-7313.23 2859.34,-7309.65 2849.31,-7306.23 2849.37,-7313.23"/>
</a>
</g>
<g id="a_edge_662d742f-label"><a xlink:title="18 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_662d742f" text-anchor="middle" startOffset="50%">18 [when: not no_cmdb|bool and not pg_preflight_skip|bool]</textPath></text>
</a>
</g>
<links><link target="task_9493ff72"/></links></g>
<!-- task_49dd9afa -->
<g id="task_49dd9afa" class="node">
<title>task_49dd9afa</title>
<g id="a_task_49dd9afa"><a xlink:title="postgres : Fetch variables via pg_cluster">
<polygon fill="none" stroke="#cb014d" points="3201.98,-7246.44 3201.98,-7261.35 3104.72,-7271.9 2967.16,-7271.9 2869.89,-7261.35 2869.89,-7246.44 2967.16,-7235.9 3104.72,-7235.9 3201.98,-7246.44"/>
<text text-anchor="middle" x="3035.94" y="-7250.2" font-family="Times,serif" font-size="14.00">postgres : Fetch variables via pg_cluster</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_49dd9afa -->
<g id="edge_ddc0ce65" class="edge">
<title>role_d68e7a20-&gt;task_49dd9afa</title>
<g id="a_edge_ddc0ce65"><a xlink:title="19 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<path fill="none" stroke="#cb014d" d="M1581.23,-5327.97C1580.56,-5514.35 1579.19,-7082.85 1724.24,-7220.9 1764.65,-7259.36 2511.99,-7258.26 2859.7,-7255.64" id="path_edge_ddc0ce65"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2859.9,-7259.14 2869.87,-7255.57 2859.84,-7252.14 2859.9,-7259.14"/>
</a>
</g>
<g id="a_edge_ddc0ce65-label"><a xlink:title="19 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_ddc0ce65" text-anchor="middle" startOffset="50%">19 [when: not no_cmdb|bool and not pg_preflight_skip|bool]</textPath></text>
</a>
</g>
<links><link target="task_49dd9afa"/></links></g>
<!-- task_dc273e2d -->
<g id="task_dc273e2d" class="node">
<title>task_dc273e2d</title>
<g id="a_task_dc273e2d"><a xlink:title="postgres : Set cluster basic facts for hosts">
<polygon fill="none" stroke="#cb014d" points="3206.43,-7192.44 3206.43,-7207.35 3106.56,-7217.9 2965.32,-7217.9 2865.45,-7207.35 2865.45,-7192.44 2965.32,-7181.9 3106.56,-7181.9 3206.43,-7192.44"/>
<text text-anchor="middle" x="3035.94" y="-7196.2" font-family="Times,serif" font-size="14.00">postgres : Set cluster basic facts for hosts</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_dc273e2d -->
<g id="edge_e2c35fa2" class="edge">
<title>role_d68e7a20-&gt;task_dc273e2d</title>
<g id="a_edge_e2c35fa2"><a xlink:title="20 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<path fill="none" stroke="#cb014d" d="M1581.28,-5328.02C1581.03,-5511.75 1583.27,-7033.02 1724.24,-7166.9 1764.53,-7205.16 2505.89,-7204.25 2855.41,-7201.67" id="path_edge_e2c35fa2"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2855.66,-7205.17 2865.63,-7201.59 2855.61,-7198.17 2855.66,-7205.17"/>
</a>
</g>
<g id="a_edge_e2c35fa2-label"><a xlink:title="20 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e2c35fa2" text-anchor="middle" startOffset="50%">20 [when: not no_cmdb|bool and not pg_preflight_skip|bool]</textPath></text>
</a>
</g>
<links><link target="task_dc273e2d"/></links></g>
<!-- task_9a0fe685 -->
<g id="task_9a0fe685" class="node">
<title>task_9a0fe685</title>
<g id="a_task_9a0fe685"><a xlink:title="postgres : Assert cluster primary singleton">
<polygon fill="none" stroke="#cb014d" points="3209.46,-7138.44 3209.46,-7153.35 3107.81,-7163.9 2964.06,-7163.9 2862.41,-7153.35 2862.41,-7138.44 2964.06,-7127.9 3107.81,-7127.9 3209.46,-7138.44"/>
<text text-anchor="middle" x="3035.94" y="-7142.2" font-family="Times,serif" font-size="14.00">postgres : Assert cluster primary singleton</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_9a0fe685 -->
<g id="edge_c9085f57" class="edge">
<title>role_d68e7a20-&gt;task_9a0fe685</title>
<g id="a_edge_c9085f57"><a xlink:title="21 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<path fill="none" stroke="#cb014d" d="M1581.32,-5328.06C1581.52,-5508.97 1587.34,-6983.18 1724.24,-7112.9 1764.45,-7151 2501.58,-7150.23 2852.34,-7147.68" id="path_edge_c9085f57"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2852.37,-7151.18 2862.35,-7147.61 2852.32,-7144.18 2852.37,-7151.18"/>
</a>
</g>
<g id="a_edge_c9085f57-label"><a xlink:title="21 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_c9085f57" text-anchor="middle" startOffset="50%">21 [when: not no_cmdb|bool and not pg_preflight_skip|bool]</textPath></text>
</a>
</g>
<links><link target="task_9a0fe685"/></links></g>
<!-- task_96c050f4 -->
<g id="task_96c050f4" class="node">
<title>task_96c050f4</title>
<g id="a_task_96c050f4"><a xlink:title="postgres : Setup cluster primary ip address">
<polygon fill="none" stroke="#cb014d" points="3211.28,-7084.44 3211.28,-7099.35 3108.56,-7109.9 2963.31,-7109.9 2860.6,-7099.35 2860.6,-7084.44 2963.31,-7073.9 3108.56,-7073.9 3211.28,-7084.44"/>
<text text-anchor="middle" x="3035.94" y="-7088.2" font-family="Times,serif" font-size="14.00">postgres : Setup cluster primary ip address</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_96c050f4 -->
<g id="edge_5f0da2b2" class="edge">
<title>role_d68e7a20-&gt;task_96c050f4</title>
<g id="a_edge_5f0da2b2"><a xlink:title="22 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<path fill="none" stroke="#cb014d" d="M1581.37,-5328.07C1582.02,-5506 1591.4,-6933.34 1724.24,-7058.9 1764.44,-7096.89 2499.26,-7096.21 2850.67,-7093.69" id="path_edge_5f0da2b2"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.72,-7097.19 2860.7,-7093.61 2850.67,-7090.19 2850.72,-7097.19"/>
</a>
</g>
<g id="a_edge_5f0da2b2-label"><a xlink:title="22 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_5f0da2b2" text-anchor="middle" startOffset="50%">22 [when: not no_cmdb|bool and not pg_preflight_skip|bool]</textPath></text>
</a>
</g>
<links><link target="task_96c050f4"/></links></g>
<!-- task_71ecbb7c -->
<g id="task_71ecbb7c" class="node">
<title>task_71ecbb7c</title>
<g id="a_task_71ecbb7c"><a xlink:title="postgres : Setup repl upstream for primary">
<polygon fill="none" stroke="#cb014d" points="3211.28,-7030.44 3211.28,-7045.35 3108.56,-7055.9 2963.31,-7055.9 2860.6,-7045.35 2860.6,-7030.44 2963.31,-7019.9 3108.56,-7019.9 3211.28,-7030.44"/>
<text text-anchor="middle" x="3035.94" y="-7034.2" font-family="Times,serif" font-size="14.00">postgres : Setup repl upstream for primary</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_71ecbb7c -->
<g id="edge_fbc6da34" class="edge">
<title>role_d68e7a20-&gt;task_71ecbb7c</title>
<g id="a_edge_fbc6da34"><a xlink:title="23 [when: not no_cmdb|bool and not pg_preflight_skip|bool and pg_role == 'primary' and pg_upstream is defined and pg_upstream != '']">
<path fill="none" stroke="#cb014d" d="M1581.42,-5328.05C1582.54,-5502.84 1595.45,-6883.48 1724.24,-7004.9 1764.49,-7042.84 2499.28,-7042.19 2850.68,-7039.68" id="path_edge_fbc6da34"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.73,-7043.18 2860.71,-7039.6 2850.68,-7036.18 2850.73,-7043.18"/>
</a>
</g>
<g id="a_edge_fbc6da34-label"><a xlink:title="23 [when: not no_cmdb|bool and not pg_preflight_skip|bool and pg_role == 'primary' and pg_upstream is defined and pg_upstream != '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_fbc6da34" text-anchor="middle" startOffset="50%">23 [when: not no_cmdb|bool and not pg_preflight_skip|bool and pg_role == 'primary' and pg_upstream is defined and pg_upstream != '']</textPath></text>
</a>
</g>
<links><link target="task_71ecbb7c"/></links></g>
<!-- task_3ac838be -->
<g id="task_3ac838be" class="node">
<title>task_3ac838be</title>
<g id="a_task_3ac838be"><a xlink:title="postgres : Setup repl upstream for replicas">
<polygon fill="none" stroke="#cb014d" points="3210.37,-6976.44 3210.37,-6991.35 3108.19,-7001.9 2963.68,-7001.9 2861.5,-6991.35 2861.5,-6976.44 2963.68,-6965.9 3108.19,-6965.9 3210.37,-6976.44"/>
<text text-anchor="middle" x="3035.94" y="-6980.2" font-family="Times,serif" font-size="14.00">postgres : Setup repl upstream for replicas</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_3ac838be -->
<g id="edge_ba2aebdf" class="edge">
<title>role_d68e7a20-&gt;task_3ac838be</title>
<g id="a_edge_ba2aebdf"><a xlink:title="24 [when: not no_cmdb|bool and not pg_preflight_skip|bool and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.47,-5328.01C1583.07,-5499.5 1599.49,-6833.62 1724.24,-6950.9 1764.56,-6988.81 2500.24,-6988.16 2851.36,-6985.66" id="path_edge_ba2aebdf"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2851.4,-6989.16 2861.38,-6985.59 2851.35,-6982.16 2851.4,-6989.16"/>
</a>
</g>
<g id="a_edge_ba2aebdf-label"><a xlink:title="24 [when: not no_cmdb|bool and not pg_preflight_skip|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_ba2aebdf" text-anchor="middle" startOffset="50%">24 [when: not no_cmdb|bool and not pg_preflight_skip|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_3ac838be"/></links></g>
<!-- task_c7caf604 -->
<g id="task_c7caf604" class="node">
<title>task_c7caf604</title>
<g id="a_task_c7caf604"><a xlink:title="postgres : Debug print instance summary">
<polygon fill="none" stroke="#cb014d" points="3206.43,-6922.44 3206.43,-6937.35 3106.56,-6947.9 2965.32,-6947.9 2865.45,-6937.35 2865.45,-6922.44 2965.32,-6911.9 3106.56,-6911.9 3206.43,-6922.44"/>
<text text-anchor="middle" x="3035.94" y="-6926.2" font-family="Times,serif" font-size="14.00">postgres : Debug print instance summary</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c7caf604 -->
<g id="edge_2a489643" class="edge">
<title>role_d68e7a20-&gt;task_c7caf604</title>
<g id="a_edge_2a489643"><a xlink:title="25 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<path fill="none" stroke="#cb014d" d="M1581.52,-5327.94C1583.61,-5495.97 1603.52,-6783.74 1724.24,-6896.9 1764.78,-6934.89 2506,-6934.13 2855.45,-6931.62" id="path_edge_2a489643"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2855.7,-6935.12 2865.67,-6931.55 2855.65,-6928.12 2855.7,-6935.12"/>
</a>
</g>
<g id="a_edge_2a489643-label"><a xlink:title="25 [when: not no_cmdb|bool and not pg_preflight_skip|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_2a489643" text-anchor="middle" startOffset="50%">25 [when: not no_cmdb|bool and not pg_preflight_skip|bool]</textPath></text>
</a>
</g>
<links><link target="task_c7caf604"/></links></g>
<!-- task_978fabe5 -->
<g id="task_978fabe5" class="node">
<title>task_978fabe5</title>
<g id="a_task_978fabe5"><a xlink:title="postgres : Check for existing postgres instance">
<polygon fill="none" stroke="#cb014d" points="3225.82,-6868.44 3225.82,-6883.35 3114.59,-6893.9 2957.28,-6893.9 2846.05,-6883.35 2846.05,-6868.44 2957.28,-6857.9 3114.59,-6857.9 3225.82,-6868.44"/>
<text text-anchor="middle" x="3035.94" y="-6872.2" font-family="Times,serif" font-size="14.00">postgres : Check for existing postgres instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_978fabe5 -->
<g id="edge_717bd5ff" class="edge">
<title>role_d68e7a20-&gt;task_978fabe5</title>
<g id="a_edge_717bd5ff"><a xlink:title="26 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.58,-5328.1C1584.2,-5493.56 1607.61,-6733.91 1724.24,-6842.9 1764.09,-6880.13 2478.91,-6880.11 2835.72,-6877.75" id="path_edge_717bd5ff"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2835.93,-6881.25 2845.91,-6877.68 2835.88,-6874.25 2835.93,-6881.25"/>
</a>
</g>
<g id="a_edge_717bd5ff-label"><a xlink:title="26 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_717bd5ff" text-anchor="middle" startOffset="50%">26 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_978fabe5"/></links></g>
<!-- task_5068dd29 -->
<g id="task_5068dd29" class="node">
<title>task_5068dd29</title>
<g id="a_task_5068dd29"><a xlink:title="postgres : Set fact whether pg port is open">
<polygon fill="none" stroke="#cb014d" points="3209.46,-6814.44 3209.46,-6829.35 3107.81,-6839.9 2964.06,-6839.9 2862.41,-6829.35 2862.41,-6814.44 2964.06,-6803.9 3107.81,-6803.9 3209.46,-6814.44"/>
<text text-anchor="middle" x="3035.94" y="-6818.2" font-family="Times,serif" font-size="14.00">postgres : Set fact whether pg port is open</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_5068dd29 -->
<g id="edge_0f76182b" class="edge">
<title>role_d68e7a20-&gt;task_5068dd29</title>
<g id="a_edge_0f76182b"><a xlink:title="27 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.65,-5327.96C1584.77,-5489.61 1611.62,-6684.02 1724.24,-6788.9 1764.78,-6826.65 2501.74,-6826.07 2852.39,-6823.62" id="path_edge_0f76182b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2852.42,-6827.12 2862.4,-6823.55 2852.37,-6820.12 2852.42,-6827.12"/>
</a>
</g>
<g id="a_edge_0f76182b-label"><a xlink:title="27 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_0f76182b" text-anchor="middle" startOffset="50%">27 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_5068dd29"/></links></g>
<!-- task_1b824a9f -->
<g id="task_1b824a9f" class="node">
<title>task_1b824a9f</title>
<g id="a_task_1b824a9f"><a xlink:title="postgres : Abort due to existing postgres instance">
<polygon fill="none" stroke="#cb014d" points="3235.52,-6760.44 3235.52,-6775.35 3118.61,-6785.9 2953.27,-6785.9 2836.35,-6775.35 2836.35,-6760.44 2953.27,-6749.9 3118.61,-6749.9 3235.52,-6760.44"/>
<text text-anchor="middle" x="3035.94" y="-6764.2" font-family="Times,serif" font-size="14.00">postgres : Abort due to existing postgres instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_1b824a9f -->
<g id="edge_20011c1e" class="edge">
<title>role_d68e7a20-&gt;task_1b824a9f</title>
<g id="a_edge_20011c1e"><a xlink:title="28 [when: not no_cmdb|bool and pg_exists and pg_disable_purge or pg_exists and pg_exists_action == 'abort']">
<path fill="none" stroke="#cb014d" d="M1581.72,-5328.05C1585.4,-5486.69 1615.68,-6634.17 1724.24,-6734.9 1763.87,-6771.66 2466.45,-6772.04 2826.24,-6769.78" id="path_edge_20011c1e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2826.28,-6773.28 2836.26,-6769.72 2826.23,-6766.28 2826.28,-6773.28"/>
</a>
</g>
<g id="a_edge_20011c1e-label"><a xlink:title="28 [when: not no_cmdb|bool and pg_exists and pg_disable_purge or pg_exists and pg_exists_action == 'abort']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_20011c1e" text-anchor="middle" startOffset="50%">28 [when: not no_cmdb|bool and pg_exists and pg_disable_purge or pg_exists and pg_exists_action == 'abort']</textPath></text>
</a>
</g>
<links><link target="task_1b824a9f"/></links></g>
<!-- task_5f204ba4 -->
<g id="task_5f204ba4" class="node">
<title>task_5f204ba4</title>
<g id="a_task_5f204ba4"><a xlink:title="postgres : Skip due to running instance">
<polygon fill="none" stroke="#cb014d" points="3197.14,-6706.44 3197.14,-6721.35 3102.71,-6731.9 2969.16,-6731.9 2874.74,-6721.35 2874.74,-6706.44 2969.16,-6695.9 3102.71,-6695.9 3197.14,-6706.44"/>
<text text-anchor="middle" x="3035.94" y="-6710.2" font-family="Times,serif" font-size="14.00">postgres : Skip due to running instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_5f204ba4 -->
<g id="edge_b94b1568" class="edge">
<title>role_d68e7a20-&gt;task_5f204ba4</title>
<g id="a_edge_b94b1568"><a xlink:title="29 [when: not no_cmdb|bool and pg_exists and pg_exists_action == 'skip']">
<path fill="none" stroke="#cb014d" d="M1581.8,-5328.34C1586.08,-5484.64 1619.78,-6584.35 1724.24,-6680.9 1765.4,-6718.94 2519.34,-6717.98 2864.7,-6715.51" id="path_edge_b94b1568"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2864.82,-6719.01 2874.8,-6715.44 2864.77,-6712.01 2864.82,-6719.01"/>
</a>
</g>
<g id="a_edge_b94b1568-label"><a xlink:title="29 [when: not no_cmdb|bool and pg_exists and pg_exists_action == 'skip']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b94b1568" text-anchor="middle" startOffset="50%">29 [when: not no_cmdb|bool and pg_exists and pg_exists_action == 'skip']</textPath></text>
</a>
</g>
<links><link target="task_5f204ba4"/></links></g>
<!-- task_1ff2d364 -->
<g id="task_1ff2d364" class="node">
<title>task_1ff2d364</title>
<g id="a_task_1ff2d364"><a xlink:title="postgres : Clean existing postgres instance">
<polygon fill="none" stroke="#cb014d" points="3210.37,-6652.44 3210.37,-6667.35 3108.19,-6677.9 2963.68,-6677.9 2861.5,-6667.35 2861.5,-6652.44 2963.68,-6641.9 3108.19,-6641.9 3210.37,-6652.44"/>
<text text-anchor="middle" x="3035.94" y="-6656.2" font-family="Times,serif" font-size="14.00">postgres : Clean existing postgres instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_1ff2d364 -->
<g id="edge_41e2ff1a" class="edge">
<title>role_d68e7a20-&gt;task_1ff2d364</title>
<g id="a_edge_41e2ff1a"><a xlink:title="30 [when: not no_cmdb|bool and pg_exists and pg_exists_action == 'clean']">
<path fill="none" stroke="#cb014d" d="M1581.87,-5328.09C1586.71,-5480 1623.76,-6534.43 1724.24,-6626.9 1764.96,-6664.38 2500.44,-6663.95 2851.43,-6661.59" id="path_edge_41e2ff1a"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2851.47,-6665.09 2861.44,-6661.52 2851.42,-6658.09 2851.47,-6665.09"/>
</a>
</g>
<g id="a_edge_41e2ff1a-label"><a xlink:title="30 [when: not no_cmdb|bool and pg_exists and pg_exists_action == 'clean']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_41e2ff1a" text-anchor="middle" startOffset="50%">30 [when: not no_cmdb|bool and pg_exists and pg_exists_action == 'clean']</textPath></text>
</a>
</g>
<links><link target="task_1ff2d364"/></links></g>
<!-- task_5149d501 -->
<g id="task_5149d501" class="node">
<title>task_5149d501</title>
<g id="a_task_5149d501"><a xlink:title="postgres : Shutdown existing postgres service">
<polygon fill="none" stroke="#cb014d" points="3222.29,-6598.44 3222.29,-6613.35 3113.13,-6623.9 2958.75,-6623.9 2849.58,-6613.35 2849.58,-6598.44 2958.75,-6587.9 3113.13,-6587.9 3222.29,-6598.44"/>
<text text-anchor="middle" x="3035.94" y="-6602.2" font-family="Times,serif" font-size="14.00">postgres : Shutdown existing postgres service</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_5149d501 -->
<g id="edge_87938320" class="edge">
<title>role_d68e7a20-&gt;task_5149d501</title>
<g id="a_edge_87938320"><a xlink:title="31 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.97,-5328.28C1587.43,-5477.31 1627.83,-6484.58 1724.24,-6572.9 1764.58,-6609.85 2483.72,-6609.91 2839.23,-6607.65" id="path_edge_87938320"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2839.4,-6611.15 2849.38,-6607.59 2839.36,-6604.15 2839.4,-6611.15"/>
</a>
</g>
<g id="a_edge_87938320-label"><a xlink:title="31 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_87938320" text-anchor="middle" startOffset="50%">31 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_5149d501"/></links></g>
<!-- task_c0cae377 -->
<g id="task_c0cae377" class="node">
<title>task_c0cae377</title>
<g id="a_task_c0cae377"><a xlink:title="postgres : Remove registerd consul service">
<polygon fill="none" stroke="#cb014d" points="3212.59,-6544.44 3212.59,-6559.35 3109.11,-6569.9 2962.76,-6569.9 2859.28,-6559.35 2859.28,-6544.44 2962.76,-6533.9 3109.11,-6533.9 3212.59,-6544.44"/>
<text text-anchor="middle" x="3035.94" y="-6548.2" font-family="Times,serif" font-size="14.00">postgres : Remove registerd consul service</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c0cae377 -->
<g id="edge_96cd7350" class="edge">
<title>role_d68e7a20-&gt;task_c0cae377</title>
<g id="a_edge_96cd7350"><a xlink:title="32 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.05,-5327.95C1588.1,-5472.21 1631.79,-6434.63 1724.24,-6518.9 1765.05,-6556.1 2497.25,-6555.86 2849.11,-6553.57" id="path_edge_96cd7350"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2849.17,-6557.07 2859.15,-6553.5 2849.13,-6550.07 2849.17,-6557.07"/>
</a>
</g>
<g id="a_edge_96cd7350-label"><a xlink:title="32 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_96cd7350" text-anchor="middle" startOffset="50%">32 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_c0cae377"/></links></g>
<!-- task_838a0cbc -->
<g id="task_838a0cbc" class="node">
<title>task_838a0cbc</title>
<g id="a_task_838a0cbc"><a xlink:title="postgres : Remove postgres metadata in consul">
<polygon fill="none" stroke="#cb014d" points="3228.45,-6490.44 3228.45,-6505.35 3115.68,-6515.9 2956.19,-6515.9 2843.42,-6505.35 2843.42,-6490.44 2956.19,-6479.9 3115.68,-6479.9 3228.45,-6490.44"/>
<text text-anchor="middle" x="3035.94" y="-6494.2" font-family="Times,serif" font-size="14.00">postgres : Remove postgres metadata in consul</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_838a0cbc -->
<g id="edge_89761c6f" class="edge">
<title>role_d68e7a20-&gt;task_838a0cbc</title>
<g id="a_edge_89761c6f"><a xlink:title="33 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.16,-5328.03C1588.88,-5468.87 1635.83,-6384.75 1724.24,-6464.9 1764.54,-6501.43 2475.5,-6501.8 2833.05,-6499.65" id="path_edge_89761c6f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2833.28,-6503.15 2843.26,-6499.59 2833.24,-6496.15 2833.28,-6503.15"/>
</a>
</g>
<g id="a_edge_89761c6f-label"><a xlink:title="33 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_89761c6f" text-anchor="middle" startOffset="50%">33 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_838a0cbc"/></links></g>
<!-- task_2211b797 -->
<g id="task_2211b797" class="node">
<title>task_2211b797</title>
<g id="a_task_2211b797"><a xlink:title="postgres : Remove existing postgres data">
<polygon fill="none" stroke="#cb014d" points="3204.61,-6436.44 3204.61,-6451.35 3105.8,-6461.9 2966.07,-6461.9 2867.26,-6451.35 2867.26,-6436.44 2966.07,-6425.9 3105.8,-6425.9 3204.61,-6436.44"/>
<text text-anchor="middle" x="3035.94" y="-6440.2" font-family="Times,serif" font-size="14.00">postgres : Remove existing postgres data</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_2211b797 -->
<g id="edge_40319889" class="edge">
<title>role_d68e7a20-&gt;task_2211b797</title>
<g id="a_edge_40319889"><a xlink:title="34 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.27,-5328.05C1589.68,-5465.16 1639.85,-6334.85 1724.24,-6410.9 1765.57,-6448.14 2508.23,-6447.74 2856.9,-6445.48" id="path_edge_40319889"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2857.12,-6448.98 2867.1,-6445.41 2857.08,-6441.98 2857.12,-6448.98"/>
</a>
</g>
<g id="a_edge_40319889-label"><a xlink:title="34 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_40319889" text-anchor="middle" startOffset="50%">34 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_2211b797"/></links></g>
<!-- task_9d662264 -->
<g id="task_9d662264" class="node">
<title>task_9d662264</title>
<g id="a_task_9d662264"><a xlink:title="postgres : Make sure main and backup dir exists">
<polygon fill="none" stroke="#cb014d" points="3233.8,-6382.44 3233.8,-6397.35 3117.89,-6407.9 2953.98,-6407.9 2838.07,-6397.35 2838.07,-6382.44 2953.98,-6371.9 3117.89,-6371.9 3233.8,-6382.44"/>
<text text-anchor="middle" x="3035.94" y="-6386.2" font-family="Times,serif" font-size="14.00">postgres : Make sure main and backup dir exists</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_9d662264 -->
<g id="edge_3b5290a4" class="edge">
<title>role_d68e7a20-&gt;task_9d662264</title>
<g id="a_edge_3b5290a4"><a xlink:title="35 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.4,-5328C1590.52,-5461.08 1643.85,-6284.93 1724.24,-6356.9 1764.57,-6393 2468.73,-6393.67 2827.86,-6391.63" id="path_edge_3b5290a4"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2828.14,-6395.13 2838.12,-6391.57 2828.1,-6388.13 2828.14,-6395.13"/>
</a>
</g>
<g id="a_edge_3b5290a4-label"><a xlink:title="35 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3b5290a4" text-anchor="middle" startOffset="50%">35 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_9d662264"/></links></g>
<!-- task_cbc98474 -->
<g id="task_cbc98474" class="node">
<title>task_cbc98474</title>
<g id="a_task_cbc98474"><a xlink:title="postgres : Create postgres directory structure">
<polygon fill="none" stroke="#cb014d" points="3218.75,-6328.44 3218.75,-6343.35 3111.66,-6353.9 2960.21,-6353.9 2853.12,-6343.35 2853.12,-6328.44 2960.21,-6317.9 3111.66,-6317.9 3218.75,-6328.44"/>
<text text-anchor="middle" x="3035.94" y="-6332.2" font-family="Times,serif" font-size="14.00">postgres : Create postgres directory structure</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_cbc98474 -->
<g id="edge_6d557058" class="edge">
<title>role_d68e7a20-&gt;task_cbc98474</title>
<g id="a_edge_6d557058"><a xlink:title="36 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.56,-5328.28C1591.51,-5458.14 1648.01,-6234.12 1724.24,-6301.9 1765.26,-6338.37 2488.62,-6339.18 2842.75,-6337.37" id="path_edge_6d557058"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2842.88,-6340.87 2852.86,-6337.31 2842.84,-6333.87 2842.88,-6340.87"/>
</a>
</g>
<g id="a_edge_6d557058-label"><a xlink:title="36 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6d557058" text-anchor="middle" startOffset="50%">36 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_cbc98474"/></links></g>
<!-- task_1a9a7ff2 -->
<g id="task_1a9a7ff2" class="node">
<title>task_1a9a7ff2</title>
<g id="a_task_1a9a7ff2"><a xlink:title="postgres : Create pgbouncer directory structure">
<polygon fill="none" stroke="#cb014d" points="3227.14,-6274.44 3227.14,-6289.35 3115.13,-6299.9 2956.74,-6299.9 2844.74,-6289.35 2844.74,-6274.44 2956.74,-6263.9 3115.13,-6263.9 3227.14,-6274.44"/>
<text text-anchor="middle" x="3035.94" y="-6278.2" font-family="Times,serif" font-size="14.00">postgres : Create pgbouncer directory structure</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_1a9a7ff2 -->
<g id="edge_b12e2439" class="edge">
<title>role_d68e7a20-&gt;task_1a9a7ff2</title>
<g id="a_edge_b12e2439"><a xlink:title="37 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.09,-5328.18C1579.98,-5448.07 1580.32,-6120.96 1724.24,-6247.9 1765.09,-6283.92 2477.59,-6285.08 2834.53,-6283.38" id="path_edge_b12e2439"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2834.74,-6286.88 2844.73,-6283.33 2834.71,-6279.88 2834.74,-6286.88"/>
</a>
</g>
<g id="a_edge_b12e2439-label"><a xlink:title="37 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b12e2439" text-anchor="middle" startOffset="50%">37 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_1a9a7ff2"/></links></g>
<!-- task_4e54e08b -->
<g id="task_4e54e08b" class="node">
<title>task_4e54e08b</title>
<g id="a_task_4e54e08b"><a xlink:title="postgres : Create links from pgbkup to pgroot">
<polygon fill="none" stroke="#cb014d" points="3223.19,-6220.44 3223.19,-6235.35 3113.5,-6245.9 2958.37,-6245.9 2848.68,-6235.35 2848.68,-6220.44 2958.37,-6209.9 3113.5,-6209.9 3223.19,-6220.44"/>
<text text-anchor="middle" x="3035.94" y="-6224.2" font-family="Times,serif" font-size="14.00">postgres : Create links from pgbkup to pgroot</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_4e54e08b -->
<g id="edge_b6b15784" class="edge">
<title>role_d68e7a20-&gt;task_4e54e08b</title>
<g id="a_edge_b6b15784"><a xlink:title="38 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.27,-5328.25C1581.38,-5444.27 1588.3,-6075.1 1724.24,-6193.9 1765.4,-6229.87 2482.75,-6231 2838.36,-6229.32" id="path_edge_b6b15784"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2838.53,-6232.82 2848.51,-6229.28 2838.5,-6225.82 2838.53,-6232.82"/>
</a>
</g>
<g id="a_edge_b6b15784-label"><a xlink:title="38 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b6b15784" text-anchor="middle" startOffset="50%">38 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_4e54e08b"/></links></g>
<!-- task_e8d2a4fa -->
<g id="task_e8d2a4fa" class="node">
<title>task_e8d2a4fa</title>
<g id="a_task_e8d2a4fa"><a xlink:title="postgres : Create links from current cluster">
<polygon fill="none" stroke="#cb014d" points="3212.59,-6166.44 3212.59,-6181.35 3109.11,-6191.9 2962.76,-6191.9 2859.28,-6181.35 2859.28,-6166.44 2962.76,-6155.9 3109.11,-6155.9 3212.59,-6166.44"/>
<text text-anchor="middle" x="3035.94" y="-6170.2" font-family="Times,serif" font-size="14.00">postgres : Create links from current cluster</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e8d2a4fa -->
<g id="edge_dbae939d" class="edge">
<title>role_d68e7a20-&gt;task_e8d2a4fa</title>
<g id="a_edge_dbae939d"><a xlink:title="39 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.48,-5328.21C1582.86,-5439.97 1596.23,-6029.18 1724.24,-6139.9 1766.01,-6176.02 2497.71,-6176.92 2849.28,-6175.23" id="path_edge_dbae939d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2849.33,-6178.73 2859.31,-6175.19 2849.29,-6171.73 2849.33,-6178.73"/>
</a>
</g>
<g id="a_edge_dbae939d-label"><a xlink:title="39 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_dbae939d" text-anchor="middle" startOffset="50%">39 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_e8d2a4fa"/></links></g>
<!-- task_bcd606ba -->
<g id="task_bcd606ba" class="node">
<title>task_bcd606ba</title>
<g id="a_task_bcd606ba"><a xlink:title="postgres : Create dummy placeholder file">
<polygon fill="none" stroke="#cb014d" points="3206.43,-6112.44 3206.43,-6127.35 3106.56,-6137.9 2965.32,-6137.9 2865.45,-6127.35 2865.45,-6112.44 2965.32,-6101.9 3106.56,-6101.9 3206.43,-6112.44"/>
<text text-anchor="middle" x="3035.94" y="-6116.2" font-family="Times,serif" font-size="14.00">postgres : Create dummy placeholder file</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_bcd606ba -->
<g id="edge_e8048087" class="edge">
<title>role_d68e7a20-&gt;task_bcd606ba</title>
<g id="a_edge_e8048087"><a xlink:title="40 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.71,-5328.06C1584.42,-5435.17 1604.11,-5983.2 1724.24,-6085.9 1766.46,-6121.99 2506.34,-6122.81 2855.4,-6121.16" id="path_edge_e8048087"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2855.63,-6124.66 2865.62,-6121.11 2855.6,-6117.66 2855.63,-6124.66"/>
</a>
</g>
<g id="a_edge_e8048087-label"><a xlink:title="40 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e8048087" text-anchor="middle" startOffset="50%">40 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_bcd606ba"/></links></g>
<!-- task_b3f4838c -->
<g id="task_b3f4838c" class="node">
<title>task_b3f4838c</title>
<g id="a_task_b3f4838c"><a xlink:title="postgres : Copy postgres scripts to /pg/bin/">
<polygon fill="none" stroke="#cb014d" points="3211.68,-6058.44 3211.68,-6073.35 3108.73,-6083.9 2963.14,-6083.9 2860.19,-6073.35 2860.19,-6058.44 2963.14,-6047.9 3108.73,-6047.9 3211.68,-6058.44"/>
<text text-anchor="middle" x="3035.94" y="-6062.2" font-family="Times,serif" font-size="14.00">postgres : Copy postgres scripts to /pg/bin/</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_b3f4838c -->
<g id="edge_e105c168" class="edge">
<title>role_d68e7a20-&gt;task_b3f4838c</title>
<g id="a_edge_e105c168"><a xlink:title="41 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.98,-5328.13C1586.11,-5430.97 1612.04,-5937.26 1724.24,-6031.9 1766.48,-6067.52 2498.86,-6068.66 2850.03,-6067.14" id="path_edge_e105c168"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.06,-6070.64 2860.05,-6067.09 2850.03,-6063.64 2850.06,-6070.64"/>
</a>
</g>
<g id="a_edge_e105c168-label"><a xlink:title="41 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e105c168" text-anchor="middle" startOffset="50%">41 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_b3f4838c"/></links></g>
<!-- task_964480b8 -->
<g id="task_964480b8" class="node">
<title>task_964480b8</title>
<g id="a_task_964480b8"><a xlink:title="postgres : Copy alias profile to /etc/profile.d">
<polygon fill="none" stroke="#cb014d" points="3216.53,-6004.44 3216.53,-6019.35 3110.74,-6029.9 2961.13,-6029.9 2855.34,-6019.35 2855.34,-6004.44 2961.13,-5993.9 3110.74,-5993.9 3216.53,-6004.44"/>
<text text-anchor="middle" x="3035.94" y="-6008.2" font-family="Times,serif" font-size="14.00">postgres : Copy alias profile to /etc/profile.d</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_964480b8 -->
<g id="edge_ec858dc2" class="edge">
<title>role_d68e7a20-&gt;task_964480b8</title>
<g id="a_edge_ec858dc2"><a xlink:title="42 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.28,-5328.05C1587.91,-5426.09 1619.88,-5891.24 1724.24,-5977.9 1766.55,-6013.03 2492.01,-6014.49 2845.01,-6013.1" id="path_edge_ec858dc2"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2845.1,-6016.6 2855.09,-6013.06 2845.07,-6009.6 2845.1,-6016.6"/>
</a>
</g>
<g id="a_edge_ec858dc2-label"><a xlink:title="42 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_ec858dc2" text-anchor="middle" startOffset="50%">42 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_964480b8"/></links></g>
<!-- task_4e548d8f -->
<g id="task_4e548d8f" class="node">
<title>task_4e548d8f</title>
<g id="a_task_4e548d8f"><a xlink:title="postgres : Copy psqlrc to postgres home">
<polygon fill="none" stroke="#cb014d" points="3201.98,-5950.44 3201.98,-5965.35 3104.72,-5975.9 2967.16,-5975.9 2869.89,-5965.35 2869.89,-5950.44 2967.16,-5939.9 3104.72,-5939.9 3201.98,-5950.44"/>
<text text-anchor="middle" x="3035.94" y="-5954.2" font-family="Times,serif" font-size="14.00">postgres : Copy psqlrc to postgres home</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_4e548d8f -->
<g id="edge_a8029bb4" class="edge">
<title>role_d68e7a20-&gt;task_4e548d8f</title>
<g id="a_edge_a8029bb4"><a xlink:title="43 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.65,-5328.11C1589.89,-5421.48 1627.75,-5845.23 1724.24,-5923.9 1767.45,-5959.13 2512.37,-5960.35 2859.51,-5958.98" id="path_edge_a8029bb4"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2859.68,-5962.48 2869.66,-5958.94 2859.65,-5955.48 2859.68,-5962.48"/>
</a>
</g>
<g id="a_edge_a8029bb4-label"><a xlink:title="43 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_a8029bb4" text-anchor="middle" startOffset="50%">43 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_4e548d8f"/></links></g>
<!-- task_e0ef7f0e -->
<g id="task_e0ef7f0e" class="node">
<title>task_e0ef7f0e</title>
<g id="a_task_e0ef7f0e"><a xlink:title="postgres : Get config parameter page count">
<polygon fill="none" stroke="#cb014d" points="3212.59,-5896.44 3212.59,-5911.35 3109.11,-5921.9 2962.76,-5921.9 2859.28,-5911.35 2859.28,-5896.44 2962.76,-5885.9 3109.11,-5885.9 3212.59,-5896.44"/>
<text text-anchor="middle" x="3035.94" y="-5900.2" font-family="Times,serif" font-size="14.00">postgres : Get config parameter page count</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e0ef7f0e -->
<g id="edge_89b6729f" class="edge">
<title>role_d68e7a20-&gt;task_e0ef7f0e</title>
<g id="a_edge_89b6729f"><a xlink:title="44 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1583.06,-5327.96C1591.98,-5416.04 1635.51,-5799.11 1724.24,-5869.9 1767.39,-5904.33 2497.92,-5906.1 2849.19,-5904.94" id="path_edge_89b6729f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2849.22,-5908.44 2859.21,-5904.91 2849.2,-5901.44 2849.22,-5908.44"/>
</a>
</g>
<g id="a_edge_89b6729f-label"><a xlink:title="44 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_89b6729f" text-anchor="middle" startOffset="50%">44 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_e0ef7f0e"/></links></g>
<!-- task_f5c9969d -->
<g id="task_f5c9969d" class="node">
<title>task_f5c9969d</title>
<g id="a_task_f5c9969d"><a xlink:title="postgres : Get config parameter page size">
<polygon fill="none" stroke="#cb014d" points="3206.43,-5842.44 3206.43,-5857.35 3106.56,-5867.9 2965.32,-5867.9 2865.45,-5857.35 2865.45,-5842.44 2965.32,-5831.9 3106.56,-5831.9 3206.43,-5842.44"/>
<text text-anchor="middle" x="3035.94" y="-5846.2" font-family="Times,serif" font-size="14.00">postgres : Get config parameter page size</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_f5c9969d -->
<g id="edge_b1a87c1f" class="edge">
<title>role_d68e7a20-&gt;task_f5c9969d</title>
<g id="a_edge_b1a87c1f"><a xlink:title="45 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1583.56,-5327.9C1594.27,-5410.73 1643.09,-5753.84 1724.24,-5816.9 1768.08,-5850.97 2506.65,-5852.27 2855.35,-5850.97" id="path_edge_b1a87c1f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2855.56,-5854.47 2865.55,-5850.93 2855.54,-5847.47 2855.56,-5854.47"/>
</a>
</g>
<g id="a_edge_b1a87c1f-label"><a xlink:title="45 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b1a87c1f" text-anchor="middle" startOffset="50%">45 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_f5c9969d"/></links></g>
<!-- task_e8280f88 -->
<g id="task_e8280f88" class="node">
<title>task_e8280f88</title>
<g id="a_task_e8280f88"><a xlink:title="postgres : Tune shared buffer and work mem">
<polygon fill="none" stroke="#cb014d" points="3220.97,-5788.44 3220.97,-5803.35 3112.58,-5813.9 2959.29,-5813.9 2850.9,-5803.35 2850.9,-5788.44 2959.29,-5777.9 3112.58,-5777.9 3220.97,-5788.44"/>
<text text-anchor="middle" x="3035.94" y="-5792.2" font-family="Times,serif" font-size="14.00">postgres : Tune shared buffer and work mem</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e8280f88 -->
<g id="edge_6d427fd5" class="edge">
<title>role_d68e7a20-&gt;task_e8280f88</title>
<g id="a_edge_6d427fd5"><a xlink:title="46 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1584.14,-5327.9C1596.73,-5405.55 1650.32,-5710.29 1724.24,-5765.9 1767.99,-5798.81 2486.32,-5799.2 2840.54,-5797.36" id="path_edge_6d427fd5"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2840.67,-5800.86 2850.66,-5797.3 2840.64,-5793.86 2840.67,-5800.86"/>
</a>
</g>
<g id="a_edge_6d427fd5-label"><a xlink:title="46 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6d427fd5" text-anchor="middle" startOffset="50%">46 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_e8280f88"/></links></g>
<!-- task_26e844f8 -->
<g id="task_26e844f8" class="node">
<title>task_26e844f8</title>
<g id="a_task_26e844f8"><a xlink:title="postgres : Hanlde small size mem occasion">
<polygon fill="none" stroke="#cb014d" points="3214.81,-5734.44 3214.81,-5749.35 3110.03,-5759.9 2961.84,-5759.9 2857.06,-5749.35 2857.06,-5734.44 2961.84,-5723.9 3110.03,-5723.9 3214.81,-5734.44"/>
<text text-anchor="middle" x="3035.94" y="-5738.2" font-family="Times,serif" font-size="14.00">postgres : Hanlde small size mem occasion</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_26e844f8 -->
<g id="edge_b0fdf3be" class="edge">
<title>role_d68e7a20-&gt;task_26e844f8</title>
<g id="a_edge_b0fdf3be"><a xlink:title="47 [when: not no_cmdb|bool and patroni_enabled|bool and pg_shared_buffers_bytes|int &lt; 1073741824]">
<path fill="none" stroke="#cb014d" d="M1581.03,-5327.95C1581.07,-5394 1591.08,-5623.61 1724.24,-5719.9 1768.87,-5752.17 2495.43,-5748.21 2847.11,-5744.37" id="path_edge_b0fdf3be"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2847.18,-5747.87 2857.14,-5744.26 2847.11,-5740.87 2847.18,-5747.87"/>
</a>
</g>
<g id="a_edge_b0fdf3be-label"><a xlink:title="47 [when: not no_cmdb|bool and patroni_enabled|bool and pg_shared_buffers_bytes|int &lt; 1073741824]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b0fdf3be" text-anchor="middle" startOffset="50%">47 [when: not no_cmdb|bool and patroni_enabled|bool and pg_shared_buffers_bytes|int &lt; 1073741824]</textPath></text>
</a>
</g>
<links><link target="task_26e844f8"/></links></g>
<!-- task_41166f02 -->
<g id="task_41166f02" class="node">
<title>task_41166f02</title>
<g id="a_task_41166f02"><a xlink:title="postgres : Calculate postgres mem params">
<polygon fill="none" stroke="#cb014d" points="3210.37,-5680.44 3210.37,-5695.35 3108.19,-5705.9 2963.68,-5705.9 2861.5,-5695.35 2861.5,-5680.44 2963.68,-5669.9 3108.19,-5669.9 3210.37,-5680.44"/>
<text text-anchor="middle" x="3035.94" y="-5684.2" font-family="Times,serif" font-size="14.00">postgres : Calculate postgres mem params</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_41166f02 -->
<g id="edge_4677c4b1" class="edge">
<title>role_d68e7a20-&gt;task_41166f02</title>
<g id="a_edge_4677c4b1"><a xlink:title="48 [when: not no_cmdb|bool and patroni_enabled|bool and pg_shared_buffers_bytes|int &gt;= 1073741824]">
<path fill="none" stroke="#cb014d" d="M1582.31,-5328.01C1586.64,-5387.4 1609.32,-5576.98 1724.24,-5655.9 1814.68,-5718 2512.32,-5704.71 2851.27,-5694.37" id="path_edge_4677c4b1"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2851.55,-5697.86 2861.44,-5694.05 2851.34,-5690.86 2851.55,-5697.86"/>
</a>
</g>
<g id="a_edge_4677c4b1-label"><a xlink:title="48 [when: not no_cmdb|bool and patroni_enabled|bool and pg_shared_buffers_bytes|int &gt;= 1073741824]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_4677c4b1" text-anchor="middle" startOffset="50%">48 [when: not no_cmdb|bool and patroni_enabled|bool and pg_shared_buffers_bytes|int &gt;= 1073741824]</textPath></text>
</a>
</g>
<links><link target="task_41166f02"/></links></g>
<!-- task_e73821e0 -->
<g id="task_e73821e0" class="node">
<title>task_e73821e0</title>
<g id="a_task_e73821e0"><a xlink:title="postgres : create patroni config dir">
<polygon fill="none" stroke="#cb014d" points="3178.55,-5626.44 3178.55,-5641.35 3095.01,-5651.9 2976.86,-5651.9 2893.32,-5641.35 2893.32,-5626.44 2976.86,-5615.9 3095.01,-5615.9 3178.55,-5626.44"/>
<text text-anchor="middle" x="3035.94" y="-5630.2" font-family="Times,serif" font-size="14.00">postgres : create patroni config dir</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e73821e0 -->
<g id="edge_57a5ae49" class="edge">
<title>role_d68e7a20-&gt;task_e73821e0</title>
<g id="a_edge_57a5ae49"><a xlink:title="49 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1583.43,-5328.08C1590.84,-5382.65 1621.14,-5545.41 1724.24,-5611.9 1772.14,-5642.79 2547.94,-5638.8 2882.9,-5635.61" id="path_edge_57a5ae49"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2883.2,-5639.11 2893.17,-5635.51 2883.14,-5632.11 2883.2,-5639.11"/>
</a>
</g>
<g id="a_edge_57a5ae49-label"><a xlink:title="49 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_57a5ae49" text-anchor="middle" startOffset="50%">49 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_e73821e0"/></links></g>
<!-- task_6653e224 -->
<g id="task_6653e224" class="node">
<title>task_6653e224</title>
<g id="a_task_6653e224"><a xlink:title="postgres : use predefined patroni template">
<polygon fill="none" stroke="#cb014d" points="3208.15,-5572.44 3208.15,-5587.35 3107.27,-5597.9 2964.6,-5597.9 2863.72,-5587.35 2863.72,-5572.44 2964.6,-5561.9 3107.27,-5561.9 3208.15,-5572.44"/>
<text text-anchor="middle" x="3035.94" y="-5576.2" font-family="Times,serif" font-size="14.00">postgres : use predefined patroni template</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_6653e224 -->
<g id="edge_32cf009d" class="edge">
<title>role_d68e7a20-&gt;task_6653e224</title>
<g id="a_edge_32cf009d"><a xlink:title="50 [when: not no_cmdb|bool and patroni_enabled|bool and pg_conf is not defined or pg_conf == '']">
<path fill="none" stroke="#cb014d" d="M1585.45,-5328.06C1597.33,-5375.58 1636.55,-5503.41 1724.24,-5554.9 1818.94,-5610.5 2515.82,-5596.47 2853.08,-5586.2" id="path_edge_32cf009d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2853.56,-5589.69 2863.44,-5585.89 2853.34,-5582.69 2853.56,-5589.69"/>
</a>
</g>
<g id="a_edge_32cf009d-label"><a xlink:title="50 [when: not no_cmdb|bool and patroni_enabled|bool and pg_conf is not defined or pg_conf == '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_32cf009d" text-anchor="middle" startOffset="50%">50 [when: not no_cmdb|bool and patroni_enabled|bool and pg_conf is not defined or pg_conf == '']</textPath></text>
</a>
</g>
<links><link target="task_6653e224"/></links></g>
<!-- task_513c8c11 -->
<g id="task_513c8c11" class="node">
<title>task_513c8c11</title>
<g id="a_task_513c8c11"><a xlink:title="postgres : Render default /pg/conf/patroni.yml">
<polygon fill="none" stroke="#cb014d" points="3225.42,-5518.44 3225.42,-5533.35 3114.42,-5543.9 2957.45,-5543.9 2846.46,-5533.35 2846.46,-5518.44 2957.45,-5507.9 3114.42,-5507.9 3225.42,-5518.44"/>
<text text-anchor="middle" x="3035.94" y="-5522.2" font-family="Times,serif" font-size="14.00">postgres : Render default /pg/conf/patroni.yml</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_513c8c11 -->
<g id="edge_f629c523" class="edge">
<title>role_d68e7a20-&gt;task_513c8c11</title>
<g id="a_edge_f629c523"><a xlink:title="51 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1588.48,-5327.9C1605.27,-5367.34 1651.36,-5460.78 1724.24,-5497.9 1820.45,-5546.9 2494.15,-5538.64 2836.38,-5531.09" id="path_edge_f629c523"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2836.49,-5534.59 2846.41,-5530.87 2836.33,-5527.59 2836.49,-5534.59"/>
</a>
</g>
<g id="a_edge_f629c523-label"><a xlink:title="51 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_f629c523" text-anchor="middle" startOffset="50%">51 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_513c8c11"/></links></g>
<!-- task_4426cc7c -->
<g id="task_4426cc7c" class="node">
<title>task_4426cc7c</title>
<g id="a_task_4426cc7c"><a xlink:title="postgres : Link /pg/conf/patroni to /pg/bin/">
<polygon fill="none" stroke="#cb014d" points="3211.28,-5464.44 3211.28,-5479.35 3108.56,-5489.9 2963.31,-5489.9 2860.6,-5479.35 2860.6,-5464.44 2963.31,-5453.9 3108.56,-5453.9 3211.28,-5464.44"/>
<text text-anchor="middle" x="3035.94" y="-5468.2" font-family="Times,serif" font-size="14.00">postgres : Link /pg/conf/patroni to /pg/bin/</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_4426cc7c -->
<g id="edge_f46afa96" class="edge">
<title>role_d68e7a20-&gt;task_4426cc7c</title>
<g id="a_edge_f46afa96"><a xlink:title="52 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1593.26,-5327.91C1615,-5358.88 1664.37,-5421.27 1724.24,-5445.9 1825.38,-5487.5 2513.43,-5481.29 2850.12,-5475.61" id="path_edge_f46afa96"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.53,-5479.1 2860.47,-5475.43 2850.41,-5472.11 2850.53,-5479.1"/>
</a>
</g>
<g id="a_edge_f46afa96-label"><a xlink:title="52 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_f46afa96" text-anchor="middle" startOffset="50%">52 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_4426cc7c"/></links></g>
<!-- task_4fde2383 -->
<g id="task_4fde2383" class="node">
<title>task_4fde2383</title>
<g id="a_task_4fde2383"><a xlink:title="postgres : Link /pg/bin/patroni.yml to /etc/patroni/">
<polygon fill="none" stroke="#cb014d" points="3240.87,-5410.44 3240.87,-5425.35 3120.82,-5435.9 2951.05,-5435.9 2831,-5425.35 2831,-5410.44 2951.05,-5399.9 3120.82,-5399.9 3240.87,-5410.44"/>
<text text-anchor="middle" x="3035.94" y="-5414.2" font-family="Times,serif" font-size="14.00">postgres : Link /pg/bin/patroni.yml to /etc/patroni/</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_4fde2383 -->
<g id="edge_5772c737" class="edge">
<title>role_d68e7a20-&gt;task_4fde2383</title>
<g id="a_edge_5772c737"><a xlink:title="53 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1605.27,-5326.39C1632.63,-5344.18 1679.42,-5371.48 1724.24,-5382.9 1925.14,-5434.08 2503.69,-5430.15 2820.78,-5423.62" id="path_edge_5772c737"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2821.1,-5427.11 2831.02,-5423.41 2820.95,-5420.12 2821.1,-5427.11"/>
</a>
</g>
<g id="a_edge_5772c737-label"><a xlink:title="53 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_5772c737" text-anchor="middle" startOffset="50%">53 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_4fde2383"/></links></g>
<!-- task_ff17f51a -->
<g id="task_ff17f51a" class="node">
<title>task_ff17f51a</title>
<g id="a_task_ff17f51a"><a xlink:title="postgres : Config patroni watchdog support">
<polygon fill="none" stroke="#cb014d" points="3213,-5356.44 3213,-5371.35 3109.28,-5381.9 2962.6,-5381.9 2858.88,-5371.35 2858.88,-5356.44 2962.6,-5345.9 3109.28,-5345.9 3213,-5356.44"/>
<text text-anchor="middle" x="3035.94" y="-5360.2" font-family="Times,serif" font-size="14.00">postgres : Config patroni watchdog support</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_ff17f51a -->
<g id="edge_056c6315" class="edge">
<title>role_d68e7a20-&gt;task_ff17f51a</title>
<g id="a_edge_056c6315"><a xlink:title="54 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1635.13,-5318.42C1661.85,-5322.3 1694.67,-5326.55 1724.24,-5328.9 2123.94,-5360.71 2594.14,-5365.32 2848.58,-5365.09" id="path_edge_056c6315"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2848.67,-5368.59 2858.66,-5365.08 2848.66,-5361.59 2848.67,-5368.59"/>
</a>
</g>
<g id="a_edge_056c6315-label"><a xlink:title="54 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_056c6315" text-anchor="middle" startOffset="50%">54 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_ff17f51a"/></links></g>
<!-- task_f64ff8ae -->
<g id="task_f64ff8ae" class="node">
<title>task_f64ff8ae</title>
<g id="a_task_f64ff8ae"><a xlink:title="postgres : Copy patroni systemd service file">
<polygon fill="none" stroke="#cb014d" points="3216.12,-5302.44 3216.12,-5317.35 3110.57,-5327.9 2961.3,-5327.9 2855.75,-5317.35 2855.75,-5302.44 2961.3,-5291.9 3110.57,-5291.9 3216.12,-5302.44"/>
<text text-anchor="middle" x="3035.94" y="-5306.2" font-family="Times,serif" font-size="14.00">postgres : Copy patroni systemd service file</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_f64ff8ae -->
<g id="edge_4f478d5d" class="edge">
<title>role_d68e7a20-&gt;task_f64ff8ae</title>
<g id="a_edge_4f478d5d"><a xlink:title="55 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1642.39,-5309.9C1847.12,-5309.9 2514.83,-5309.9 2845.66,-5309.9" id="path_edge_4f478d5d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2845.83,-5313.4 2855.83,-5309.9 2845.83,-5306.4 2845.83,-5313.4"/>
</a>
</g>
<g id="a_edge_4f478d5d-label"><a xlink:title="55 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_4f478d5d" text-anchor="middle" startOffset="50%">55 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_f64ff8ae"/></links></g>
<!-- task_fd2ae14e -->
<g id="task_fd2ae14e" class="node">
<title>task_fd2ae14e</title>
<g id="a_task_fd2ae14e"><a xlink:title="postgres : create patroni systemd drop-in dir">
<polygon fill="none" stroke="#cb014d" points="3217.44,-5248.44 3217.44,-5263.35 3111.12,-5273.9 2960.76,-5273.9 2854.43,-5263.35 2854.43,-5248.44 2960.76,-5237.9 3111.12,-5237.9 3217.44,-5248.44"/>
<text text-anchor="middle" x="3035.94" y="-5252.2" font-family="Times,serif" font-size="14.00">postgres : create patroni systemd drop-in dir</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_fd2ae14e -->
<g id="edge_823ed9aa" class="edge">
<title>role_d68e7a20-&gt;task_fd2ae14e</title>
<g id="a_edge_823ed9aa"><a xlink:title="56 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1635.13,-5301.38C1661.85,-5297.5 1694.67,-5293.25 1724.24,-5290.9 2121.71,-5259.26 2588.87,-5254.53 2844.28,-5254.7" id="path_edge_823ed9aa"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2844.4,-5258.2 2854.41,-5254.71 2844.41,-5251.2 2844.4,-5258.2"/>
</a>
</g>
<g id="a_edge_823ed9aa-label"><a xlink:title="56 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_823ed9aa" text-anchor="middle" startOffset="50%">56 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_fd2ae14e"/></links></g>
<!-- task_e5bfbaa4 -->
<g id="task_e5bfbaa4" class="node">
<title>task_e5bfbaa4</title>
<g id="a_task_e5bfbaa4"><a xlink:title="postgres : Copy postgres systemd service file">
<polygon fill="none" stroke="#cb014d" points="3220.97,-5194.44 3220.97,-5209.35 3112.58,-5219.9 2959.29,-5219.9 2850.9,-5209.35 2850.9,-5194.44 2959.29,-5183.9 3112.58,-5183.9 3220.97,-5194.44"/>
<text text-anchor="middle" x="3035.94" y="-5198.2" font-family="Times,serif" font-size="14.00">postgres : Copy postgres systemd service file</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e5bfbaa4 -->
<g id="edge_6be7e241" class="edge">
<title>role_d68e7a20-&gt;task_e5bfbaa4</title>
<g id="a_edge_6be7e241"><a xlink:title="57 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1605.24,-5293.18C1632.56,-5275.14 1679.32,-5247.46 1724.24,-5235.9 1929.3,-5183.14 2528.54,-5189.1 2840.73,-5196.31" id="path_edge_6be7e241"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2840.72,-5199.81 2850.8,-5196.54 2840.89,-5192.81 2840.72,-5199.81"/>
</a>
</g>
<g id="a_edge_6be7e241-label"><a xlink:title="57 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6be7e241" text-anchor="middle" startOffset="50%">57 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_e5bfbaa4"/></links></g>
<!-- task_c13b4239 -->
<g id="task_c13b4239" class="node">
<title>task_c13b4239</title>
<g id="a_task_c13b4239"><a xlink:title="postgres : Drop-In systemd config for patroni">
<polygon fill="none" stroke="#cb014d" points="3221.88,-5140.44 3221.88,-5155.35 3112.96,-5165.9 2958.92,-5165.9 2849.99,-5155.35 2849.99,-5140.44 2958.92,-5129.9 3112.96,-5129.9 3221.88,-5140.44"/>
<text text-anchor="middle" x="3035.94" y="-5144.2" font-family="Times,serif" font-size="14.00">postgres : Drop-In systemd config for patroni</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c13b4239 -->
<g id="edge_9a64de05" class="edge">
<title>role_d68e7a20-&gt;task_c13b4239</title>
<g id="a_edge_9a64de05"><a xlink:title="58 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1592.85,-5292.12C1614.3,-5260.86 1663.71,-5197 1724.24,-5171.9 1927.57,-5087.59 2571.91,-5116.98 2874.74,-5136.39" id="path_edge_9a64de05"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2874.73,-5139.89 2884.93,-5137.05 2875.18,-5132.91 2874.73,-5139.89"/>
</a>
</g>
<g id="a_edge_9a64de05-label"><a xlink:title="58 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9a64de05" text-anchor="middle" startOffset="50%">58 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_c13b4239"/></links></g>
<!-- task_0a746099 -->
<g id="task_0a746099" class="node">
<title>task_0a746099</title>
<g id="a_task_0a746099"><a xlink:title="postgres : Launch patroni on primary instance">
<polygon fill="none" stroke="#cb014d" points="3224.51,-5086.44 3224.51,-5101.35 3114.05,-5111.9 2957.83,-5111.9 2847.36,-5101.35 2847.36,-5086.44 2957.83,-5075.9 3114.05,-5075.9 3224.51,-5086.44"/>
<text text-anchor="middle" x="3035.94" y="-5090.2" font-family="Times,serif" font-size="14.00">postgres : Launch patroni on primary instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_0a746099 -->
<g id="edge_c5163680" class="edge">
<title>role_d68e7a20-&gt;task_0a746099</title>
<g id="a_edge_c5163680"><a xlink:title="59 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1586.88,-5291.69C1601.27,-5248.19 1644.29,-5138.72 1724.24,-5095.9 1820.77,-5044.2 2513.18,-5069.11 2850.78,-5084.66" id="path_edge_c5163680"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.76,-5088.16 2860.92,-5085.13 2851.09,-5081.17 2850.76,-5088.16"/>
</a>
</g>
<g id="a_edge_c5163680-label"><a xlink:title="59 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_c5163680" text-anchor="middle" startOffset="50%">59 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_0a746099"/></links></g>
<!-- task_66802427 -->
<g id="task_66802427" class="node">
<title>task_66802427</title>
<g id="a_task_66802427"><a xlink:title="postgres : Wait for patroni primary online">
<polygon fill="none" stroke="#cb014d" points="3208.15,-5032.44 3208.15,-5047.35 3107.27,-5057.9 2964.6,-5057.9 2863.72,-5047.35 2863.72,-5032.44 2964.6,-5021.9 3107.27,-5021.9 3208.15,-5032.44"/>
<text text-anchor="middle" x="3035.94" y="-5036.2" font-family="Times,serif" font-size="14.00">postgres : Wait for patroni primary online</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_66802427 -->
<g id="edge_e5e64154" class="edge">
<title>role_d68e7a20-&gt;task_66802427</title>
<g id="a_edge_e5e64154"><a xlink:title="60 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1584.6,-5291.7C1594.75,-5241.48 1630.76,-5100.93 1724.24,-5044.9 1819.38,-4987.87 2529.92,-5014.81 2863.25,-5030.9" id="path_edge_e5e64154"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2863.33,-5034.4 2873.49,-5031.39 2863.67,-5027.41 2863.33,-5034.4"/>
</a>
</g>
<g id="a_edge_e5e64154-label"><a xlink:title="60 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e5e64154" text-anchor="middle" startOffset="50%">60 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_66802427"/></links></g>
<!-- task_7715691a -->
<g id="task_7715691a" class="node">
<title>task_7715691a</title>
<g id="a_task_7715691a"><a xlink:title="postgres : Wait for postgres primary online">
<polygon fill="none" stroke="#cb014d" points="3213,-4978.44 3213,-4993.35 3109.28,-5003.9 2962.6,-5003.9 2858.88,-4993.35 2858.88,-4978.44 2962.6,-4967.9 3109.28,-4967.9 3213,-4978.44"/>
<text text-anchor="middle" x="3035.94" y="-4982.2" font-family="Times,serif" font-size="14.00">postgres : Wait for postgres primary online</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_7715691a -->
<g id="edge_e21dd8e8" class="edge">
<title>role_d68e7a20-&gt;task_7715691a</title>
<g id="a_edge_e21dd8e8"><a xlink:title="61 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.89,-5291.89C1588.9,-5235.41 1615.89,-5061.38 1724.24,-4990.9 1817.31,-4930.36 2530.25,-4959.22 2863.83,-4976.36" id="path_edge_e21dd8e8"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2863.91,-4979.86 2874.08,-4976.88 2864.27,-4972.87 2863.91,-4979.86"/>
</a>
</g>
<g id="a_edge_e21dd8e8-label"><a xlink:title="61 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e21dd8e8" text-anchor="middle" startOffset="50%">61 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_7715691a"/></links></g>
<!-- task_117cea2d -->
<g id="task_117cea2d" class="node">
<title>task_117cea2d</title>
<g id="a_task_117cea2d"><a xlink:title="postgres : Check primary postgres service ready">
<polygon fill="none" stroke="#cb014d" points="3231.99,-4924.44 3231.99,-4939.35 3117.14,-4949.9 2954.73,-4949.9 2839.89,-4939.35 2839.89,-4924.44 2954.73,-4913.9 3117.14,-4913.9 3231.99,-4924.44"/>
<text text-anchor="middle" x="3035.94" y="-4928.2" font-family="Times,serif" font-size="14.00">postgres : Check primary postgres service ready</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_117cea2d -->
<g id="edge_b28b778c" class="edge">
<title>role_d68e7a20-&gt;task_117cea2d</title>
<g id="a_edge_b28b778c"><a xlink:title="62 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.63,-5291.56C1583.8,-5228.59 1600.42,-5020.43 1724.24,-4934.9 1815.04,-4872.18 2520.86,-4902.79 2857.47,-4921.3" id="path_edge_b28b778c"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2857.63,-4924.82 2867.81,-4921.87 2858.02,-4917.83 2857.63,-4924.82"/>
</a>
</g>
<g id="a_edge_b28b778c-label"><a xlink:title="62 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b28b778c" text-anchor="middle" startOffset="50%">62 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_117cea2d"/></links></g>
<!-- task_22595075 -->
<g id="task_22595075" class="node">
<title>task_22595075</title>
<g id="a_task_22595075"><a xlink:title="postgres : Check replication connectivity on primary">
<polygon fill="none" stroke="#cb014d" points="3249.66,-4870.44 3249.66,-4885.35 3124.46,-4895.9 2947.41,-4895.9 2822.21,-4885.35 2822.21,-4870.44 2947.41,-4859.9 3124.46,-4859.9 3249.66,-4870.44"/>
<text text-anchor="middle" x="3035.94" y="-4874.2" font-family="Times,serif" font-size="14.00">postgres : Check replication connectivity on primary</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_22595075 -->
<g id="edge_55e863e7" class="edge">
<title>role_d68e7a20-&gt;task_22595075</title>
<g id="a_edge_55e863e7"><a xlink:title="63 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1580.62,-5291.78C1579.11,-5223.33 1584.01,-4979.21 1724.24,-4877.9 1767.43,-4846.7 2449.09,-4861.16 2811.8,-4871.16" id="path_edge_55e863e7"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2811.81,-4874.66 2821.91,-4871.44 2812.01,-4867.66 2811.81,-4874.66"/>
</a>
</g>
<g id="a_edge_55e863e7-label"><a xlink:title="63 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_55e863e7" text-anchor="middle" startOffset="50%">63 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_22595075"/></links></g>
<!-- task_222ffe26 -->
<g id="task_222ffe26" class="node">
<title>task_222ffe26</title>
<g id="a_task_222ffe26"><a xlink:title="postgres : Render init roles sql">
<polygon fill="none" stroke="#cb014d" points="3164.91,-4816.44 3164.91,-4831.35 3089.36,-4841.9 2982.51,-4841.9 2906.96,-4831.35 2906.96,-4816.44 2982.51,-4805.9 3089.36,-4805.9 3164.91,-4816.44"/>
<text text-anchor="middle" x="3035.94" y="-4820.2" font-family="Times,serif" font-size="14.00">postgres : Render init roles sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_222ffe26 -->
<g id="edge_722a628e" class="edge">
<title>role_d68e7a20-&gt;task_222ffe26</title>
<g id="a_edge_722a628e"><a xlink:title="64 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1583.96,-5291.86C1595.95,-5212.67 1648.02,-4897.11 1724.24,-4839.9 1816.15,-4770.91 2579.04,-4800.83 2896.82,-4816.52" id="path_edge_722a628e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2896.86,-4820.03 2907.02,-4817.03 2897.2,-4813.04 2896.86,-4820.03"/>
</a>
</g>
<g id="a_edge_722a628e-label"><a xlink:title="64 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_722a628e" text-anchor="middle" startOffset="50%">64 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_222ffe26"/></links></g>
<!-- task_4da3a199 -->
<g id="task_4da3a199" class="node">
<title>task_4da3a199</title>
<g id="a_task_4da3a199"><a xlink:title="postgres : Render init template sql">
<polygon fill="none" stroke="#cb014d" points="3179.46,-4762.44 3179.46,-4777.35 3095.39,-4787.9 2976.49,-4787.9 2892.41,-4777.35 2892.41,-4762.44 2976.49,-4751.9 3095.39,-4751.9 3179.46,-4762.44"/>
<text text-anchor="middle" x="3035.94" y="-4766.2" font-family="Times,serif" font-size="14.00">postgres : Render init template sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_4da3a199 -->
<g id="edge_45e3494f" class="edge">
<title>role_d68e7a20-&gt;task_4da3a199</title>
<g id="a_edge_45e3494f"><a xlink:title="65 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1583.28,-5291.81C1592.97,-5206.18 1638.72,-4842.88 1724.24,-4776.9 1814.53,-4707.25 2567,-4742.38 2889.32,-4760.91" id="path_edge_45e3494f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2889.48,-4764.42 2899.67,-4761.5 2889.89,-4757.43 2889.48,-4764.42"/>
</a>
</g>
<g id="a_edge_45e3494f-label"><a xlink:title="65 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_45e3494f" text-anchor="middle" startOffset="50%">65 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_4da3a199"/></links></g>
<!-- task_7ab86e45 -->
<g id="task_7ab86e45" class="node">
<title>task_7ab86e45</title>
<g id="a_task_7ab86e45"><a xlink:title="postgres : Render default pg-init scripts">
<polygon fill="none" stroke="#cb014d" points="3199.36,-4708.44 3199.36,-4723.35 3103.63,-4733.9 2968.24,-4733.9 2872.52,-4723.35 2872.52,-4708.44 2968.24,-4697.9 3103.63,-4697.9 3199.36,-4708.44"/>
<text text-anchor="middle" x="3035.94" y="-4712.2" font-family="Times,serif" font-size="14.00">postgres : Render default pg-init scripts</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_7ab86e45 -->
<g id="edge_428f085e" class="edge">
<title>role_d68e7a20-&gt;task_7ab86e45</title>
<g id="a_edge_428f085e"><a xlink:title="66 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.76,-5291.63C1590.44,-5199.82 1629.68,-4790.41 1724.24,-4715.9 1768.14,-4681.31 2516.88,-4699.82 2862.55,-4710.29" id="path_edge_428f085e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2862.56,-4713.79 2872.66,-4710.6 2862.77,-4706.8 2862.56,-4713.79"/>
</a>
</g>
<g id="a_edge_428f085e-label"><a xlink:title="66 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_428f085e" text-anchor="middle" startOffset="50%">66 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_7ab86e45"/></links></g>
<!-- task_8c4213d5 -->
<g id="task_8c4213d5" class="node">
<title>task_8c4213d5</title>
<g id="a_task_8c4213d5"><a xlink:title="postgres : Execute initialization scripts">
<polygon fill="none" stroke="#cb014d" points="3195.82,-4654.44 3195.82,-4669.35 3102.16,-4679.9 2969.71,-4679.9 2876.05,-4669.35 2876.05,-4654.44 2969.71,-4643.9 3102.16,-4643.9 3195.82,-4654.44"/>
<text text-anchor="middle" x="3035.94" y="-4658.2" font-family="Times,serif" font-size="14.00">postgres : Execute initialization scripts</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_8c4213d5 -->
<g id="edge_0902d93b" class="edge">
<title>role_d68e7a20-&gt;task_8c4213d5</title>
<g id="a_edge_0902d93b"><a xlink:title="67 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.48,-5291.71C1588.99,-5196.49 1624.21,-4756.77 1724.24,-4675.9 1811.74,-4605.16 2546.24,-4635.36 2875.89,-4652.76" id="path_edge_0902d93b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2875.84,-4656.26 2886.01,-4653.3 2876.21,-4649.27 2875.84,-4656.26"/>
</a>
</g>
<g id="a_edge_0902d93b-label"><a xlink:title="67 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_0902d93b" text-anchor="middle" startOffset="50%">67 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_8c4213d5"/></links></g>
<!-- task_ddcead1f -->
<g id="task_ddcead1f" class="node">
<title>task_ddcead1f</title>
<g id="a_task_ddcead1f"><a xlink:title="postgres : Check primary instance ready">
<polygon fill="none" stroke="#cb014d" points="3201.98,-4600.44 3201.98,-4615.35 3104.72,-4625.9 2967.16,-4625.9 2869.89,-4615.35 2869.89,-4600.44 2967.16,-4589.9 3104.72,-4589.9 3201.98,-4600.44"/>
<text text-anchor="middle" x="3035.94" y="-4604.2" font-family="Times,serif" font-size="14.00">postgres : Check primary instance ready</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_ddcead1f -->
<g id="edge_3d888f83" class="edge">
<title>role_d68e7a20-&gt;task_ddcead1f</title>
<g id="a_edge_3d888f83"><a xlink:title="68 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.06,-5291.9C1586.64,-5191.48 1614.41,-4701.8 1724.24,-4611.9 1767.37,-4576.6 2512.33,-4592.99 2859.49,-4602.63" id="path_edge_3d888f83"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2859.55,-4606.13 2869.65,-4602.91 2859.75,-4599.13 2859.55,-4606.13"/>
</a>
</g>
<g id="a_edge_3d888f83-label"><a xlink:title="68 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3d888f83" text-anchor="middle" startOffset="50%">68 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_ddcead1f"/></links></g>
<!-- task_b556c01d -->
<g id="task_b556c01d" class="node">
<title>task_b556c01d</title>
<g id="a_task_b556c01d"><a xlink:title="postgres : Add dbsu password to pgpass if exists">
<polygon fill="none" stroke="#cb014d" points="3233.8,-4546.44 3233.8,-4561.35 3117.89,-4571.9 2953.98,-4571.9 2838.07,-4561.35 2838.07,-4546.44 2953.98,-4535.9 3117.89,-4535.9 3233.8,-4546.44"/>
<text text-anchor="middle" x="3035.94" y="-4550.2" font-family="Times,serif" font-size="14.00">postgres : Add dbsu password to pgpass if exists</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_b556c01d -->
<g id="edge_d82ae024" class="edge">
<title>role_d68e7a20-&gt;task_b556c01d</title>
<g id="a_edge_d82ae024"><a xlink:title="69 [when: not no_cmdb|bool and patroni_enabled|bool and pg_dbsu_password is defined and pg_dbsu_password != '']">
<path fill="none" stroke="#cb014d" d="M1581.86,-5291.9C1585.41,-5188.12 1608.83,-4667.4 1724.24,-4570.9 1808.53,-4500.43 2511.47,-4526.6 2851.76,-4543.71" id="path_edge_d82ae024"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2851.8,-4547.22 2861.97,-4544.23 2852.16,-4540.23 2851.8,-4547.22"/>
</a>
</g>
<g id="a_edge_d82ae024-label"><a xlink:title="69 [when: not no_cmdb|bool and patroni_enabled|bool and pg_dbsu_password is defined and pg_dbsu_password != '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_d82ae024" text-anchor="middle" startOffset="50%">69 [when: not no_cmdb|bool and patroni_enabled|bool and pg_dbsu_password is defined and pg_dbsu_password != '']</textPath></text>
</a>
</g>
<links><link target="task_b556c01d"/></links></g>
<!-- task_3e58d6a5 -->
<g id="task_3e58d6a5" class="node">
<title>task_3e58d6a5</title>
<g id="a_task_3e58d6a5"><a xlink:title="postgres : Add system user to pgpass">
<polygon fill="none" stroke="#cb014d" points="3189.16,-4492.44 3189.16,-4507.35 3099.4,-4517.9 2972.47,-4517.9 2882.71,-4507.35 2882.71,-4492.44 2972.47,-4481.9 3099.4,-4481.9 3189.16,-4492.44"/>
<text text-anchor="middle" x="3035.94" y="-4496.2" font-family="Times,serif" font-size="14.00">postgres : Add system user to pgpass</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_3e58d6a5 -->
<g id="edge_6e25148f" class="edge">
<title>role_d68e7a20-&gt;task_3e58d6a5</title>
<g id="a_edge_6e25148f"><a xlink:title="70 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.55,-5291.74C1583.33,-5182.2 1598.66,-4610.56 1724.24,-4504.9 1767.43,-4468.56 2531.15,-4485.55 2872.45,-4495.03" id="path_edge_6e25148f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2872.58,-4498.54 2882.67,-4495.32 2872.78,-4491.54 2872.58,-4498.54"/>
</a>
</g>
<g id="a_edge_6e25148f-label"><a xlink:title="70 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6e25148f" text-anchor="middle" startOffset="50%">70 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_3e58d6a5"/></links></g>
<!-- task_605eb9f8 -->
<g id="task_605eb9f8" class="node">
<title>task_605eb9f8</title>
<g id="a_task_605eb9f8"><a xlink:title="postgres : Check replication connectivity to primary">
<polygon fill="none" stroke="#cb014d" points="3247.44,-4438.44 3247.44,-4453.35 3123.54,-4463.9 2948.33,-4463.9 2824.43,-4453.35 2824.43,-4438.44 2948.33,-4427.9 3123.54,-4427.9 3247.44,-4438.44"/>
<text text-anchor="middle" x="3035.94" y="-4442.2" font-family="Times,serif" font-size="14.00">postgres : Check replication connectivity to primary</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_605eb9f8 -->
<g id="edge_9942c56d" class="edge">
<title>role_d68e7a20-&gt;task_605eb9f8</title>
<g id="a_edge_9942c56d"><a xlink:title="71 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.39,-5291.56C1582.25,-5178.33 1593.01,-4575.31 1724.24,-4462.9 1807.22,-4391.82 2503.3,-4417.82 2845.93,-4435.24" id="path_edge_9942c56d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2845.8,-4438.74 2855.96,-4435.76 2846.15,-4431.75 2845.8,-4438.74"/>
</a>
</g>
<g id="a_edge_9942c56d-label"><a xlink:title="71 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9942c56d" text-anchor="middle" startOffset="50%">71 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_605eb9f8"/></links></g>
<!-- task_0abe1ae9 -->
<g id="task_0abe1ae9" class="node">
<title>task_0abe1ae9</title>
<g id="a_task_0abe1ae9"><a xlink:title="postgres : Launch patroni on replica instances">
<polygon fill="none" stroke="#cb014d" points="3223.19,-4384.44 3223.19,-4399.35 3113.5,-4409.9 2958.37,-4409.9 2848.68,-4399.35 2848.68,-4384.44 2958.37,-4373.9 3113.5,-4373.9 3223.19,-4384.44"/>
<text text-anchor="middle" x="3035.94" y="-4388.2" font-family="Times,serif" font-size="14.00">postgres : Launch patroni on replica instances</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_0abe1ae9 -->
<g id="edge_5a3caabc" class="edge">
<title>role_d68e7a20-&gt;task_0abe1ae9</title>
<g id="a_edge_5a3caabc"><a xlink:title="72 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.13,-5291.66C1580.34,-5173.53 1582.42,-4517.64 1724.24,-4395.9 1765.7,-4360.31 2482.91,-4375.88 2838.41,-4385.87" id="path_edge_5a3caabc"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2838.47,-4389.37 2848.57,-4386.15 2838.67,-4382.37 2838.47,-4389.37"/>
</a>
</g>
<g id="a_edge_5a3caabc-label"><a xlink:title="72 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_5a3caabc" text-anchor="middle" startOffset="50%">72 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_0abe1ae9"/></links></g>
<!-- task_99990c62 -->
<g id="task_99990c62" class="node">
<title>task_99990c62</title>
<g id="a_task_99990c62"><a xlink:title="postgres : Wait for patroni replica online">
<polygon fill="none" stroke="#cb014d" points="3204.21,-4330.44 3204.21,-4345.35 3105.64,-4355.9 2966.24,-4355.9 2867.67,-4345.35 2867.67,-4330.44 2966.24,-4319.9 3105.64,-4319.9 3204.21,-4330.44"/>
<text text-anchor="middle" x="3035.94" y="-4334.2" font-family="Times,serif" font-size="14.00">postgres : Wait for patroni replica online</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_99990c62 -->
<g id="edge_9ea4cbcb" class="edge">
<title>role_d68e7a20-&gt;task_99990c62</title>
<g id="a_edge_9ea4cbcb"><a xlink:title="73 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.01,-5291.64C1579.38,-5170.4 1576.75,-4482.55 1724.24,-4353.9 1808.71,-4280.22 2539.5,-4310.47 2871.74,-4328.32" id="path_edge_9ea4cbcb"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2871.76,-4331.83 2881.93,-4328.87 2872.14,-4324.84 2871.76,-4331.83"/>
</a>
</g>
<g id="a_edge_9ea4cbcb-label"><a xlink:title="73 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9ea4cbcb" text-anchor="middle" startOffset="50%">73 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_99990c62"/></links></g>
<!-- task_22599316 -->
<g id="task_22599316" class="node">
<title>task_22599316</title>
<g id="a_task_22599316"><a xlink:title="postgres : Wait for postgres replica online">
<polygon fill="none" stroke="#cb014d" points="3208.15,-4276.44 3208.15,-4291.35 3107.27,-4301.9 2964.6,-4301.9 2863.72,-4291.35 2863.72,-4276.44 2964.6,-4265.9 3107.27,-4265.9 3208.15,-4276.44"/>
<text text-anchor="middle" x="3035.94" y="-4280.2" font-family="Times,serif" font-size="14.00">postgres : Wait for postgres replica online</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_22599316 -->
<g id="edge_3e0fde8d" class="edge">
<title>role_d68e7a20-&gt;task_22599316</title>
<g id="a_edge_3e0fde8d"><a xlink:title="74 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.44,-5291.77C1590.78,-5160.31 1644.84,-4356.14 1724.24,-4286.9 1766.01,-4250.48 2503.35,-4267.76 2853.34,-4278.09" id="path_edge_3e0fde8d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2853.48,-4281.6 2863.58,-4278.4 2853.69,-4274.6 2853.48,-4281.6"/>
</a>
</g>
<g id="a_edge_3e0fde8d-label"><a xlink:title="74 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3e0fde8d" text-anchor="middle" startOffset="50%">74 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_22599316"/></links></g>
<!-- task_ef8350ed -->
<g id="task_ef8350ed" class="node">
<title>task_ef8350ed</title>
<g id="a_task_ef8350ed"><a xlink:title="postgres : Check replica postgres service ready">
<polygon fill="none" stroke="#cb014d" points="3227.14,-4222.44 3227.14,-4237.35 3115.13,-4247.9 2956.74,-4247.9 2844.74,-4237.35 2844.74,-4222.44 2956.74,-4211.9 3115.13,-4211.9 3227.14,-4222.44"/>
<text text-anchor="middle" x="3035.94" y="-4226.2" font-family="Times,serif" font-size="14.00">postgres : Check replica postgres service ready</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_ef8350ed -->
<g id="edge_0ae50fa9" class="edge">
<title>role_d68e7a20-&gt;task_ef8350ed</title>
<g id="a_edge_0ae50fa9"><a xlink:title="75 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1582.34,-5291.9C1590.12,-5157.82 1641.99,-4317.69 1724.24,-4244.9 1807.21,-4171.48 2522.35,-4201.08 2859.91,-4219.45" id="path_edge_0ae50fa9"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2860.1,-4222.97 2870.28,-4220.02 2860.48,-4215.98 2860.1,-4222.97"/>
</a>
</g>
<g id="a_edge_0ae50fa9-label"><a xlink:title="75 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_0ae50fa9" text-anchor="middle" startOffset="50%">75 [when: not no_cmdb|bool and patroni_enabled|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_ef8350ed"/></links></g>
<!-- task_c4a343b2 -->
<g id="task_c4a343b2" class="node">
<title>task_c4a343b2</title>
<g id="a_task_c4a343b2"><a xlink:title="postgres : Render hba rules">
<polygon fill="none" stroke="#cb014d" points="3152.09,-4168.44 3152.09,-4183.35 3084.05,-4193.9 2987.82,-4193.9 2919.78,-4183.35 2919.78,-4168.44 2987.82,-4157.9 3084.05,-4157.9 3152.09,-4168.44"/>
<text text-anchor="middle" x="3035.94" y="-4172.2" font-family="Times,serif" font-size="14.00">postgres : Render hba rules</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c4a343b2 -->
<g id="edge_e8396cb8" class="edge">
<title>role_d68e7a20-&gt;task_c4a343b2</title>
<g id="a_edge_e8396cb8"><a xlink:title="76 [when: not no_cmdb|bool and patroni_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1582.19,-5291.67C1589.09,-5152.02 1636.64,-4255.26 1724.24,-4177.9 1768.17,-4139.11 2590.21,-4161.46 2909.56,-4171.66" id="path_edge_e8396cb8"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2909.67,-4175.17 2919.78,-4171.99 2909.9,-4168.17 2909.67,-4175.17"/>
</a>
</g>
<g id="a_edge_e8396cb8-label"><a xlink:title="76 [when: not no_cmdb|bool and patroni_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e8396cb8" text-anchor="middle" startOffset="50%">76 [when: not no_cmdb|bool and patroni_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_c4a343b2"/></links></g>
<!-- task_8d19ae7f -->
<g id="task_8d19ae7f" class="node">
<title>task_8d19ae7f</title>
<g id="a_task_8d19ae7f"><a xlink:title="postgres : Reload hba rules">
<polygon fill="none" stroke="#cb014d" points="3151.18,-4114.44 3151.18,-4129.35 3083.67,-4139.9 2988.2,-4139.9 2920.69,-4129.35 2920.69,-4114.44 2988.2,-4103.9 3083.67,-4103.9 3151.18,-4114.44"/>
<text text-anchor="middle" x="3035.94" y="-4118.2" font-family="Times,serif" font-size="14.00">postgres : Reload hba rules</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_8d19ae7f -->
<g id="edge_05e0cb1b" class="edge">
<title>role_d68e7a20-&gt;task_8d19ae7f</title>
<g id="a_edge_05e0cb1b"><a xlink:title="77 [when: not no_cmdb|bool and patroni_enabled|bool and pg_reload|bool]">
<path fill="none" stroke="#cb014d" d="M1582.13,-5291.47C1588.59,-5148.36 1633.99,-4217.75 1724.24,-4136.9 1811.13,-4059.06 2599.69,-4096.29 2910.16,-4114.19" id="path_edge_05e0cb1b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2910.36,-4117.71 2920.55,-4114.8 2910.77,-4110.72 2910.36,-4117.71"/>
</a>
</g>
<g id="a_edge_05e0cb1b-label"><a xlink:title="77 [when: not no_cmdb|bool and patroni_enabled|bool and pg_reload|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_05e0cb1b" text-anchor="middle" startOffset="50%">77 [when: not no_cmdb|bool and patroni_enabled|bool and pg_reload|bool]</textPath></text>
</a>
</g>
<links><link target="task_8d19ae7f"/></links></g>
<!-- task_7d10d1a8 -->
<g id="task_7d10d1a8" class="node">
<title>task_7d10d1a8</title>
<g id="a_task_7d10d1a8"><a xlink:title="postgres : Pause patroni">
<polygon fill="none" stroke="#cb014d" points="3138.86,-4060.44 3138.86,-4075.35 3078.57,-4085.9 2993.31,-4085.9 2933.02,-4075.35 2933.02,-4060.44 2993.31,-4049.9 3078.57,-4049.9 3138.86,-4060.44"/>
<text text-anchor="middle" x="3035.94" y="-4064.2" font-family="Times,serif" font-size="14.00">postgres : Pause patroni</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_7d10d1a8 -->
<g id="edge_48ccded0" class="edge">
<title>role_d68e7a20-&gt;task_7d10d1a8</title>
<g id="a_edge_48ccded0"><a xlink:title="78 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'pause' and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.98,-5291.83C1587.53,-5145.36 1628.46,-4155.41 1724.24,-4069.9 1768.58,-4030.32 2613.64,-4054.02 2922.84,-4064.06" id="path_edge_48ccded0"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2923.05,-4067.57 2933.16,-4064.4 2923.28,-4060.58 2923.05,-4067.57"/>
</a>
</g>
<g id="a_edge_48ccded0-label"><a xlink:title="78 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'pause' and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_48ccded0" text-anchor="middle" startOffset="50%">78 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'pause' and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_7d10d1a8"/></links></g>
<!-- task_e7b994af -->
<g id="task_e7b994af" class="node">
<title>task_e7b994af</title>
<g id="a_task_e7b994af"><a xlink:title="postgres : Stop patroni on replica instance">
<polygon fill="none" stroke="#cb014d" points="3208.15,-4006.44 3208.15,-4021.35 3107.27,-4031.9 2964.6,-4031.9 2863.72,-4021.35 2863.72,-4006.44 2964.6,-3995.9 3107.27,-3995.9 3208.15,-4006.44"/>
<text text-anchor="middle" x="3035.94" y="-4010.2" font-family="Times,serif" font-size="14.00">postgres : Stop patroni on replica instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e7b994af -->
<g id="edge_566bed10" class="edge">
<title>role_d68e7a20-&gt;task_e7b994af</title>
<g id="a_edge_566bed10"><a xlink:title="79 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.92,-5291.71C1587.06,-5142.03 1625.73,-4116.99 1724.24,-4027.9 1807.45,-3952.64 2540.26,-3985.03 2872.46,-4003.87" id="path_edge_566bed10"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2872.47,-4007.37 2882.66,-4004.45 2872.87,-4000.38 2872.47,-4007.37"/>
</a>
</g>
<g id="a_edge_566bed10-label"><a xlink:title="79 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_566bed10" text-anchor="middle" startOffset="50%">79 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_e7b994af"/></links></g>
<!-- task_5affb5c4 -->
<g id="task_5affb5c4" class="node">
<title>task_5affb5c4</title>
<g id="a_task_5affb5c4"><a xlink:title="postgres : Stop patroni on primary instance">
<polygon fill="none" stroke="#cb014d" points="3213,-3952.44 3213,-3967.35 3109.28,-3977.9 2962.6,-3977.9 2858.88,-3967.35 2858.88,-3952.44 2962.6,-3941.9 3109.28,-3941.9 3213,-3952.44"/>
<text text-anchor="middle" x="3035.94" y="-3956.2" font-family="Times,serif" font-size="14.00">postgres : Stop patroni on primary instance</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_5affb5c4 -->
<g id="edge_38d3714d" class="edge">
<title>role_d68e7a20-&gt;task_5affb5c4</title>
<g id="a_edge_38d3714d"><a xlink:title="80 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.81,-5291.74C1586.14,-5137.77 1620.21,-4054.56 1724.24,-3960.9 1765.25,-3923.98 2496.89,-3942.44 2848.81,-3953.55" id="path_edge_38d3714d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2848.75,-3957.05 2858.85,-3953.87 2848.97,-3950.05 2848.75,-3957.05"/>
</a>
</g>
<g id="a_edge_38d3714d-label"><a xlink:title="80 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_38d3714d" text-anchor="middle" startOffset="50%">80 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_5affb5c4"/></links></g>
<!-- task_e9e95a18 -->
<g id="task_e9e95a18" class="node">
<title>task_e9e95a18</title>
<g id="a_task_e9e95a18"><a xlink:title="postgres : Launch raw postgres on primary">
<polygon fill="none" stroke="#cb014d" points="3212.59,-3898.44 3212.59,-3913.35 3109.11,-3923.9 2962.76,-3923.9 2859.28,-3913.35 2859.28,-3898.44 2962.76,-3887.9 3109.11,-3887.9 3212.59,-3898.44"/>
<text text-anchor="middle" x="3035.94" y="-3902.2" font-family="Times,serif" font-size="14.00">postgres : Launch raw postgres on primary</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e9e95a18 -->
<g id="edge_93c78914" class="edge">
<title>role_d68e7a20-&gt;task_e9e95a18</title>
<g id="a_edge_93c78914"><a xlink:title="81 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.76,-5291.69C1585.71,-5134.98 1617.6,-4017.17 1724.24,-3919.9 1806.95,-3844.46 2536.89,-3876.72 2870.22,-3895.69" id="path_edge_93c78914"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2870.26,-3899.19 2880.45,-3896.27 2870.66,-3892.21 2870.26,-3899.19"/>
</a>
</g>
<g id="a_edge_93c78914-label"><a xlink:title="81 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_93c78914" text-anchor="middle" startOffset="50%">81 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_e9e95a18"/></links></g>
<!-- task_8b1f9314 -->
<g id="task_8b1f9314" class="node">
<title>task_8b1f9314</title>
<g id="a_task_8b1f9314"><a xlink:title="postgres : Launch raw postgres on replicas">
<polygon fill="none" stroke="#cb014d" points="3211.28,-3844.44 3211.28,-3859.35 3108.56,-3869.9 2963.31,-3869.9 2860.6,-3859.35 2860.6,-3844.44 2963.31,-3833.9 3108.56,-3833.9 3211.28,-3844.44"/>
<text text-anchor="middle" x="3035.94" y="-3848.2" font-family="Times,serif" font-size="14.00">postgres : Launch raw postgres on replicas</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_8b1f9314 -->
<g id="edge_13aa3c23" class="edge">
<title>role_d68e7a20-&gt;task_8b1f9314</title>
<g id="a_edge_13aa3c23"><a xlink:title="82 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role != 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.66,-5291.83C1584.85,-5131.43 1612.01,-3954.74 1724.24,-3852.9 1765.17,-3815.76 2499.15,-3834.42 2850.47,-3845.58" id="path_edge_13aa3c23"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.38,-3849.08 2860.49,-3845.9 2850.61,-3842.08 2850.38,-3849.08"/>
</a>
</g>
<g id="a_edge_13aa3c23-label"><a xlink:title="82 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_13aa3c23" text-anchor="middle" startOffset="50%">82 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove' and pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_8b1f9314"/></links></g>
<!-- task_bee20f0a -->
<g id="task_bee20f0a" class="node">
<title>task_bee20f0a</title>
<g id="a_task_bee20f0a"><a xlink:title="postgres : Wait for postgres online">
<polygon fill="none" stroke="#cb014d" points="3180.37,-3790.44 3180.37,-3805.35 3095.76,-3815.9 2976.11,-3815.9 2891.5,-3805.35 2891.5,-3790.44 2976.11,-3779.9 3095.76,-3779.9 3180.37,-3790.44"/>
<text text-anchor="middle" x="3035.94" y="-3794.2" font-family="Times,serif" font-size="14.00">postgres : Wait for postgres online</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_bee20f0a -->
<g id="edge_36c7aef9" class="edge">
<title>role_d68e7a20-&gt;task_bee20f0a</title>
<g id="a_edge_36c7aef9"><a xlink:title="83 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove']">
<path fill="none" stroke="#cb014d" d="M1581.61,-5291.84C1584.44,-5128.91 1609.31,-3916.44 1724.24,-3810.9 1808.39,-3733.63 2567.07,-3769.59 2890.23,-3788.68" id="path_edge_36c7aef9"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2890.41,-3792.2 2900.6,-3789.3 2890.82,-3785.21 2890.41,-3792.2"/>
</a>
</g>
<g id="a_edge_36c7aef9-label"><a xlink:title="83 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_36c7aef9" text-anchor="middle" startOffset="50%">83 [when: not no_cmdb|bool and patroni_enabled|bool and patroni_mode == 'remove']</textPath></text>
</a>
</g>
<links><link target="task_bee20f0a"/></links></g>
<!-- task_a9840015 -->
<g id="task_a9840015" class="node">
<title>task_a9840015</title>
<g id="a_task_a9840015"><a xlink:title="postgres : Check pgbouncer is installed">
<polygon fill="none" stroke="#cb014d" points="3197.54,-3736.44 3197.54,-3751.35 3102.88,-3761.9 2969,-3761.9 2874.33,-3751.35 2874.33,-3736.44 2969,-3725.9 3102.88,-3725.9 3197.54,-3736.44"/>
<text text-anchor="middle" x="3035.94" y="-3740.2" font-family="Times,serif" font-size="14.00">postgres : Check pgbouncer is installed</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_a9840015 -->
<g id="edge_e4dbc38b" class="edge">
<title>role_d68e7a20-&gt;task_a9840015</title>
<g id="a_edge_e4dbc38b"><a xlink:title="84 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.53,-5291.82C1583.65,-5124.75 1603.71,-3853.93 1724.24,-3743.9 1765.6,-3706.14 2518.49,-3726.46 2864.09,-3737.86" id="path_edge_e4dbc38b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2864.08,-3741.36 2874.19,-3738.19 2864.31,-3734.36 2864.08,-3741.36"/>
</a>
</g>
<g id="a_edge_e4dbc38b-label"><a xlink:title="84 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e4dbc38b" text-anchor="middle" startOffset="50%">84 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_a9840015"/></links></g>
<!-- task_0dc0f9a7 -->
<g id="task_0dc0f9a7" class="node">
<title>task_0dc0f9a7</title>
<g id="a_task_0dc0f9a7"><a xlink:title="postgres : Stop existing pgbouncer service">
<polygon fill="none" stroke="#cb014d" points="3209.46,-3682.44 3209.46,-3697.35 3107.81,-3707.9 2964.06,-3707.9 2862.41,-3697.35 2862.41,-3682.44 2964.06,-3671.9 3107.81,-3671.9 3209.46,-3682.44"/>
<text text-anchor="middle" x="3035.94" y="-3686.2" font-family="Times,serif" font-size="14.00">postgres : Stop existing pgbouncer service</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_0dc0f9a7 -->
<g id="edge_55c7a9d2" class="edge">
<title>role_d68e7a20-&gt;task_0dc0f9a7</title>
<g id="a_edge_55c7a9d2"><a xlink:title="85 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.49,-5291.89C1583.29,-5122.73 1601.14,-3816.66 1724.24,-3702.9 1806.71,-3626.68 2541.26,-3660.27 2873.27,-3679.65" id="path_edge_55c7a9d2"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2873.27,-3683.15 2883.46,-3680.24 2873.68,-3676.16 2873.27,-3683.15"/>
</a>
</g>
<g id="a_edge_55c7a9d2-label"><a xlink:title="85 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_55c7a9d2" text-anchor="middle" startOffset="50%">85 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_0dc0f9a7"/></links></g>
<!-- task_9e621a18 -->
<g id="task_9e621a18" class="node">
<title>task_9e621a18</title>
<g id="a_task_9e621a18"><a xlink:title="postgres : Remove existing pgbouncer dirs">
<polygon fill="none" stroke="#cb014d" points="3211.68,-3628.44 3211.68,-3643.35 3108.73,-3653.9 2963.14,-3653.9 2860.19,-3643.35 2860.19,-3628.44 2963.14,-3617.9 3108.73,-3617.9 3211.68,-3628.44"/>
<text text-anchor="middle" x="3035.94" y="-3632.2" font-family="Times,serif" font-size="14.00">postgres : Remove existing pgbouncer dirs</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_9e621a18 -->
<g id="edge_01f84e87" class="edge">
<title>role_d68e7a20-&gt;task_9e621a18</title>
<g id="a_edge_01f84e87"><a xlink:title="86 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.42,-5291.68C1582.55,-5117.71 1595.54,-3754.08 1724.24,-3635.9 1764.94,-3598.53 2498.58,-3617.87 2850.09,-3629.38" id="path_edge_01f84e87"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2850.01,-3632.88 2860.12,-3629.71 2850.24,-3625.88 2850.01,-3632.88"/>
</a>
</g>
<g id="a_edge_01f84e87-label"><a xlink:title="86 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_01f84e87" text-anchor="middle" startOffset="50%">86 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_9e621a18"/></links></g>
<!-- task_01839977 -->
<g id="task_01839977" class="node">
<title>task_01839977</title>
<g id="a_task_01839977"><a xlink:title="postgres : Recreate dirs with owner postgres">
<polygon fill="none" stroke="#cb014d" points="3217.44,-3574.44 3217.44,-3589.35 3111.12,-3599.9 2960.76,-3599.9 2854.43,-3589.35 2854.43,-3574.44 2960.76,-3563.9 3111.12,-3563.9 3217.44,-3574.44"/>
<text text-anchor="middle" x="3035.94" y="-3578.2" font-family="Times,serif" font-size="14.00">postgres : Recreate dirs with owner postgres</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_01839977 -->
<g id="edge_d62c941e" class="edge">
<title>role_d68e7a20-&gt;task_01839977</title>
<g id="a_edge_d62c941e"><a xlink:title="87 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.38,-5291.79C1582.22,-5116.02 1593,-3716.87 1724.24,-3594.9 1806.14,-3518.79 2534.73,-3551.87 2868.84,-3571.35" id="path_edge_d62c941e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2868.91,-3574.86 2879.1,-3571.96 2869.32,-3567.88 2868.91,-3574.86"/>
</a>
</g>
<g id="a_edge_d62c941e-label"><a xlink:title="87 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_d62c941e" text-anchor="middle" startOffset="50%">87 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_01839977"/></links></g>
<!-- task_4a43afd7 -->
<g id="task_4a43afd7" class="node">
<title>task_4a43afd7</title>
<g id="a_task_4a43afd7"><a xlink:title="postgres : Copy /etc/pgbouncer/pgbouncer.ini">
<polygon fill="none" stroke="#cb014d" points="3221.88,-3520.44 3221.88,-3535.35 3112.96,-3545.9 2958.92,-3545.9 2849.99,-3535.35 2849.99,-3520.44 2958.92,-3509.9 3112.96,-3509.9 3221.88,-3520.44"/>
<text text-anchor="middle" x="3035.94" y="-3524.2" font-family="Times,serif" font-size="14.00">postgres : Copy /etc/pgbouncer/pgbouncer.ini</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_4a43afd7 -->
<g id="edge_12eee7d4" class="edge">
<title>role_d68e7a20-&gt;task_4a43afd7</title>
<g id="a_edge_12eee7d4"><a xlink:title="88 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.32,-5291.65C1581.51,-5111.41 1587.33,-3654.27 1724.24,-3527.9 1764.46,-3490.78 2484.57,-3509.46 2839.89,-3521.03" id="path_edge_12eee7d4"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2839.92,-3524.53 2850.03,-3521.36 2840.15,-3517.53 2839.92,-3524.53"/>
</a>
</g>
<g id="a_edge_12eee7d4-label"><a xlink:title="88 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_12eee7d4" text-anchor="middle" startOffset="50%">88 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_4a43afd7"/></links></g>
<!-- task_c7e9e838 -->
<g id="task_c7e9e838" class="node">
<title>task_c7e9e838</title>
<g id="a_task_c7e9e838"><a xlink:title="postgres : Copy /etc/pgbouncer/pgb_hba.conf">
<polygon fill="none" stroke="#cb014d" points="3221.88,-3466.44 3221.88,-3481.35 3112.96,-3491.9 2958.92,-3491.9 2849.99,-3481.35 2849.99,-3466.44 2958.92,-3455.9 3112.96,-3455.9 3221.88,-3466.44"/>
<text text-anchor="middle" x="3035.94" y="-3470.2" font-family="Times,serif" font-size="14.00">postgres : Copy /etc/pgbouncer/pgb_hba.conf</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c7e9e838 -->
<g id="edge_6a6eb36f" class="edge">
<title>role_d68e7a20-&gt;task_c7e9e838</title>
<g id="a_edge_6a6eb36f"><a xlink:title="89 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.29,-5291.81C1581.21,-5110.05 1584.81,-3617.11 1724.24,-3486.9 1805.77,-3410.76 2531.44,-3443.63 2866.6,-3463.19" id="path_edge_6a6eb36f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2866.7,-3466.7 2876.89,-3463.8 2867.11,-3459.72 2866.7,-3466.7"/>
</a>
</g>
<g id="a_edge_6a6eb36f-label"><a xlink:title="89 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6a6eb36f" text-anchor="middle" startOffset="50%">89 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_c7e9e838"/></links></g>
<!-- task_97d7f9b7 -->
<g id="task_97d7f9b7" class="node">
<title>task_97d7f9b7</title>
<g id="a_task_97d7f9b7"><a xlink:title="postgres : Touch userlist and database list">
<polygon fill="none" stroke="#cb014d" points="3207.74,-3412.44 3207.74,-3427.35 3107.1,-3437.9 2964.77,-3437.9 2864.13,-3427.35 2864.13,-3412.44 2964.77,-3401.9 3107.1,-3401.9 3207.74,-3412.44"/>
<text text-anchor="middle" x="3035.94" y="-3416.2" font-family="Times,serif" font-size="14.00">postgres : Touch userlist and database list</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_97d7f9b7 -->
<g id="edge_93a6916f" class="edge">
<title>role_d68e7a20-&gt;task_97d7f9b7</title>
<g id="a_edge_93a6916f"><a xlink:title="90 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.23,-5291.72C1580.53,-5105.86 1579.09,-3554.49 1724.24,-3419.9 1764.9,-3382.2 2503.75,-3401.92 2853.82,-3413.47" id="path_edge_93a6916f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2853.95,-3416.97 2864.06,-3413.81 2854.18,-3409.98 2853.95,-3416.97"/>
</a>
</g>
<g id="a_edge_93a6916f-label"><a xlink:title="90 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_93a6916f" text-anchor="middle" startOffset="50%">90 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_97d7f9b7"/></links></g>
<!-- task_6cbf97fa -->
<g id="task_6cbf97fa" class="node">
<title>task_6cbf97fa</title>
<g id="a_task_6cbf97fa"><a xlink:title="postgres : Add default users to pgbouncer">
<polygon fill="none" stroke="#cb014d" points="3206.83,-3358.44 3206.83,-3373.35 3106.72,-3383.9 2965.15,-3383.9 2865.04,-3373.35 2865.04,-3358.44 2965.15,-3347.9 3106.72,-3347.9 3206.83,-3358.44"/>
<text text-anchor="middle" x="3035.94" y="-3362.2" font-family="Times,serif" font-size="14.00">postgres : Add default users to pgbouncer</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_6cbf97fa -->
<g id="edge_821252c3" class="edge">
<title>role_d68e7a20-&gt;task_6cbf97fa</title>
<g id="a_edge_821252c3"><a xlink:title="91 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.21,-5291.62C1580.24,-5103.07 1576.55,-3516.34 1724.24,-3377.9 1764.74,-3339.94 2505.06,-3352.88 2854.78,-3361.17" id="path_edge_821252c3"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2854.93,-3364.68 2865.01,-3361.42 2855.1,-3357.68 2854.93,-3364.68"/>
</a>
</g>
<g id="a_edge_821252c3-label"><a xlink:title="91 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_821252c3" text-anchor="middle" startOffset="50%">91 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_6cbf97fa"/></links></g>
<!-- task_21299973 -->
<g id="task_21299973" class="node">
<title>task_21299973</title>
<g id="a_task_21299973"><a xlink:title="postgres : Init pgbouncer business database list">
<polygon fill="none" stroke="#cb014d" points="3227.14,-3304.44 3227.14,-3319.35 3115.13,-3329.9 2956.74,-3329.9 2844.74,-3319.35 2844.74,-3304.44 2956.74,-3293.9 3115.13,-3293.9 3227.14,-3304.44"/>
<text text-anchor="middle" x="3035.94" y="-3308.2" font-family="Times,serif" font-size="14.00">postgres : Init pgbouncer business database list</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_21299973 -->
<g id="edge_f4e5c776" class="edge">
<title>role_d68e7a20-&gt;task_21299973</title>
<g id="a_edge_f4e5c776"><a xlink:title="92 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.18,-5291.8C1579.92,-5101.7 1573.58,-3475.33 1724.24,-3332.9 1804.59,-3256.94 2518.35,-3284.21 2857.47,-3301.75" id="path_edge_f4e5c776"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2857.48,-3305.25 2867.65,-3302.28 2857.84,-3298.26 2857.48,-3305.25"/>
</a>
</g>
<g id="a_edge_f4e5c776-label"><a xlink:title="92 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_f4e5c776" text-anchor="middle" startOffset="50%">92 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_21299973"/></links></g>
<!-- task_5c4734e4 -->
<g id="task_5c4734e4" class="node">
<title>task_5c4734e4</title>
<g id="a_task_5c4734e4"><a xlink:title="postgres : Init pgbouncer business user list">
<polygon fill="none" stroke="#cb014d" points="3210.37,-3250.44 3210.37,-3265.35 3108.19,-3275.9 2963.68,-3275.9 2861.5,-3265.35 2861.5,-3250.44 2963.68,-3239.9 3108.19,-3239.9 3210.37,-3250.44"/>
<text text-anchor="middle" x="3035.94" y="-3254.2" font-family="Times,serif" font-size="14.00">postgres : Init pgbouncer business user list</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_5c4734e4 -->
<g id="edge_6b1319b9" class="edge">
<title>role_d68e7a20-&gt;task_5c4734e4</title>
<g id="a_edge_6b1319b9"><a xlink:title="93 [when: not no_cmdb|bool and pgbouncer_enabled|bool and user.pgbouncer is defined and user.pgbouncer|bool]">
<path fill="none" stroke="#cb014d" d="M1581.89,-5291.65C1588.16,-5092.91 1645.74,-3336.4 1724.24,-3262.9 1764.63,-3225.09 2500.28,-3241.85 2851.37,-3252.08" id="path_edge_6b1319b9"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2851.29,-3255.58 2861.39,-3252.37 2851.5,-3248.58 2851.29,-3255.58"/>
</a>
</g>
<g id="a_edge_6b1319b9-label"><a xlink:title="93 [when: not no_cmdb|bool and pgbouncer_enabled|bool and user.pgbouncer is defined and user.pgbouncer|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6b1319b9" text-anchor="middle" startOffset="50%">93 [when: not no_cmdb|bool and pgbouncer_enabled|bool and user.pgbouncer is defined and user.pgbouncer|bool]</textPath></text>
</a>
</g>
<links><link target="task_5c4734e4"/></links></g>
<!-- task_04407848 -->
<g id="task_04407848" class="node">
<title>task_04407848</title>
<g id="a_task_04407848"><a xlink:title="postgres : Copy pgbouncer systemd service">
<polygon fill="none" stroke="#cb014d" points="3214.81,-3196.44 3214.81,-3211.35 3110.03,-3221.9 2961.84,-3221.9 2857.06,-3211.35 2857.06,-3196.44 2961.84,-3185.9 3110.03,-3185.9 3214.81,-3196.44"/>
<text text-anchor="middle" x="3035.94" y="-3200.2" font-family="Times,serif" font-size="14.00">postgres : Copy pgbouncer systemd service</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_04407848 -->
<g id="edge_7b5b60eb" class="edge">
<title>role_d68e7a20-&gt;task_04407848</title>
<g id="a_edge_7b5b60eb"><a xlink:title="94 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.85,-5291.89C1587.9,-5092.1 1644.38,-3295.4 1724.24,-3219.9 1805.49,-3143.09 2534.43,-3174.78 2868.74,-3193.65" id="path_edge_7b5b60eb"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2868.82,-3197.16 2879,-3194.23 2869.21,-3190.17 2868.82,-3197.16"/>
</a>
</g>
<g id="a_edge_7b5b60eb-label"><a xlink:title="94 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_7b5b60eb" text-anchor="middle" startOffset="50%">94 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_04407848"/></links></g>
<!-- task_167f886d -->
<g id="task_167f886d" class="node">
<title>task_167f886d</title>
<g id="a_task_167f886d"><a xlink:title="postgres : Launch pgbouncer pool service">
<polygon fill="none" stroke="#cb014d" points="3207.74,-3142.44 3207.74,-3157.35 3107.1,-3167.9 2964.77,-3167.9 2864.13,-3157.35 2864.13,-3142.44 2964.77,-3131.9 3107.1,-3131.9 3207.74,-3142.44"/>
<text text-anchor="middle" x="3035.94" y="-3146.2" font-family="Times,serif" font-size="14.00">postgres : Launch pgbouncer pool service</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_167f886d -->
<g id="edge_3e9281be" class="edge">
<title>role_d68e7a20-&gt;task_167f886d</title>
<g id="a_edge_3e9281be"><a xlink:title="95 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.82,-5291.61C1587.51,-5086.79 1641.35,-3228.54 1724.24,-3150.9 1764.71,-3112.99 2503.66,-3132.24 2853.78,-3143.58" id="path_edge_3e9281be"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2853.92,-3147.08 2864.03,-3143.91 2854.15,-3140.08 2853.92,-3147.08"/>
</a>
</g>
<g id="a_edge_3e9281be-label"><a xlink:title="95 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3e9281be" text-anchor="middle" startOffset="50%">95 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_167f886d"/></links></g>
<!-- task_84c478ad -->
<g id="task_84c478ad" class="node">
<title>task_84c478ad</title>
<g id="a_task_84c478ad"><a xlink:title="postgres : Wait for pgbouncer service online">
<polygon fill="none" stroke="#cb014d" points="3218.35,-3088.44 3218.35,-3103.35 3111.49,-3113.9 2960.38,-3113.9 2853.53,-3103.35 2853.53,-3088.44 2960.38,-3077.9 3111.49,-3077.9 3218.35,-3088.44"/>
<text text-anchor="middle" x="3035.94" y="-3092.2" font-family="Times,serif" font-size="14.00">postgres : Wait for pgbouncer service online</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_84c478ad -->
<g id="edge_f6615577" class="edge">
<title>role_d68e7a20-&gt;task_84c478ad</title>
<g id="a_edge_f6615577"><a xlink:title="96 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.8,-5291.59C1587.32,-5084.46 1640.12,-3188.53 1724.24,-3108.9 1764.13,-3071.14 2489.44,-3082.95 2843.56,-3091.03" id="path_edge_f6615577"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2843.59,-3094.53 2853.67,-3091.26 2843.75,-3087.53 2843.59,-3094.53"/>
</a>
</g>
<g id="a_edge_f6615577-label"><a xlink:title="96 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_f6615577" text-anchor="middle" startOffset="50%">96 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_84c478ad"/></links></g>
<!-- task_f5ddc990 -->
<g id="task_f5ddc990" class="node">
<title>task_f5ddc990</title>
<g id="a_task_f5ddc990"><a xlink:title="postgres : Check pgbouncer service is ready">
<polygon fill="none" stroke="#cb014d" points="3216.53,-3034.44 3216.53,-3049.35 3110.74,-3059.9 2961.13,-3059.9 2855.34,-3049.35 2855.34,-3034.44 2961.13,-3023.9 3110.74,-3023.9 3216.53,-3034.44"/>
<text text-anchor="middle" x="3035.94" y="-3038.2" font-family="Times,serif" font-size="14.00">postgres : Check pgbouncer service is ready</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_f5ddc990 -->
<g id="edge_e75eefd1" class="edge">
<title>role_d68e7a20-&gt;task_f5ddc990</title>
<g id="a_edge_e75eefd1"><a xlink:title="97 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.77,-5291.86C1587.06,-5083.78 1638.58,-3144.59 1724.24,-3062.9 1804.75,-2986.12 2526.95,-3014.38 2863.6,-3032.01" id="path_edge_e75eefd1"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2863.77,-3035.53 2873.94,-3032.56 2864.14,-3028.53 2863.77,-3035.53"/>
</a>
</g>
<g id="a_edge_e75eefd1-label"><a xlink:title="97 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e75eefd1" text-anchor="middle" startOffset="50%">97 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_f5ddc990"/></links></g>
<!-- task_574d7554 -->
<g id="task_574d7554" class="node">
<title>task_574d7554</title>
<g id="a_task_574d7554"><a xlink:title="postgres : Render user {{ user.name }} creation sql">
<polygon fill="none" stroke="#cb014d" points="3246.12,-2980.44 3246.12,-2995.35 3123,-3005.9 2948.87,-3005.9 2825.75,-2995.35 2825.75,-2980.44 2948.87,-2969.9 3123,-2969.9 3246.12,-2980.44"/>
<text text-anchor="middle" x="3035.94" y="-2984.2" font-family="Times,serif" font-size="14.00">postgres : Render user {{ user.name }} creation sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_574d7554 -->
<g id="edge_cd19b45b" class="edge">
<title>role_d68e7a20-&gt;task_574d7554</title>
<g id="a_edge_cd19b45b"><a xlink:title="98 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.73,-5291.62C1586.67,-5078.75 1635.44,-3076.71 1724.24,-2992.9 1763.16,-2956.17 2452.6,-2970.72 2815.52,-2981.02" id="path_edge_cd19b45b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2815.53,-2984.52 2825.63,-2981.31 2815.73,-2977.52 2815.53,-2984.52"/>
</a>
</g>
<g id="a_edge_cd19b45b-label"><a xlink:title="98 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_cd19b45b" text-anchor="middle" startOffset="50%">98 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_574d7554"/></links></g>
<!-- task_fbf7b67a -->
<g id="task_fbf7b67a" class="node">
<title>task_fbf7b67a</title>
<g id="a_task_fbf7b67a"><a xlink:title="postgres : Execute user {{ user.name }} creation sql on primary">
<polygon fill="none" stroke="#cb014d" points="3294.71,-2926.44 3294.71,-2941.35 3143.12,-2951.9 2928.75,-2951.9 2777.17,-2941.35 2777.17,-2926.44 2928.75,-2915.9 3143.12,-2915.9 3294.71,-2926.44"/>
<text text-anchor="middle" x="3035.94" y="-2930.2" font-family="Times,serif" font-size="14.00">postgres : Execute user {{ user.name }} creation sql on primary</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_fbf7b67a -->
<g id="edge_22f1164e" class="edge">
<title>role_d68e7a20-&gt;task_fbf7b67a</title>
<g id="a_edge_22f1164e"><a xlink:title="99 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.72,-5291.62C1586.49,-5076.61 1634.16,-3035.73 1724.24,-2949.9 1802.22,-2875.6 2481.69,-2902.44 2830.36,-2921.47" id="path_edge_22f1164e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2830.41,-2924.97 2840.58,-2922.03 2830.79,-2917.99 2830.41,-2924.97"/>
</a>
</g>
<g id="a_edge_22f1164e-label"><a xlink:title="99 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_22f1164e" text-anchor="middle" startOffset="50%">99 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_fbf7b67a"/></links></g>
<!-- task_dbcd4514 -->
<g id="task_dbcd4514" class="node">
<title>task_dbcd4514</title>
<g id="a_task_dbcd4514"><a xlink:title="postgres : Add business user to pgbouncer">
<polygon fill="none" stroke="#cb014d" points="3209.05,-2872.44 3209.05,-2887.35 3107.64,-2897.9 2964.23,-2897.9 2862.82,-2887.35 2862.82,-2872.44 2964.23,-2861.9 3107.64,-2861.9 3209.05,-2872.44"/>
<text text-anchor="middle" x="3035.94" y="-2876.2" font-family="Times,serif" font-size="14.00">postgres : Add business user to pgbouncer</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_dbcd4514 -->
<g id="edge_40397b8b" class="edge">
<title>role_d68e7a20-&gt;task_dbcd4514</title>
<g id="a_edge_40397b8b"><a xlink:title="100 [when: not no_cmdb|bool and pgbouncer_enabled|bool and user.pgbouncer is defined and user.pgbouncer|bool]">
<path fill="none" stroke="#cb014d" d="M1581.68,-5291.76C1586.08,-5074.07 1631.01,-2968.87 1724.24,-2880.9 1764.53,-2842.88 2502.08,-2862.13 2852.68,-2873.51" id="path_edge_40397b8b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2852.58,-2877.01 2862.69,-2873.84 2852.81,-2870.02 2852.58,-2877.01"/>
</a>
</g>
<g id="a_edge_40397b8b-label"><a xlink:title="100 [when: not no_cmdb|bool and pgbouncer_enabled|bool and user.pgbouncer is defined and user.pgbouncer|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_40397b8b" text-anchor="middle" startOffset="50%">100 [when: not no_cmdb|bool and pgbouncer_enabled|bool and user.pgbouncer is defined and user.pgbouncer|bool]</textPath></text>
</a>
</g>
<links><link target="task_dbcd4514"/></links></g>
<!-- task_41243391 -->
<g id="task_41243391" class="node">
<title>task_41243391</title>
<g id="a_task_41243391"><a xlink:title="postgres : debug">
<polygon fill="none" stroke="#cb014d" points="3110.58,-2818.44 3110.58,-2833.35 3066.85,-2843.9 3005.02,-2843.9 2961.3,-2833.35 2961.3,-2818.44 3005.02,-2807.9 3066.85,-2807.9 3110.58,-2818.44"/>
<text text-anchor="middle" x="3035.94" y="-2822.2" font-family="Times,serif" font-size="14.00">postgres : debug</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_41243391 -->
<g id="edge_e02f2ac1" class="edge">
<title>role_d68e7a20-&gt;task_41243391</title>
<g id="a_edge_e02f2ac1"><a xlink:title="101 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.66,-5291.79C1585.91,-5072.25 1629.81,-2928.91 1724.24,-2838.9 1768.66,-2796.56 2668.81,-2816.34 2951.06,-2823.62" id="path_edge_e02f2ac1"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2951.15,-2827.12 2961.24,-2823.88 2951.33,-2820.12 2951.15,-2827.12"/>
</a>
</g>
<g id="a_edge_e02f2ac1-label"><a xlink:title="101 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e02f2ac1" text-anchor="middle" startOffset="50%">101 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_41243391"/></links></g>
<!-- task_df6b0293 -->
<g id="task_df6b0293" class="node">
<title>task_df6b0293</title>
<g id="a_task_df6b0293"><a xlink:title="postgres : Render database {{ database.name }} creation sql">
<polygon fill="none" stroke="#cb014d" points="3280.16,-2764.44 3280.16,-2779.35 3137.1,-2789.9 2934.78,-2789.9 2791.71,-2779.35 2791.71,-2764.44 2934.78,-2753.9 3137.1,-2753.9 3280.16,-2764.44"/>
<text text-anchor="middle" x="3035.94" y="-2768.2" font-family="Times,serif" font-size="14.00">postgres : Render database {{ database.name }} creation sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_df6b0293 -->
<g id="edge_9656f8b8" class="edge">
<title>role_d68e7a20-&gt;task_df6b0293</title>
<g id="a_edge_9656f8b8"><a xlink:title="102 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.64,-5291.8C1585.72,-5070.11 1628.34,-2884.97 1724.24,-2792.9 1801.97,-2718.27 2481.99,-2742.57 2830.65,-2760.26" id="path_edge_9656f8b8"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2830.7,-2763.77 2840.87,-2760.79 2831.06,-2756.78 2830.7,-2763.77"/>
</a>
</g>
<g id="a_edge_9656f8b8-label"><a xlink:title="102 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9656f8b8" text-anchor="middle" startOffset="50%">102 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_df6b0293"/></links></g>
<!-- task_e6924590 -->
<g id="task_e6924590" class="node">
<title>task_e6924590</title>
<g id="a_task_e6924590"><a xlink:title="postgres : Render database {{ database.name }} baseline sql">
<polygon fill="none" stroke="#cb014d" points="3280.57,-2710.44 3280.57,-2725.35 3137.27,-2735.9 2934.61,-2735.9 2791.31,-2725.35 2791.31,-2710.44 2934.61,-2699.9 3137.27,-2699.9 3280.57,-2710.44"/>
<text text-anchor="middle" x="3035.94" y="-2714.2" font-family="Times,serif" font-size="14.00">postgres : Render database {{ database.name }} baseline sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_e6924590 -->
<g id="edge_4fa8c607" class="edge">
<title>role_d68e7a20-&gt;task_e6924590</title>
<g id="a_edge_4fa8c607"><a xlink:title="103 [when: not no_cmdb|bool and pg_role == 'primary' and database.baseline is defined]">
<path fill="none" stroke="#cb014d" d="M1581.61,-5291.64C1585.36,-5065.7 1625.13,-2817.05 1724.24,-2722.9 1761.88,-2687.14 2412.13,-2699.83 2782.3,-2710.06" id="path_edge_4fa8c607"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2782.26,-2713.56 2792.35,-2710.34 2782.45,-2706.56 2782.26,-2713.56"/>
</a>
</g>
<g id="a_edge_4fa8c607-label"><a xlink:title="103 [when: not no_cmdb|bool and pg_role == 'primary' and database.baseline is defined]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_4fa8c607" text-anchor="middle" startOffset="50%">103 [when: not no_cmdb|bool and pg_role == 'primary' and database.baseline is defined]</textPath></text>
</a>
</g>
<links><link target="task_e6924590"/></links></g>
<!-- task_c9a4a73d -->
<g id="task_c9a4a73d" class="node">
<title>task_c9a4a73d</title>
<g id="a_task_c9a4a73d"><a xlink:title="postgres : Execute database {{ database.name }} creation command">
<polygon fill="none" stroke="#cb014d" points="3311.07,-2656.44 3311.07,-2671.35 3149.9,-2681.9 2921.97,-2681.9 2760.8,-2671.35 2760.8,-2656.44 2921.97,-2645.9 3149.9,-2645.9 3311.07,-2656.44"/>
<text text-anchor="middle" x="3035.94" y="-2660.2" font-family="Times,serif" font-size="14.00">postgres : Execute database {{ database.name }} creation command</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_c9a4a73d -->
<g id="edge_5f9ba143" class="edge">
<title>role_d68e7a20-&gt;task_c9a4a73d</title>
<g id="a_edge_5f9ba143"><a xlink:title="104 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.6,-5291.69C1585.2,-5064.03 1623.88,-2776.12 1724.24,-2679.9 1801.53,-2605.8 2473.49,-2632 2824.04,-2651.08" id="path_edge_5f9ba143"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2823.88,-2654.57 2834.06,-2651.62 2824.27,-2647.58 2823.88,-2654.57"/>
</a>
</g>
<g id="a_edge_5f9ba143-label"><a xlink:title="104 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_5f9ba143" text-anchor="middle" startOffset="50%">104 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_c9a4a73d"/></links></g>
<!-- task_f9cda873 -->
<g id="task_f9cda873" class="node">
<title>task_f9cda873</title>
<g id="a_task_f9cda873"><a xlink:title="postgres : Execute database {{ database.name }} creation sql">
<polygon fill="none" stroke="#cb014d" points="3283.69,-2602.44 3283.69,-2617.35 3138.56,-2627.9 2933.31,-2627.9 2788.18,-2617.35 2788.18,-2602.44 2933.31,-2591.9 3138.56,-2591.9 3283.69,-2602.44"/>
<text text-anchor="middle" x="3035.94" y="-2606.2" font-family="Times,serif" font-size="14.00">postgres : Execute database {{ database.name }} creation sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_f9cda873 -->
<g id="edge_69889c84" class="edge">
<title>role_d68e7a20-&gt;task_f9cda873</title>
<g id="a_edge_69889c84"><a xlink:title="105 [when: not no_cmdb|bool and pg_role == 'primary']">
<path fill="none" stroke="#cb014d" d="M1581.57,-5291.57C1584.85,-5059.95 1620.71,-2709.17 1724.24,-2610.9 1762.08,-2574.99 2418.33,-2590.01 2787.56,-2601.43" id="path_edge_69889c84"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2787.48,-2604.93 2797.58,-2601.74 2787.7,-2597.93 2787.48,-2604.93"/>
</a>
</g>
<g id="a_edge_69889c84-label"><a xlink:title="105 [when: not no_cmdb|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_69889c84" text-anchor="middle" startOffset="50%">105 [when: not no_cmdb|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_f9cda873"/></links></g>
<!-- task_bb1d0738 -->
<g id="task_bb1d0738" class="node">
<title>task_bb1d0738</title>
<g id="a_task_bb1d0738"><a xlink:title="postgres : Execute database {{ database.name }} baseline sql">
<polygon fill="none" stroke="#cb014d" points="3284.1,-2548.44 3284.1,-2563.35 3138.73,-2573.9 2933.14,-2573.9 2787.77,-2563.35 2787.77,-2548.44 2933.14,-2537.9 3138.73,-2537.9 3284.1,-2548.44"/>
<text text-anchor="middle" x="3035.94" y="-2552.2" font-family="Times,serif" font-size="14.00">postgres : Execute database {{ database.name }} baseline sql</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_bb1d0738 -->
<g id="edge_97b589c6" class="edge">
<title>role_d68e7a20-&gt;task_bb1d0738</title>
<g id="a_edge_97b589c6"><a xlink:title="106 [when: not no_cmdb|bool and pg_role == 'primary' and database.baseline is defined]">
<path fill="none" stroke="#cb014d" d="M1581.56,-5291.65C1584.71,-5058.56 1619.54,-2669.27 1724.24,-2568.9 1761.56,-2533.13 2406.32,-2541.59 2777.34,-2549.51" id="path_edge_97b589c6"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2777.35,-2553.01 2787.42,-2549.73 2777.5,-2546.01 2777.35,-2553.01"/>
</a>
</g>
<g id="a_edge_97b589c6-label"><a xlink:title="106 [when: not no_cmdb|bool and pg_role == 'primary' and database.baseline is defined]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_97b589c6" text-anchor="middle" startOffset="50%">106 [when: not no_cmdb|bool and pg_role == 'primary' and database.baseline is defined]</textPath></text>
</a>
</g>
<links><link target="task_bb1d0738"/></links></g>
<!-- task_2c87a7f9 -->
<g id="task_2c87a7f9" class="node">
<title>task_2c87a7f9</title>
<g id="a_task_2c87a7f9"><a xlink:title="postgres : Add biz database to pgbouncer">
<polygon fill="none" stroke="#cb014d" points="3205.52,-2494.44 3205.52,-2509.35 3106.18,-2519.9 2965.69,-2519.9 2866.35,-2509.35 2866.35,-2494.44 2965.69,-2483.9 3106.18,-2483.9 3205.52,-2494.44"/>
<text text-anchor="middle" x="3035.94" y="-2498.2" font-family="Times,serif" font-size="14.00">postgres : Add biz database to pgbouncer</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_2c87a7f9 -->
<g id="edge_7f88439b" class="edge">
<title>role_d68e7a20-&gt;task_2c87a7f9</title>
<g id="a_edge_7f88439b"><a xlink:title="107 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.54,-5291.71C1584.54,-5056.87 1618.09,-2625.37 1724.24,-2522.9 1804.86,-2445.07 2537.27,-2474.57 2870.81,-2492.32" id="path_edge_7f88439b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2870.88,-2495.82 2881.05,-2492.86 2871.25,-2488.83 2870.88,-2495.82"/>
</a>
</g>
<g id="a_edge_7f88439b-label"><a xlink:title="107 [when: not no_cmdb|bool and pgbouncer_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_7f88439b" text-anchor="middle" startOffset="50%">107 [when: not no_cmdb|bool and pgbouncer_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_2c87a7f9"/></links></g>
<!-- task_d8908e40 -->
<g id="task_d8908e40" class="node">
<title>task_d8908e40</title>
<g id="a_task_d8908e40"><a xlink:title="postgres : Reload pgbouncer to add db and users">
<polygon fill="none" stroke="#cb014d" points="3233.8,-2440.44 3233.8,-2455.35 3117.89,-2465.9 2953.98,-2465.9 2838.07,-2455.35 2838.07,-2440.44 2953.98,-2429.9 3117.89,-2429.9 3233.8,-2440.44"/>
<text text-anchor="middle" x="3035.94" y="-2444.2" font-family="Times,serif" font-size="14.00">postgres : Reload pgbouncer to add db and users</text>
</a>
</g>
</g>
<!-- role_d68e7a20&#45;&gt;task_d8908e40 -->
<g id="edge_1fa380f5" class="edge">
<title>role_d68e7a20-&gt;task_d8908e40</title>
<g id="a_edge_1fa380f5"><a xlink:title="108 [when: not no_cmdb|bool and pgbouncer_enabled|bool and pg_provision|bool]">
<path fill="none" stroke="#cb014d" d="M1581.52,-5291.61C1584.19,-5052.92 1614.73,-2556.39 1724.24,-2451.9 1763.41,-2414.52 2468.93,-2430.52 2828.24,-2441.18" id="path_edge_1fa380f5"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2828.14,-2444.68 2838.24,-2441.48 2828.35,-2437.68 2828.14,-2444.68"/>
</a>
</g>
<g id="a_edge_1fa380f5-label"><a xlink:title="108 [when: not no_cmdb|bool and pgbouncer_enabled|bool and pg_provision|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_1fa380f5" text-anchor="middle" startOffset="50%">108 [when: not no_cmdb|bool and pgbouncer_enabled|bool and pg_provision|bool]</textPath></text>
</a>
</g>
<links><link target="task_d8908e40"/></links></g>
<!-- task_56c7f485 -->
<g id="task_56c7f485" class="node">
<title>task_56c7f485</title>
<g id="a_task_56c7f485"><a xlink:title="service : Make sure haproxy is installed">
<polygon fill="none" stroke="#cb014d" points="3200.67,-2386.44 3200.67,-2401.35 3104.17,-2411.9 2967.7,-2411.9 2871.2,-2401.35 2871.2,-2386.44 2967.7,-2375.9 3104.17,-2375.9 3200.67,-2386.44"/>
<text text-anchor="middle" x="3035.94" y="-2390.2" font-family="Times,serif" font-size="14.00">service : Make sure haproxy is installed</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_56c7f485 -->
<g id="edge_6143233d" class="edge">
<title>role_83ca7fe3-&gt;task_56c7f485</title>
<g id="a_edge_6143233d"><a xlink:title="1 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1582.31,-2034.01C1586.64,-2093.4 1609.32,-2282.98 1724.24,-2361.9 1815.53,-2424.59 2525.46,-2410.46 2860.71,-2400.08" id="path_edge_6143233d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2861.12,-2403.56 2871.01,-2399.75 2860.9,-2396.57 2861.12,-2403.56"/>
</a>
</g>
<g id="a_edge_6143233d-label"><a xlink:title="1 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6143233d" text-anchor="middle" startOffset="50%">1 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_56c7f485"/></links></g>
<!-- task_94b07cae -->
<g id="task_94b07cae" class="node">
<title>task_94b07cae</title>
<g id="a_task_94b07cae"><a xlink:title="service : Create haproxy config directory">
<polygon fill="none" stroke="#cb014d" points="3204.21,-2332.44 3204.21,-2347.35 3105.64,-2357.9 2966.24,-2357.9 2867.67,-2347.35 2867.67,-2332.44 2966.24,-2321.9 3105.64,-2321.9 3204.21,-2332.44"/>
<text text-anchor="middle" x="3035.94" y="-2336.2" font-family="Times,serif" font-size="14.00">service : Create haproxy config directory</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_94b07cae -->
<g id="edge_6f006e65" class="edge">
<title>role_83ca7fe3-&gt;task_94b07cae</title>
<g id="a_edge_6f006e65"><a xlink:title="2 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1583.43,-2034.08C1590.84,-2088.65 1621.14,-2251.41 1724.24,-2317.9 1770.97,-2348.03 2510.33,-2344.98 2857.48,-2341.85" id="path_edge_6f006e65"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2857.66,-2345.34 2867.63,-2341.75 2857.6,-2338.35 2857.66,-2345.34"/>
</a>
</g>
<g id="a_edge_6f006e65-label"><a xlink:title="2 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6f006e65" text-anchor="middle" startOffset="50%">2 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_94b07cae"/></links></g>
<!-- task_4f4d3cdf -->
<g id="task_4f4d3cdf" class="node">
<title>task_4f4d3cdf</title>
<g id="a_task_4f4d3cdf"><a xlink:title="service : Create haproxy environment file">
<polygon fill="none" stroke="#cb014d" points="3206.83,-2278.44 3206.83,-2293.35 3106.72,-2303.9 2965.15,-2303.9 2865.04,-2293.35 2865.04,-2278.44 2965.15,-2267.9 3106.72,-2267.9 3206.83,-2278.44"/>
<text text-anchor="middle" x="3035.94" y="-2282.2" font-family="Times,serif" font-size="14.00">service : Create haproxy environment file</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_4f4d3cdf -->
<g id="edge_9354453e" class="edge">
<title>role_83ca7fe3-&gt;task_4f4d3cdf</title>
<g id="a_edge_9354453e"><a xlink:title="3 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1585.45,-2034.06C1597.33,-2081.58 1636.55,-2209.41 1724.24,-2260.9 1819.06,-2316.57 2517.61,-2302.44 2854.37,-2292.16" id="path_edge_9354453e"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2854.83,-2295.65 2864.72,-2291.85 2854.62,-2288.65 2854.83,-2295.65"/>
</a>
</g>
<g id="a_edge_9354453e-label"><a xlink:title="3 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9354453e" text-anchor="middle" startOffset="50%">3 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_4f4d3cdf"/></links></g>
<!-- task_35bf0406 -->
<g id="task_35bf0406" class="node">
<title>task_35bf0406</title>
<g id="a_task_35bf0406"><a xlink:title="service : Copy haproxy systemd service file">
<polygon fill="none" stroke="#cb014d" points="3215.22,-2224.44 3215.22,-2239.35 3110.2,-2249.9 2961.68,-2249.9 2856.65,-2239.35 2856.65,-2224.44 2961.68,-2213.9 3110.2,-2213.9 3215.22,-2224.44"/>
<text text-anchor="middle" x="3035.94" y="-2228.2" font-family="Times,serif" font-size="14.00">service : Copy haproxy systemd service file</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_35bf0406 -->
<g id="edge_73db9f06" class="edge">
<title>role_83ca7fe3-&gt;task_35bf0406</title>
<g id="a_edge_73db9f06"><a xlink:title="4 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1588.48,-2033.9C1605.27,-2073.34 1651.36,-2166.78 1724.24,-2203.9 1821.4,-2253.38 2507.5,-2244.47 2846.41,-2236.87" id="path_edge_73db9f06"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2846.66,-2240.36 2856.58,-2236.63 2846.5,-2233.36 2846.66,-2240.36"/>
</a>
</g>
<g id="a_edge_73db9f06-label"><a xlink:title="4 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_73db9f06" text-anchor="middle" startOffset="50%">4 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_35bf0406"/></links></g>
<!-- task_f180396a -->
<g id="task_f180396a" class="node">
<title>task_f180396a</title>
<g id="a_task_f180396a"><a xlink:title="service : Fetch postgres cluster memberships">
<polygon fill="none" stroke="#cb014d" points="3220.07,-2170.44 3220.07,-2185.35 3112.21,-2195.9 2959.67,-2195.9 2851.81,-2185.35 2851.81,-2170.44 2959.67,-2159.9 3112.21,-2159.9 3220.07,-2170.44"/>
<text text-anchor="middle" x="3035.94" y="-2174.2" font-family="Times,serif" font-size="14.00">service : Fetch postgres cluster memberships</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_f180396a -->
<g id="edge_0a9c8382" class="edge">
<title>role_83ca7fe3-&gt;task_f180396a</title>
<g id="a_edge_0a9c8382"><a xlink:title="5 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1593.26,-2033.91C1615,-2064.88 1664.37,-2127.27 1724.24,-2151.9 1824.53,-2193.14 2501.85,-2187.39 2841.51,-2181.75" id="path_edge_0a9c8382"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2841.77,-2185.25 2851.71,-2181.58 2841.65,-2178.25 2841.77,-2185.25"/>
</a>
</g>
<g id="a_edge_0a9c8382-label"><a xlink:title="5 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_0a9c8382" text-anchor="middle" startOffset="50%">5 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_f180396a"/></links></g>
<!-- task_fe8940a0 -->
<g id="task_fe8940a0" class="node">
<title>task_fe8940a0</title>
<g id="a_task_fe8940a0"><a xlink:title="service : Templating /etc/haproxy/haproxy.cfg">
<polygon fill="none" stroke="#cb014d" points="3225.42,-2116.44 3225.42,-2131.35 3114.42,-2141.9 2957.45,-2141.9 2846.46,-2131.35 2846.46,-2116.44 2957.45,-2105.9 3114.42,-2105.9 3225.42,-2116.44"/>
<text text-anchor="middle" x="3035.94" y="-2120.2" font-family="Times,serif" font-size="14.00">service : Templating /etc/haproxy/haproxy.cfg</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_fe8940a0 -->
<g id="edge_53b2a26c" class="edge">
<title>role_83ca7fe3-&gt;task_fe8940a0</title>
<g id="a_edge_53b2a26c"><a xlink:title="6 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1605.27,-2032.39C1632.63,-2050.18 1679.42,-2077.48 1724.24,-2088.9 1928.48,-2140.93 2523.04,-2136 2836.39,-2129.29" id="path_edge_53b2a26c"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2836.57,-2132.79 2846.49,-2129.07 2836.42,-2125.79 2836.57,-2132.79"/>
</a>
</g>
<g id="a_edge_53b2a26c-label"><a xlink:title="6 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_53b2a26c" text-anchor="middle" startOffset="50%">6 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_fe8940a0"/></links></g>
<!-- task_82ab171f -->
<g id="task_82ab171f" class="node">
<title>task_82ab171f</title>
<g id="a_task_82ab171f"><a xlink:title="service : Reload Haproxy">
<polygon fill="none" stroke="#cb014d" points="3145.02,-2062.44 3145.02,-2077.35 3081.12,-2087.9 2990.75,-2087.9 2926.85,-2077.35 2926.85,-2062.44 2990.75,-2051.9 3081.12,-2051.9 3145.02,-2062.44"/>
<text text-anchor="middle" x="3035.94" y="-2066.2" font-family="Times,serif" font-size="14.00">service : Reload Haproxy</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_82ab171f -->
<g id="edge_3686b389" class="edge">
<title>role_83ca7fe3-&gt;task_82ab171f</title>
<g id="a_edge_3686b389"><a xlink:title="7 [when: not no_cmdb|bool and haproxy_enabled|bool and haproxy_reload|bool]">
<path fill="none" stroke="#cb014d" d="M1632.11,-2023.98C1659.36,-2027.97 1693.55,-2032.46 1724.24,-2034.9 2163.04,-2069.83 2686.79,-2071.96 2916.78,-2070.91" id="path_edge_3686b389"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2916.86,-2074.41 2926.84,-2070.86 2916.83,-2067.41 2916.86,-2074.41"/>
</a>
</g>
<g id="a_edge_3686b389-label"><a xlink:title="7 [when: not no_cmdb|bool and haproxy_enabled|bool and haproxy_reload|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3686b389" text-anchor="middle" startOffset="50%">7 [when: not no_cmdb|bool and haproxy_enabled|bool and haproxy_reload|bool]</textPath></text>
</a>
</g>
<links><link target="task_82ab171f"/></links></g>
<!-- task_7152ddc1 -->
<g id="task_7152ddc1" class="node">
<title>task_7152ddc1</title>
<g id="a_task_7152ddc1"><a xlink:title="service : Launch haproxy load balancer service">
<polygon fill="none" stroke="#cb014d" points="3228.04,-2008.44 3228.04,-2023.35 3115.51,-2033.9 2956.36,-2033.9 2843.83,-2023.35 2843.83,-2008.44 2956.36,-1997.9 3115.51,-1997.9 3228.04,-2008.44"/>
<text text-anchor="middle" x="3035.94" y="-2012.2" font-family="Times,serif" font-size="14.00">service : Launch haproxy load balancer service</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_7152ddc1 -->
<g id="edge_ecd9e5cb" class="edge">
<title>role_83ca7fe3-&gt;task_7152ddc1</title>
<g id="a_edge_ecd9e5cb"><a xlink:title="8 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1638.3,-2015.9C1835.66,-2015.9 2496.29,-2015.9 2833.38,-2015.9" id="path_edge_ecd9e5cb"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2833.75,-2019.4 2843.75,-2015.9 2833.75,-2012.4 2833.75,-2019.4"/>
</a>
</g>
<g id="a_edge_ecd9e5cb-label"><a xlink:title="8 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_ecd9e5cb" text-anchor="middle" startOffset="50%">8 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_7152ddc1"/></links></g>
<!-- task_8b473216 -->
<g id="task_8b473216" class="node">
<title>task_8b473216</title>
<g id="a_task_8b473216"><a xlink:title="service : Wait for haproxy load balancer online">
<polygon fill="none" stroke="#cb014d" points="3228.45,-1954.44 3228.45,-1969.35 3115.68,-1979.9 2956.19,-1979.9 2843.42,-1969.35 2843.42,-1954.44 2956.19,-1943.9 3115.68,-1943.9 3228.45,-1954.44"/>
<text text-anchor="middle" x="3035.94" y="-1958.2" font-family="Times,serif" font-size="14.00">service : Wait for haproxy load balancer online</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_8b473216 -->
<g id="edge_9d2998b2" class="edge">
<title>role_83ca7fe3-&gt;task_8b473216</title>
<g id="a_edge_9d2998b2"><a xlink:title="9 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1632.11,-2007.82C1659.36,-2003.82 1693.55,-1999.34 1724.24,-1996.9 2115.97,-1965.72 2575.4,-1960.67 2833.09,-1960.7" id="path_edge_9d2998b2"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2833.31,-1964.2 2843.31,-1960.7 2833.31,-1957.2 2833.31,-1964.2"/>
</a>
</g>
<g id="a_edge_9d2998b2-label"><a xlink:title="9 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9d2998b2" text-anchor="middle" startOffset="50%">9 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_8b473216"/></links></g>
<!-- task_657f68f7 -->
<g id="task_657f68f7" class="node">
<title>task_657f68f7</title>
<g id="a_task_657f68f7"><a xlink:title="service : Make sure vip-manager is installed">
<polygon fill="none" stroke="#cb014d" points="3218.35,-1900.44 3218.35,-1915.35 3111.49,-1925.9 2960.38,-1925.9 2853.53,-1915.35 2853.53,-1900.44 2960.38,-1889.9 3111.49,-1889.9 3218.35,-1900.44"/>
<text text-anchor="middle" x="3035.94" y="-1904.2" font-family="Times,serif" font-size="14.00">service : Make sure vip-manager is installed</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_657f68f7 -->
<g id="edge_6bcd3489" class="edge">
<title>role_83ca7fe3-&gt;task_657f68f7</title>
<g id="a_edge_6bcd3489"><a xlink:title="10 [when: not no_cmdb|bool and vip_mode == 'l2']">
<path fill="none" stroke="#cb014d" d="M1604.74,-1999.5C1632,-1981.47 1679.05,-1953.53 1724.24,-1941.9 1929.92,-1888.98 2532.13,-1895.14 2843.53,-1902.37" id="path_edge_6bcd3489"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2843.49,-1905.87 2853.57,-1902.61 2843.65,-1898.87 2843.49,-1905.87"/>
</a>
</g>
<g id="a_edge_6bcd3489-label"><a xlink:title="10 [when: not no_cmdb|bool and vip_mode == 'l2']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6bcd3489" text-anchor="middle" startOffset="50%">10 [when: not no_cmdb|bool and vip_mode == 'l2']</textPath></text>
</a>
</g>
<links><link target="task_657f68f7"/></links></g>
<!-- task_7b0f6f8c -->
<g id="task_7b0f6f8c" class="node">
<title>task_7b0f6f8c</title>
<g id="a_task_7b0f6f8c"><a xlink:title="service : Copy vip-manager systemd service file">
<polygon fill="none" stroke="#cb014d" points="3232.89,-1846.44 3232.89,-1861.35 3117.52,-1871.9 2954.35,-1871.9 2838.98,-1861.35 2838.98,-1846.44 2954.35,-1835.9 3117.52,-1835.9 3232.89,-1846.44"/>
<text text-anchor="middle" x="3035.94" y="-1850.2" font-family="Times,serif" font-size="14.00">service : Copy vip-manager systemd service file</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_7b0f6f8c -->
<g id="edge_02129c4d" class="edge">
<title>role_83ca7fe3-&gt;task_7b0f6f8c</title>
<g id="a_edge_02129c4d"><a xlink:title="11 [when: not no_cmdb|bool and vip_mode == 'l2']">
<path fill="none" stroke="#cb014d" d="M1592.85,-1998.12C1614.3,-1966.86 1663.71,-1903 1724.24,-1877.9 1926.4,-1794.07 2564.51,-1822.65 2869.49,-1842.05" id="path_edge_02129c4d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2869.54,-1845.56 2879.75,-1842.71 2869.99,-1838.58 2869.54,-1845.56"/>
</a>
</g>
<g id="a_edge_02129c4d-label"><a xlink:title="11 [when: not no_cmdb|bool and vip_mode == 'l2']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_02129c4d" text-anchor="middle" startOffset="50%">11 [when: not no_cmdb|bool and vip_mode == 'l2']</textPath></text>
</a>
</g>
<links><link target="task_7b0f6f8c"/></links></g>
<!-- task_694b0131 -->
<g id="task_694b0131" class="node">
<title>task_694b0131</title>
<g id="a_task_694b0131"><a xlink:title="service : create vip-manager systemd drop-in dir">
<polygon fill="none" stroke="#cb014d" points="3234.21,-1792.44 3234.21,-1807.35 3118.06,-1817.9 2953.81,-1817.9 2837.67,-1807.35 2837.67,-1792.44 2953.81,-1781.9 3118.06,-1781.9 3234.21,-1792.44"/>
<text text-anchor="middle" x="3035.94" y="-1796.2" font-family="Times,serif" font-size="14.00">service : create vip-manager systemd drop-in dir</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_694b0131 -->
<g id="edge_3ff70590" class="edge">
<title>role_83ca7fe3-&gt;task_694b0131</title>
<g id="a_edge_3ff70590"><a xlink:title="12 [when: not no_cmdb|bool and vip_mode == 'l2']">
<path fill="none" stroke="#cb014d" d="M1586.77,-1998.01C1601.06,-1954.73 1644.1,-1844.83 1724.24,-1801.9 1820.21,-1750.49 2505.19,-1774.83 2844.89,-1790.39" id="path_edge_3ff70590"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2844.94,-1793.9 2855.09,-1790.86 2845.26,-1786.9 2844.94,-1793.9"/>
</a>
</g>
<g id="a_edge_3ff70590-label"><a xlink:title="12 [when: not no_cmdb|bool and vip_mode == 'l2']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3ff70590" text-anchor="middle" startOffset="50%">12 [when: not no_cmdb|bool and vip_mode == 'l2']</textPath></text>
</a>
</g>
<links><link target="task_694b0131"/></links></g>
<!-- task_57b5e82e -->
<g id="task_57b5e82e" class="node">
<title>task_57b5e82e</title>
<g id="a_task_57b5e82e"><a xlink:title="service : create vip-manager systemd drop-in file">
<polygon fill="none" stroke="#cb014d" points="3235.52,-1738.44 3235.52,-1753.35 3118.61,-1763.9 2953.27,-1763.9 2836.35,-1753.35 2836.35,-1738.44 2953.27,-1727.9 3118.61,-1727.9 3235.52,-1738.44"/>
<text text-anchor="middle" x="3035.94" y="-1742.2" font-family="Times,serif" font-size="14.00">service : create vip-manager systemd drop-in file</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_57b5e82e -->
<g id="edge_bafb9014" class="edge">
<title>role_83ca7fe3-&gt;task_57b5e82e</title>
<g id="a_edge_bafb9014"><a xlink:title="13 [when: not no_cmdb|bool and vip_mode == 'l2']">
<path fill="none" stroke="#cb014d" d="M1584.6,-1997.7C1594.75,-1947.48 1630.76,-1806.93 1724.24,-1750.9 1817.83,-1694.8 2506.99,-1719.96 2846.7,-1736.1" id="path_edge_bafb9014"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2846.74,-1739.61 2856.9,-1736.59 2847.08,-1732.62 2846.74,-1739.61"/>
</a>
</g>
<g id="a_edge_bafb9014-label"><a xlink:title="13 [when: not no_cmdb|bool and vip_mode == 'l2']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_bafb9014" text-anchor="middle" startOffset="50%">13 [when: not no_cmdb|bool and vip_mode == 'l2']</textPath></text>
</a>
</g>
<links><link target="task_57b5e82e"/></links></g>
<!-- task_de34606e -->
<g id="task_de34606e" class="node">
<title>task_de34606e</title>
<g id="a_task_de34606e"><a xlink:title="service : Templating /etc/default/vip-manager.yml">
<polygon fill="none" stroke="#cb014d" points="3240.87,-1684.44 3240.87,-1699.35 3120.82,-1709.9 2951.05,-1709.9 2831,-1699.35 2831,-1684.44 2951.05,-1673.9 3120.82,-1673.9 3240.87,-1684.44"/>
<text text-anchor="middle" x="3035.94" y="-1688.2" font-family="Times,serif" font-size="14.00">service : Templating /etc/default/vip-manager.yml</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_de34606e -->
<g id="edge_effd5812" class="edge">
<title>role_83ca7fe3-&gt;task_de34606e</title>
<g id="a_edge_effd5812"><a xlink:title="14 [when: not no_cmdb|bool and vip_mode == 'l2']">
<path fill="none" stroke="#cb014d" d="M1582.89,-1997.89C1588.9,-1941.41 1615.89,-1767.38 1724.24,-1696.9 1815.83,-1637.33 2507.71,-1664.32 2847.62,-1681.53" id="path_edge_effd5812"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2847.65,-1685.04 2857.82,-1682.05 2848.01,-1678.04 2847.65,-1685.04"/>
</a>
</g>
<g id="a_edge_effd5812-label"><a xlink:title="14 [when: not no_cmdb|bool and vip_mode == 'l2']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_effd5812" text-anchor="middle" startOffset="50%">14 [when: not no_cmdb|bool and vip_mode == 'l2']</textPath></text>
</a>
</g>
<links><link target="task_de34606e"/></links></g>
<!-- task_86845413 -->
<g id="task_86845413" class="node">
<title>task_86845413</title>
<g id="a_task_86845413"><a xlink:title="service : Reload vip-manager config">
<polygon fill="none" stroke="#cb014d" points="3186.94,-1630.44 3186.94,-1645.35 3098.48,-1655.9 2973.39,-1655.9 2884.93,-1645.35 2884.93,-1630.44 2973.39,-1619.9 3098.48,-1619.9 3186.94,-1630.44"/>
<text text-anchor="middle" x="3035.94" y="-1634.2" font-family="Times,serif" font-size="14.00">service : Reload vip-manager config</text>
</a>
</g>
</g>
<!-- role_83ca7fe3&#45;&gt;task_86845413 -->
<g id="edge_e64c26f8" class="edge">
<title>role_83ca7fe3-&gt;task_86845413</title>
<g id="a_edge_e64c26f8"><a xlink:title="15 [when: not no_cmdb|bool and vip_mode == 'l2']">
<path fill="none" stroke="#cb014d" d="M1581.63,-1997.56C1583.8,-1934.59 1600.42,-1726.43 1724.24,-1640.9 1770.76,-1608.77 2534.99,-1624.72 2874.53,-1633.46" id="path_edge_e64c26f8"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2874.62,-1636.96 2884.7,-1633.72 2874.8,-1629.97 2874.62,-1636.96"/>
</a>
</g>
<g id="a_edge_e64c26f8-label"><a xlink:title="15 [when: not no_cmdb|bool and vip_mode == 'l2']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e64c26f8" text-anchor="middle" startOffset="50%">15 [when: not no_cmdb|bool and vip_mode == 'l2']</textPath></text>
</a>
</g>
<links><link target="task_86845413"/></links></g>
<!-- task_6253cee3 -->
<g id="task_6253cee3" class="node">
<title>task_6253cee3</title>
<g id="a_task_6253cee3"><a xlink:title="pg_exporter : Add yum repo for pg_exporter">
<polygon fill="none" stroke="#cb014d" points="3218.75,-1576.44 3218.75,-1591.35 3111.66,-1601.9 2960.21,-1601.9 2853.12,-1591.35 2853.12,-1576.44 2960.21,-1565.9 3111.66,-1565.9 3218.75,-1576.44"/>
<text text-anchor="middle" x="3035.94" y="-1580.2" font-family="Times,serif" font-size="14.00">pg_exporter : Add yum repo for pg_exporter</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_6253cee3 -->
<g id="edge_83356e50" class="edge">
<title>role_89f85c62-&gt;task_6253cee3</title>
<g id="a_edge_83356e50"><a xlink:title="1 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and exporter_install == 'yum' and exporter_repo_url != '']">
<path fill="none" stroke="#cb014d" d="M1582.99,-1251.21C1589.27,-1307.83 1616.87,-1480.47 1724.24,-1551.9 1814.82,-1612.15 2501.07,-1600.26 2842.8,-1590.37" id="path_edge_83356e50"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2842.92,-1593.87 2852.81,-1590.08 2842.71,-1586.87 2842.92,-1593.87"/>
</a>
</g>
<g id="a_edge_83356e50-label"><a xlink:title="1 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and exporter_install == 'yum' and exporter_repo_url != '']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_83356e50" text-anchor="middle" startOffset="50%">1 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and exporter_install == 'yum' and exporter_repo_url != '']</textPath></text>
</a>
</g>
<links><link target="task_6253cee3"/></links></g>
<!-- task_bf793fab -->
<g id="task_bf793fab" class="node">
<title>task_bf793fab</title>
<g id="a_task_bf793fab"><a xlink:title="pg_exporter : Install pg_exporter via yum">
<polygon fill="none" stroke="#cb014d" points="3208.15,-1522.44 3208.15,-1537.35 3107.27,-1547.9 2964.6,-1547.9 2863.72,-1537.35 2863.72,-1522.44 2964.6,-1511.9 3107.27,-1511.9 3208.15,-1522.44"/>
<text text-anchor="middle" x="3035.94" y="-1526.2" font-family="Times,serif" font-size="14.00">pg_exporter : Install pg_exporter via yum</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_bf793fab -->
<g id="edge_18002af7" class="edge">
<title>role_89f85c62-&gt;task_bf793fab</title>
<g id="a_edge_18002af7"><a xlink:title="2 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and and exporter_install == 'yum']">
<path fill="none" stroke="#cb014d" d="M1584.26,-1250.95C1593.7,-1302.18 1628.39,-1448.58 1724.24,-1507.9 1771.33,-1537.04 2504.52,-1534.58 2853.27,-1531.73" id="path_edge_18002af7"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2853.5,-1535.23 2863.47,-1531.65 2853.44,-1528.23 2853.5,-1535.23"/>
</a>
</g>
<g id="a_edge_18002af7-label"><a xlink:title="2 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and and exporter_install == 'yum']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_18002af7" text-anchor="middle" startOffset="50%">2 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and and exporter_install == 'yum']</textPath></text>
</a>
</g>
<links><link target="task_bf793fab"/></links></g>
<!-- task_c01fe2d1 -->
<g id="task_c01fe2d1" class="node">
<title>task_c01fe2d1</title>
<g id="a_task_c01fe2d1"><a xlink:title="pg_exporter : Install pg_exporter via binary">
<polygon fill="none" stroke="#cb014d" points="3214.81,-1468.44 3214.81,-1483.35 3110.03,-1493.9 2961.84,-1493.9 2857.06,-1483.35 2857.06,-1468.44 2961.84,-1457.9 3110.03,-1457.9 3214.81,-1468.44"/>
<text text-anchor="middle" x="3035.94" y="-1472.2" font-family="Times,serif" font-size="14.00">pg_exporter : Install pg_exporter via binary</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_c01fe2d1 -->
<g id="edge_e01f5896" class="edge">
<title>role_89f85c62-&gt;task_c01fe2d1</title>
<g id="a_edge_e01f5896"><a xlink:title="3 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and exporter_install == 'binary']">
<path fill="none" stroke="#cb014d" d="M1586.77,-1250.86C1601.05,-1294.3 1644.09,-1404.75 1724.24,-1448.9 1819.81,-1501.53 2507.55,-1490.47 2846.75,-1481.6" id="path_edge_e01f5896"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2847.03,-1485.09 2856.93,-1481.33 2846.84,-1478.09 2847.03,-1485.09"/>
</a>
</g>
<g id="a_edge_e01f5896-label"><a xlink:title="3 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and exporter_install == 'binary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e01f5896" text-anchor="middle" startOffset="50%">3 [when: not no_cmdb|bool and (pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool) and exporter_install != 'none' and exporter_install == 'binary']</textPath></text>
</a>
</g>
<links><link target="task_c01fe2d1"/></links></g>
<!-- task_fac0d5f7 -->
<g id="task_fac0d5f7" class="node">
<title>task_fac0d5f7</title>
<g id="a_task_fac0d5f7"><a xlink:title="pg_exporter : Create /etc/pg_exporter conf dir">
<polygon fill="none" stroke="#cb014d" points="3223.6,-1414.44 3223.6,-1429.35 3113.67,-1439.9 2958.2,-1439.9 2848.27,-1429.35 2848.27,-1414.44 2958.2,-1403.9 3113.67,-1403.9 3223.6,-1414.44"/>
<text text-anchor="middle" x="3035.94" y="-1418.2" font-family="Times,serif" font-size="14.00">pg_exporter : Create /etc/pg_exporter conf dir</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_fac0d5f7 -->
<g id="edge_6b8474d6" class="edge">
<title>role_89f85c62-&gt;task_fac0d5f7</title>
<g id="a_edge_6b8474d6"><a xlink:title="4 [when: not no_cmdb|bool and pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1590.71,-1250.91C1610.13,-1285.97 1658.45,-1362.57 1724.24,-1392.9 1822.4,-1438.15 2496.53,-1432.21 2837.83,-1426.14" id="path_edge_6b8474d6"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2838.15,-1429.63 2848.08,-1425.95 2838.02,-1422.63 2838.15,-1429.63"/>
</a>
</g>
<g id="a_edge_6b8474d6-label"><a xlink:title="4 [when: not no_cmdb|bool and pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_6b8474d6" text-anchor="middle" startOffset="50%">4 [when: not no_cmdb|bool and pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_fac0d5f7"/></links></g>
<!-- task_536eb43d -->
<g id="task_536eb43d" class="node">
<title>task_536eb43d</title>
<g id="a_task_536eb43d"><a xlink:title="pg_exporter : Copy default pg_exporter.yml config">
<polygon fill="none" stroke="#cb014d" points="3243.5,-1360.44 3243.5,-1375.35 3121.91,-1385.9 2949.96,-1385.9 2828.38,-1375.35 2828.38,-1360.44 2949.96,-1349.9 3121.91,-1349.9 3243.5,-1360.44"/>
<text text-anchor="middle" x="3035.94" y="-1364.2" font-family="Times,serif" font-size="14.00">pg_exporter : Copy default pg_exporter.yml config</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_536eb43d -->
<g id="edge_ebb2206d" class="edge">
<title>role_89f85c62-&gt;task_536eb43d</title>
<g id="a_edge_ebb2206d"><a xlink:title="5 [when: not no_cmdb|bool and pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1596.69,-1250.75C1620.74,-1277.19 1670.17,-1325.71 1724.24,-1344.9 1824.09,-1380.34 2472.26,-1376.39 2818.16,-1371.6" id="path_edge_ebb2206d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2818.36,-1375.1 2828.31,-1371.46 2818.26,-1368.1 2818.36,-1375.1"/>
</a>
</g>
<g id="a_edge_ebb2206d-label"><a xlink:title="5 [when: not no_cmdb|bool and pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_ebb2206d" text-anchor="middle" startOffset="50%">5 [when: not no_cmdb|bool and pg_exporter_enabled|bool or pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_536eb43d"/></links></g>
<!-- task_6db756e7 -->
<g id="task_6db756e7" class="node">
<title>task_6db756e7</title>
<g id="a_task_6db756e7"><a xlink:title="pg_exporter : Config pg_exporter parameters">
<polygon fill="none" stroke="#cb014d" points="3220.97,-1306.44 3220.97,-1321.35 3112.58,-1331.9 2959.29,-1331.9 2850.9,-1321.35 2850.9,-1306.44 2959.29,-1295.9 3112.58,-1295.9 3220.97,-1306.44"/>
<text text-anchor="middle" x="3035.94" y="-1310.2" font-family="Times,serif" font-size="14.00">pg_exporter : Config pg_exporter parameters</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_6db756e7 -->
<g id="edge_557aba6f" class="edge">
<title>role_89f85c62-&gt;task_6db756e7</title>
<g id="a_edge_557aba6f"><a xlink:title="6 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1623.88,-1247.73C1651.99,-1256.79 1689.86,-1267.63 1724.24,-1272.9 2119.8,-1333.52 2590.09,-1330.22 2846,-1322.2" id="path_edge_557aba6f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2846.26,-1325.7 2856.14,-1321.88 2846.04,-1318.7 2846.26,-1325.7"/>
</a>
</g>
<g id="a_edge_557aba6f-label"><a xlink:title="6 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_557aba6f" text-anchor="middle" startOffset="50%">6 [when: not no_cmdb|bool and pg_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_6db756e7"/></links></g>
<!-- task_4ed5cd11 -->
<g id="task_4ed5cd11" class="node">
<title>task_4ed5cd11</title>
<g id="a_task_4ed5cd11"><a xlink:title="pg_exporter : Config pg_exporter systemd unit">
<polygon fill="none" stroke="#cb014d" points="3227.14,-1252.44 3227.14,-1267.35 3115.13,-1277.9 2956.74,-1277.9 2844.74,-1267.35 2844.74,-1252.44 2956.74,-1241.9 3115.13,-1241.9 3227.14,-1252.44"/>
<text text-anchor="middle" x="3035.94" y="-1256.2" font-family="Times,serif" font-size="14.00">pg_exporter : Config pg_exporter systemd unit</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_4ed5cd11 -->
<g id="edge_a99c7b31" class="edge">
<title>role_89f85c62-&gt;task_4ed5cd11</title>
<g id="a_edge_a99c7b31"><a xlink:title="7 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1655.65,-1234.28C1872.08,-1238.3 2507.14,-1250.1 2834.59,-1256.18" id="path_edge_a99c7b31"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2834.6,-1259.68 2844.67,-1256.36 2834.73,-1252.68 2834.6,-1259.68"/>
</a>
</g>
<g id="a_edge_a99c7b31-label"><a xlink:title="7 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_a99c7b31" text-anchor="middle" startOffset="50%">7 [when: not no_cmdb|bool and pg_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_4ed5cd11"/></links></g>
<!-- task_6fb581db -->
<g id="task_6fb581db" class="node">
<title>task_6fb581db</title>
<g id="a_task_6fb581db"><a xlink:title="pg_exporter : Config pgbouncer_exporter parameters">
<polygon fill="none" stroke="#cb014d" points="3250.97,-1198.44 3250.97,-1213.35 3125.01,-1223.9 2946.86,-1223.9 2820.9,-1213.35 2820.9,-1198.44 2946.86,-1187.9 3125.01,-1187.9 3250.97,-1198.44"/>
<text text-anchor="middle" x="3035.94" y="-1202.2" font-family="Times,serif" font-size="14.00">pg_exporter : Config pgbouncer_exporter parameters</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_6fb581db -->
<g id="edge_bf042474" class="edge">
<title>role_89f85c62-&gt;task_6fb581db</title>
<g id="a_edge_bf042474"><a xlink:title="8 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1645.57,-1223.72C1670.13,-1220.62 1698.43,-1217.53 1724.24,-1215.9 2104.95,-1191.88 2549.09,-1195.03 2810.33,-1200.07" id="path_edge_bf042474"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2810.64,-1203.57 2820.71,-1200.27 2810.78,-1196.57 2810.64,-1203.57"/>
</a>
</g>
<g id="a_edge_bf042474-label"><a xlink:title="8 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_bf042474" text-anchor="middle" startOffset="50%">8 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_6fb581db"/></links></g>
<!-- task_e175932d -->
<g id="task_e175932d" class="node">
<title>task_e175932d</title>
<g id="a_task_e175932d"><a xlink:title="pg_exporter : Config pgbouncer_exporter systemd unit">
<polygon fill="none" stroke="#cb014d" points="3258.04,-1144.44 3258.04,-1159.35 3127.94,-1169.9 2943.94,-1169.9 2813.83,-1159.35 2813.83,-1144.44 2943.94,-1133.9 3127.94,-1133.9 3258.04,-1144.44"/>
<text text-anchor="middle" x="3035.94" y="-1148.2" font-family="Times,serif" font-size="14.00">pg_exporter : Config pgbouncer_exporter systemd unit</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_e175932d -->
<g id="edge_4fa6b74b" class="edge">
<title>role_89f85c62-&gt;task_e175932d</title>
<g id="a_edge_4fa6b74b"><a xlink:title="9 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1613.25,-1216.59C1641.57,-1203.06 1684.51,-1184.8 1724.24,-1176.9 2135.41,-1095.15 2633.45,-1118.1 2880.48,-1137.4" id="path_edge_4fa6b74b"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2880.36,-1140.9 2890.61,-1138.2 2880.92,-1133.93 2880.36,-1140.9"/>
</a>
</g>
<g id="a_edge_4fa6b74b-label"><a xlink:title="9 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_4fa6b74b" text-anchor="middle" startOffset="50%">9 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_e175932d"/></links></g>
<!-- task_5597425e -->
<g id="task_5597425e" class="node">
<title>task_5597425e</title>
<g id="a_task_5597425e"><a xlink:title="pg_exporter : Launch pg_exporter systemd unit">
<polygon fill="none" stroke="#cb014d" points="3230.26,-1090.44 3230.26,-1105.35 3116.43,-1115.9 2955.44,-1115.9 2841.61,-1105.35 2841.61,-1090.44 2955.44,-1079.9 3116.43,-1079.9 3230.26,-1090.44"/>
<text text-anchor="middle" x="3035.94" y="-1094.2" font-family="Times,serif" font-size="14.00">pg_exporter : Launch pg_exporter systemd unit</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_5597425e -->
<g id="edge_51429f43" class="edge">
<title>role_89f85c62-&gt;task_5597425e</title>
<g id="a_edge_51429f43"><a xlink:title="10 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1593.32,-1215.16C1615.14,-1184.69 1664.64,-1123.39 1724.24,-1099.9 1824.11,-1060.53 2488.9,-1078.11 2831.53,-1090.08" id="path_edge_51429f43"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2831.45,-1093.58 2841.57,-1090.43 2831.7,-1086.58 2831.45,-1093.58"/>
</a>
</g>
<g id="a_edge_51429f43-label"><a xlink:title="10 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_51429f43" text-anchor="middle" startOffset="50%">10 [when: not no_cmdb|bool and pg_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_5597425e"/></links></g>
<!-- task_0436b1e8 -->
<g id="task_0436b1e8" class="node">
<title>task_0436b1e8</title>
<g id="a_task_0436b1e8"><a xlink:title="pg_exporter : Wait for pg_exporter online">
<polygon fill="none" stroke="#cb014d" points="3208.15,-1036.44 3208.15,-1051.35 3107.27,-1061.9 2964.6,-1061.9 2863.72,-1051.35 2863.72,-1036.44 2964.6,-1025.9 3107.27,-1025.9 3208.15,-1036.44"/>
<text text-anchor="middle" x="3035.94" y="-1040.2" font-family="Times,serif" font-size="14.00">pg_exporter : Wait for pg_exporter online</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_0436b1e8 -->
<g id="edge_c9e7332f" class="edge">
<title>role_89f85c62-&gt;task_0436b1e8</title>
<g id="a_edge_c9e7332f"><a xlink:title="11 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1589.16,-1215C1606.84,-1177.21 1653.84,-1089.94 1724.24,-1055.9 1823.03,-1008.14 2516.97,-1025.53 2853.19,-1037.02" id="path_edge_c9e7332f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2853.4,-1040.53 2863.52,-1037.37 2853.65,-1033.53 2853.4,-1040.53"/>
</a>
</g>
<g id="a_edge_c9e7332f-label"><a xlink:title="11 [when: not no_cmdb|bool and pg_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_c9e7332f" text-anchor="middle" startOffset="50%">11 [when: not no_cmdb|bool and pg_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_0436b1e8"/></links></g>
<!-- task_957dbc00 -->
<g id="task_957dbc00" class="node">
<title>task_957dbc00</title>
<g id="a_task_957dbc00"><a xlink:title="pg_exporter : Launch pgbouncer_exporter systemd unit">
<polygon fill="none" stroke="#cb014d" points="3261.17,-982.44 3261.17,-997.35 3129.23,-1007.9 2942.64,-1007.9 2810.7,-997.35 2810.7,-982.44 2942.64,-971.9 3129.23,-971.9 3261.17,-982.44"/>
<text text-anchor="middle" x="3035.94" y="-986.2" font-family="Times,serif" font-size="14.00">pg_exporter : Launch pgbouncer_exporter systemd unit</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_957dbc00 -->
<g id="edge_3978768c" class="edge">
<title>role_89f85c62-&gt;task_957dbc00</title>
<g id="a_edge_3978768c"><a xlink:title="12 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1586.13,-1214.94C1599.31,-1169.77 1640.71,-1051.75 1724.24,-1004.9 1816.4,-953.21 2464.74,-968.63 2813.72,-980.99" id="path_edge_3978768c"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2813.84,-984.49 2823.96,-981.35 2814.09,-977.5 2813.84,-984.49"/>
</a>
</g>
<g id="a_edge_3978768c-label"><a xlink:title="12 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3978768c" text-anchor="middle" startOffset="50%">12 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_957dbc00"/></links></g>
<!-- task_b1e4cea9 -->
<g id="task_b1e4cea9" class="node">
<title>task_b1e4cea9</title>
<g id="a_task_b1e4cea9"><a xlink:title="pg_exporter : Wait for pgbouncer_exporter online">
<polygon fill="none" stroke="#cb014d" points="3239.05,-928.44 3239.05,-943.35 3120.07,-953.9 2951.8,-953.9 2832.82,-943.35 2832.82,-928.44 2951.8,-917.9 3120.07,-917.9 3239.05,-928.44"/>
<text text-anchor="middle" x="3035.94" y="-932.2" font-family="Times,serif" font-size="14.00">pg_exporter : Wait for pgbouncer_exporter online</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_b1e4cea9 -->
<g id="edge_2cb2a814" class="edge">
<title>role_89f85c62-&gt;task_b1e4cea9</title>
<g id="a_edge_2cb2a814"><a xlink:title="13 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1583.97,-1214.62C1592.71,-1162.04 1625.86,-1010.2 1724.24,-948.9 1816.04,-891.7 2494.42,-912.29 2837.47,-926.68" id="path_edge_2cb2a814"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2837.38,-930.17 2847.52,-927.1 2837.68,-923.18 2837.38,-930.17"/>
</a>
</g>
<g id="a_edge_2cb2a814-label"><a xlink:title="13 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_2cb2a814" text-anchor="middle" startOffset="50%">13 [when: not no_cmdb|bool and pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_b1e4cea9"/></links></g>
<!-- task_b4c9a6e7 -->
<g id="task_b4c9a6e7" class="node">
<title>task_b4c9a6e7</title>
<g id="a_task_b4c9a6e7"><a xlink:title="pg_exporter : Deregister pgsql exporter from prometheus">
<polygon fill="none" stroke="#cb014d" points="3267.33,-874.44 3267.33,-889.35 3131.78,-899.9 2940.09,-899.9 2804.54,-889.35 2804.54,-874.44 2940.09,-863.9 3131.78,-863.9 3267.33,-874.44"/>
<text text-anchor="middle" x="3035.94" y="-878.2" font-family="Times,serif" font-size="14.00">pg_exporter : Deregister pgsql exporter from prometheus</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_b4c9a6e7 -->
<g id="edge_b51fb702" class="edge">
<title>role_89f85c62-&gt;task_b4c9a6e7</title>
<g id="a_edge_b51fb702"><a xlink:title="14 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1582.38,-1214.55C1586.93,-1155.29 1610.16,-968.41 1724.24,-891.9 1813.4,-832.1 2483.27,-855.03 2829.3,-871.21" id="path_edge_b51fb702"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2829.29,-874.72 2839.45,-871.69 2829.62,-867.72 2829.29,-874.72"/>
</a>
</g>
<g id="a_edge_b51fb702-label"><a xlink:title="14 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b51fb702" text-anchor="middle" startOffset="50%">14 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_b4c9a6e7"/></links></g>
<!-- task_ead26254 -->
<g id="task_ead26254" class="node">
<title>task_ead26254</title>
<g id="a_task_ead26254"><a xlink:title="pg_exporter : Register pgsql exporter as prometheus target">
<polygon fill="none" stroke="#cb014d" points="3273.09,-820.44 3273.09,-835.35 3134.17,-845.9 2937.7,-845.9 2798.78,-835.35 2798.78,-820.44 2937.7,-809.9 3134.17,-809.9 3273.09,-820.44"/>
<text text-anchor="middle" x="3035.94" y="-824.2" font-family="Times,serif" font-size="14.00">pg_exporter : Register pgsql exporter as prometheus target</text>
</a>
</g>
</g>
<!-- role_89f85c62&#45;&gt;task_ead26254 -->
<g id="edge_a25a773f" class="edge">
<title>role_89f85c62-&gt;task_ead26254</title>
<g id="a_edge_a25a773f"><a xlink:title="15 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1581.18,-1214.81C1581.78,-1149.71 1593.59,-926.33 1724.24,-833.9 1766.82,-803.78 2420.71,-813.73 2788.43,-821.8" id="path_edge_a25a773f"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2788.61,-825.3 2798.69,-822.02 2788.77,-818.3 2788.61,-825.3"/>
</a>
</g>
<g id="a_edge_a25a773f-label"><a xlink:title="15 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_a25a773f" text-anchor="middle" startOffset="50%">15 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_ead26254"/></links></g>
<!-- task_00657a75 -->
<g id="task_00657a75" class="node">
<title>task_00657a75</title>
<g id="a_task_00657a75"><a xlink:title="pg_register : Register postgres service to consul">
<polygon fill="none" stroke="#cb014d" points="3231.58,-766.44 3231.58,-781.35 3116.97,-791.9 2954.9,-791.9 2840.29,-781.35 2840.29,-766.44 2954.9,-755.9 3116.97,-755.9 3231.58,-766.44"/>
<text text-anchor="middle" x="3035.94" y="-770.2" font-family="Times,serif" font-size="14.00">pg_register : Register postgres service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_00657a75 -->
<g id="edge_5cbb6c2a" class="edge">
<title>role_cb3cadfd-&gt;task_00657a75</title>
<g id="a_edge_5cbb6c2a"><a xlink:title="1 [when: not no_cmdb|bool and service_registry == 'consul']">
<path fill="none" stroke="#cb014d" d="M1583.43,-468.08C1590.84,-522.65 1621.14,-685.41 1724.24,-751.9 1769.77,-781.26 2472.74,-779.11 2829.92,-776.09" id="path_edge_5cbb6c2a"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2830.16,-779.59 2840.13,-776 2830.1,-772.59 2830.16,-779.59"/>
</a>
</g>
<g id="a_edge_5cbb6c2a-label"><a xlink:title="1 [when: not no_cmdb|bool and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_5cbb6c2a" text-anchor="middle" startOffset="50%">1 [when: not no_cmdb|bool and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_00657a75"/></links></g>
<!-- task_76bfbbe8 -->
<g id="task_76bfbbe8" class="node">
<title>task_76bfbbe8</title>
<g id="a_task_76bfbbe8"><a xlink:title="pg_register : Register patroni service to consul">
<polygon fill="none" stroke="#cb014d" points="3226.73,-712.44 3226.73,-727.35 3114.97,-737.9 2956.91,-737.9 2845.14,-727.35 2845.14,-712.44 2956.91,-701.9 3114.97,-701.9 3226.73,-712.44"/>
<text text-anchor="middle" x="3035.94" y="-716.2" font-family="Times,serif" font-size="14.00">pg_register : Register patroni service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_76bfbbe8 -->
<g id="edge_1d4b1f40" class="edge">
<title>role_cb3cadfd-&gt;task_76bfbbe8</title>
<g id="a_edge_1d4b1f40"><a xlink:title="2 [when: not no_cmdb|bool and service_registry == 'consul' and patroni_mode != 'remove']">
<path fill="none" stroke="#cb014d" d="M1585.45,-468.06C1597.33,-515.58 1636.55,-643.41 1724.24,-694.9 1817.29,-749.53 2491.66,-736.94 2835.08,-726.74" id="path_edge_1d4b1f40"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2835.26,-730.24 2845.15,-726.44 2835.05,-723.24 2835.26,-730.24"/>
</a>
</g>
<g id="a_edge_1d4b1f40-label"><a xlink:title="2 [when: not no_cmdb|bool and service_registry == 'consul' and patroni_mode != 'remove']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_1d4b1f40" text-anchor="middle" startOffset="50%">2 [when: not no_cmdb|bool and service_registry == 'consul' and patroni_mode != 'remove']</textPath></text>
</a>
</g>
<links><link target="task_76bfbbe8"/></links></g>
<!-- task_bfc4a891 -->
<g id="task_bfc4a891" class="node">
<title>task_bfc4a891</title>
<g id="a_task_bfc4a891"><a xlink:title="pg_register : Register pgbouncer service to consul">
<polygon fill="none" stroke="#cb014d" points="3239.96,-658.44 3239.96,-673.35 3120.45,-683.9 2951.43,-683.9 2831.91,-673.35 2831.91,-658.44 2951.43,-647.9 3120.45,-647.9 3239.96,-658.44"/>
<text text-anchor="middle" x="3035.94" y="-662.2" font-family="Times,serif" font-size="14.00">pg_register : Register pgbouncer service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_bfc4a891 -->
<g id="edge_87046bf8" class="edge">
<title>role_cb3cadfd-&gt;task_bfc4a891</title>
<g id="a_edge_87046bf8"><a xlink:title="3 [when: not no_cmdb|bool and service_registry == 'consul']">
<path fill="none" stroke="#cb014d" d="M1588.48,-467.9C1605.27,-507.34 1651.36,-600.78 1724.24,-637.9 1819.07,-686.2 2474.93,-678.87 2821.44,-671.41" id="path_edge_87046bf8"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2821.68,-674.91 2831.6,-671.19 2821.53,-667.91 2821.68,-674.91"/>
</a>
</g>
<g id="a_edge_87046bf8-label"><a xlink:title="3 [when: not no_cmdb|bool and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_87046bf8" text-anchor="middle" startOffset="50%">3 [when: not no_cmdb|bool and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_bfc4a891"/></links></g>
<!-- task_5207336a -->
<g id="task_5207336a" class="node">
<title>task_5207336a</title>
<g id="a_task_5207336a"><a xlink:title="pg_register : Register pg_exporter service to consul">
<polygon fill="none" stroke="#cb014d" points="3245.72,-604.44 3245.72,-619.35 3122.83,-629.9 2949.04,-629.9 2826.15,-619.35 2826.15,-604.44 2949.04,-593.9 3122.83,-593.9 3245.72,-604.44"/>
<text text-anchor="middle" x="3035.94" y="-608.2" font-family="Times,serif" font-size="14.00">pg_register : Register pg_exporter service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_5207336a -->
<g id="edge_3a7bde15" class="edge">
<title>role_cb3cadfd-&gt;task_5207336a</title>
<g id="a_edge_3a7bde15"><a xlink:title="4 [when: not no_cmdb|bool and service_registry == 'consul' and pg_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1593.26,-467.91C1615,-498.88 1664.37,-561.27 1724.24,-585.9 1822.08,-626.14 2469.09,-621.64 2816.02,-616.17" id="path_edge_3a7bde15"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2816.25,-619.66 2826.2,-616 2816.14,-612.66 2816.25,-619.66"/>
</a>
</g>
<g id="a_edge_3a7bde15-label"><a xlink:title="4 [when: not no_cmdb|bool and service_registry == 'consul' and pg_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_3a7bde15" text-anchor="middle" startOffset="50%">4 [when: not no_cmdb|bool and service_registry == 'consul' and pg_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_5207336a"/></links></g>
<!-- task_fe3d5861 -->
<g id="task_fe3d5861" class="node">
<title>task_fe3d5861</title>
<g id="a_task_fe3d5861"><a xlink:title="pg_register : Register pgbouncer_exporter service to consul">
<polygon fill="none" stroke="#cb014d" points="3275.72,-550.44 3275.72,-565.35 3135.26,-575.9 2936.62,-575.9 2796.15,-565.35 2796.15,-550.44 2936.62,-539.9 3135.26,-539.9 3275.72,-550.44"/>
<text text-anchor="middle" x="3035.94" y="-554.2" font-family="Times,serif" font-size="14.00">pg_register : Register pgbouncer_exporter service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_fe3d5861 -->
<g id="edge_9752985c" class="edge">
<title>role_cb3cadfd-&gt;task_fe3d5861</title>
<g id="a_edge_9752985c"><a xlink:title="5 [when: not no_cmdb|bool and service_registry == 'consul' and pgbouncer_exporter_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1606.27,-467.04C1633.76,-484.83 1679.96,-511.62 1724.24,-522.9 1917.91,-572.24 2462.55,-570.36 2785.57,-564.31" id="path_edge_9752985c"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2786.08,-567.8 2796.01,-564.11 2785.95,-560.8 2786.08,-567.8"/>
</a>
</g>
<g id="a_edge_9752985c-label"><a xlink:title="5 [when: not no_cmdb|bool and service_registry == 'consul' and pgbouncer_exporter_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_9752985c" text-anchor="middle" startOffset="50%">5 [when: not no_cmdb|bool and service_registry == 'consul' and pgbouncer_exporter_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_fe3d5861"/></links></g>
<!-- task_caf7fcd8 -->
<g id="task_caf7fcd8" class="node">
<title>task_caf7fcd8</title>
<g id="a_task_caf7fcd8"><a xlink:title="pg_register : Register haproxy (exporter) service to consul">
<polygon fill="none" stroke="#cb014d" points="3271.78,-496.44 3271.78,-511.35 3133.62,-521.9 2938.25,-521.9 2800.1,-511.35 2800.1,-496.44 2938.25,-485.9 3133.62,-485.9 3271.78,-496.44"/>
<text text-anchor="middle" x="3035.94" y="-500.2" font-family="Times,serif" font-size="14.00">pg_register : Register haproxy (exporter) service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_caf7fcd8 -->
<g id="edge_77e031c3" class="edge">
<title>role_cb3cadfd-&gt;task_caf7fcd8</title>
<g id="a_edge_77e031c3"><a xlink:title="6 [when: not no_cmdb|bool and service_registry == 'consul' and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1642.02,-459.41C1667.37,-463 1697.17,-466.74 1724.24,-468.9 2095.02,-498.41 2526.45,-504.51 2790.06,-505.06" id="path_edge_77e031c3"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2790.14,-508.56 2800.14,-505.08 2790.15,-501.56 2790.14,-508.56"/>
</a>
</g>
<g id="a_edge_77e031c3-label"><a xlink:title="6 [when: not no_cmdb|bool and service_registry == 'consul' and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_77e031c3" text-anchor="middle" startOffset="50%">6 [when: not no_cmdb|bool and service_registry == 'consul' and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_caf7fcd8"/></links></g>
<!-- task_68883f7d -->
<g id="task_68883f7d" class="node">
<title>task_68883f7d</title>
<g id="a_task_68883f7d"><a xlink:title="pg_register : Register cluster service to consul">
<polygon fill="none" stroke="#cb014d" points="3225.42,-442.44 3225.42,-457.35 3114.42,-467.9 2957.45,-467.9 2846.46,-457.35 2846.46,-442.44 2957.45,-431.9 3114.42,-431.9 3225.42,-442.44"/>
<text text-anchor="middle" x="3035.94" y="-446.2" font-family="Times,serif" font-size="14.00">pg_register : Register cluster service to consul</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_68883f7d -->
<g id="edge_b40538f5" class="edge">
<title>role_cb3cadfd-&gt;task_68883f7d</title>
<g id="a_edge_b40538f5"><a xlink:title="7 [when: not no_cmdb|bool and service_registry == 'consul' and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1652.91,-449.9C1867.05,-449.9 2508.08,-449.9 2836.39,-449.9" id="path_edge_b40538f5"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2836.49,-453.4 2846.49,-449.9 2836.49,-446.4 2836.49,-453.4"/>
</a>
</g>
<g id="a_edge_b40538f5-label"><a xlink:title="7 [when: not no_cmdb|bool and service_registry == 'consul' and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b40538f5" text-anchor="middle" startOffset="50%">7 [when: not no_cmdb|bool and service_registry == 'consul' and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_68883f7d"/></links></g>
<!-- task_d62b07a6 -->
<g id="task_d62b07a6" class="node">
<title>task_d62b07a6</title>
<g id="a_task_d62b07a6"><a xlink:title="pg_register : Reload consul to finish register">
<polygon fill="none" stroke="#cb014d" points="3217.44,-388.44 3217.44,-403.35 3111.12,-413.9 2960.76,-413.9 2854.43,-403.35 2854.43,-388.44 2960.76,-377.9 3111.12,-377.9 3217.44,-388.44"/>
<text text-anchor="middle" x="3035.94" y="-392.2" font-family="Times,serif" font-size="14.00">pg_register : Reload consul to finish register</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_d62b07a6 -->
<g id="edge_4275788d" class="edge">
<title>role_cb3cadfd-&gt;task_d62b07a6</title>
<g id="a_edge_4275788d"><a xlink:title="8 [when: not no_cmdb|bool and service_registry == 'consul']">
<path fill="none" stroke="#cb014d" d="M1642.02,-440.39C1667.37,-436.8 1697.17,-433.05 1724.24,-430.9 2121.71,-399.26 2588.87,-394.53 2844.28,-394.7" id="path_edge_4275788d"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2844.4,-398.2 2854.41,-394.71 2844.41,-391.2 2844.4,-398.2"/>
</a>
</g>
<g id="a_edge_4275788d-label"><a xlink:title="8 [when: not no_cmdb|bool and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_4275788d" text-anchor="middle" startOffset="50%">8 [when: not no_cmdb|bool and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_d62b07a6"/></links></g>
<!-- task_082ff7ff -->
<g id="task_082ff7ff" class="node">
<title>task_082ff7ff</title>
<g id="a_task_082ff7ff"><a xlink:title="pg_register : Render datasource definition on meta node">
<polygon fill="none" stroke="#cb014d" points="3263.39,-334.44 3263.39,-349.35 3130.15,-359.9 2941.72,-359.9 2808.48,-349.35 2808.48,-334.44 2941.72,-323.9 3130.15,-323.9 3263.39,-334.44"/>
<text text-anchor="middle" x="3035.94" y="-338.2" font-family="Times,serif" font-size="14.00">pg_register : Render datasource definition on meta node</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_082ff7ff -->
<g id="edge_7c549f74" class="edge">
<title>role_cb3cadfd-&gt;task_082ff7ff</title>
<g id="a_edge_7c549f74"><a xlink:title="9 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1605.73,-432.85C1633.13,-414.81 1679.59,-387.39 1724.24,-375.9 1920.31,-325.45 2476.72,-328.69 2798.05,-335.37" id="path_edge_7c549f74"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2798.36,-338.88 2808.43,-335.59 2798.51,-331.88 2798.36,-338.88"/>
</a>
</g>
<g id="a_edge_7c549f74-label"><a xlink:title="9 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_7c549f74" text-anchor="middle" startOffset="50%">9 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_082ff7ff"/></links></g>
<!-- task_12968fe7 -->
<g id="task_12968fe7" class="node">
<title>task_12968fe7</title>
<g id="a_task_12968fe7"><a xlink:title="pg_register : Load grafana datasource on meta node">
<polygon fill="none" stroke="#cb014d" points="3247.03,-280.44 3247.03,-295.35 3123.37,-305.9 2948.5,-305.9 2824.84,-295.35 2824.84,-280.44 2948.5,-269.9 3123.37,-269.9 3247.03,-280.44"/>
<text text-anchor="middle" x="3035.94" y="-284.2" font-family="Times,serif" font-size="14.00">pg_register : Load grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_12968fe7 -->
<g id="edge_f8a9b97a" class="edge">
<title>role_cb3cadfd-&gt;task_12968fe7</title>
<g id="a_edge_f8a9b97a"><a xlink:title="10 [when: not no_cmdb|bool]">
<path fill="none" stroke="#cb014d" d="M1592.85,-432.12C1614.3,-400.86 1663.71,-337 1724.24,-311.9 1924.97,-228.66 2555.51,-256.25 2862.97,-275.64" id="path_edge_f8a9b97a"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2863.12,-279.16 2873.32,-276.3 2863.56,-272.17 2863.12,-279.16"/>
</a>
</g>
<g id="a_edge_f8a9b97a-label"><a xlink:title="10 [when: not no_cmdb|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_f8a9b97a" text-anchor="middle" startOffset="50%">10 [when: not no_cmdb|bool]</textPath></text>
</a>
</g>
<links><link target="task_12968fe7"/></links></g>
<!-- task_8ad0e2e2 -->
<g id="task_8ad0e2e2" class="node">
<title>task_8ad0e2e2</title>
<g id="a_task_8ad0e2e2"><a xlink:title="pg_register : Create haproxy config dir resource dirs on /etc/pigsty">
<polygon fill="none" stroke="#cb014d" points="3302.68,-226.44 3302.68,-241.35 3146.43,-251.9 2925.45,-251.9 2769.19,-241.35 2769.19,-226.44 2925.45,-215.9 3146.43,-215.9 3302.68,-226.44"/>
<text text-anchor="middle" x="3035.94" y="-230.2" font-family="Times,serif" font-size="14.00">pg_register : Create haproxy config dir resource dirs on /etc/pigsty</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_8ad0e2e2 -->
<g id="edge_01186432" class="edge">
<title>role_cb3cadfd-&gt;task_8ad0e2e2</title>
<g id="a_edge_01186432"><a xlink:title="11 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1586.88,-431.69C1601.27,-388.19 1644.29,-278.72 1724.24,-235.9 1816.81,-186.31 2457.41,-207.2 2807.54,-222.71" id="path_edge_01186432"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2807.41,-226.21 2817.56,-223.15 2807.72,-219.21 2807.41,-226.21"/>
</a>
</g>
<g id="a_edge_01186432-label"><a xlink:title="11 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_01186432" text-anchor="middle" startOffset="50%">11 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_8ad0e2e2"/></links></g>
<!-- task_67e8b10b -->
<g id="task_67e8b10b" class="node">
<title>task_67e8b10b</title>
<g id="a_task_67e8b10b"><a xlink:title="pg_register : Register haproxy upstream to nginx">
<polygon fill="none" stroke="#cb014d" points="3235.52,-172.44 3235.52,-187.35 3118.61,-197.9 2953.27,-197.9 2836.35,-187.35 2836.35,-172.44 2953.27,-161.9 3118.61,-161.9 3235.52,-172.44"/>
<text text-anchor="middle" x="3035.94" y="-176.2" font-family="Times,serif" font-size="14.00">pg_register : Register haproxy upstream to nginx</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_67e8b10b -->
<g id="edge_15cac040" class="edge">
<title>role_cb3cadfd-&gt;task_67e8b10b</title>
<g id="a_edge_15cac040"><a xlink:title="12 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1584.6,-431.7C1594.75,-381.48 1630.76,-240.93 1724.24,-184.9 1817.83,-128.8 2506.99,-153.96 2846.7,-170.1" id="path_edge_15cac040"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2846.74,-173.61 2856.9,-170.59 2847.08,-166.62 2846.74,-173.61"/>
</a>
</g>
<g id="a_edge_15cac040-label"><a xlink:title="12 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_15cac040" text-anchor="middle" startOffset="50%">12 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_67e8b10b"/></links></g>
<!-- task_ef8a9960 -->
<g id="task_ef8a9960" class="node">
<title>task_ef8a9960</title>
<g id="a_task_ef8a9960"><a xlink:title="pg_register : Register haproxy url location to nginx">
<polygon fill="none" stroke="#cb014d" points="3244.4,-118.44 3244.4,-133.35 3122.29,-143.9 2949.59,-143.9 2827.47,-133.35 2827.47,-118.44 2949.59,-107.9 3122.29,-107.9 3244.4,-118.44"/>
<text text-anchor="middle" x="3035.94" y="-122.2" font-family="Times,serif" font-size="14.00">pg_register : Register haproxy url location to nginx</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_ef8a9960 -->
<g id="edge_e3c979cb" class="edge">
<title>role_cb3cadfd-&gt;task_ef8a9960</title>
<g id="a_edge_e3c979cb"><a xlink:title="13 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1582.89,-431.89C1588.9,-375.41 1615.89,-201.38 1724.24,-130.9 1815.65,-71.44 2505.03,-98.22 2845.64,-115.43" id="path_edge_e3c979cb"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2845.7,-118.94 2855.86,-115.95 2846.06,-111.95 2845.7,-118.94"/>
</a>
</g>
<g id="a_edge_e3c979cb-label"><a xlink:title="13 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_e3c979cb" text-anchor="middle" startOffset="50%">13 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_ef8a9960"/></links></g>
<!-- task_ec3ef9cc -->
<g id="task_ec3ef9cc" class="node">
<title>task_ec3ef9cc</title>
<g id="a_task_ec3ef9cc"><a xlink:title="pg_register : Reload nginx to finish haproxy register">
<polygon fill="none" stroke="#cb014d" points="3248.35,-64.44 3248.35,-79.35 3123.92,-89.9 2947.95,-89.9 2823.53,-79.35 2823.53,-64.44 2947.95,-53.9 3123.92,-53.9 3248.35,-64.44"/>
<text text-anchor="middle" x="3035.94" y="-68.2" font-family="Times,serif" font-size="14.00">pg_register : Reload nginx to finish haproxy register</text>
</a>
</g>
</g>
<!-- role_cb3cadfd&#45;&gt;task_ec3ef9cc -->
<g id="edge_b9e51206" class="edge">
<title>role_cb3cadfd-&gt;task_ec3ef9cc</title>
<g id="a_edge_b9e51206"><a xlink:title="14 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<path fill="none" stroke="#cb014d" d="M1581.63,-431.56C1583.8,-368.59 1600.42,-160.43 1724.24,-74.9 1913.5,55.83 2621.24,-18.05 2910.54,-54.9" id="path_edge_b9e51206"/>
<polygon fill="#cb014d" stroke="#cb014d" points="2910.28,-58.39 2920.65,-56.19 2911.17,-51.45 2910.28,-58.39"/>
</a>
</g>
<g id="a_edge_b9e51206-label"><a xlink:title="14 [when: not no_cmdb|bool and haproxy_enabled|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#cb014d" dy="-1%"><textPath xlink:href="#path_edge_b9e51206" text-anchor="middle" startOffset="50%">14 [when: not no_cmdb|bool and haproxy_enabled|bool]</textPath></text>
</a>
</g>
<links><link target="task_ec3ef9cc"/></links></g>
</g>
</svg>