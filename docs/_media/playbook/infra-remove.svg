<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 6.0.2 (20221011.1828)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2164pt" height="2146pt" viewBox="0.00 0.00 2164.06 2146.04" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param {Element} parentElement
 * @param {string[]} visitedElements
 */
function highlightLinkedNodes(parentElement, visitedElements = []) {
    $(parentElement).find('link').each(function (index, element) {
        const linkedElementId = $(element).attr('target');
        const edgeId = $(element).attr('edge');

        const currentElement = $(`#${linkedElementId}`);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Highlight the edge point to the target
        $(`#${edgeId}`).addClass(HIGHLIGHT_CLASS);

        if (!visitedElements.includes(linkedElementId)) {
            visitedElements.push(linkedElementId);
            // Recursively highlight
            highlightLinkedNodes(currentElement, visitedElements);
        }
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} parentElement
 * @param {string[]} visitedElements
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the parentElement is the current selected element
 */
function unHighlightLinkedNodes(parentElement, visitedElements = [], isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');
    // Do not unhighlight the current selected element
    if ($(parentElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(parentElement).find('link').each(function (index, element) {
            const linkedElementId = $(element).attr('target');
            const edgeId = $(element).attr('edge');

            const linkedElement = $(`#${linkedElementId}`);

            if (linkedElement.attr('id') !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);

                // Unhighlight the edge point to the target
                $(`#${edgeId}`).removeClass(HIGHLIGHT_CLASS);

                if (!visitedElements.includes(linkedElementId)) {
                    visitedElements.push(linkedElementId);
                    // Recursively unhighlight
                    unHighlightLinkedNodes(linkedElement, visitedElements, isHover);
                }
            }

        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param {Event} event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget, []);
}

/**
 * Hover handler for mouseleave event
 * @param {Event} event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, [], true);
}

/**
 * Handler when clicking on some elements
 * @param {Event} event
 */
function clickOnElement(event) {
    const newClickedElement = $(event.currentTarget);

    event.preventDefault(); // Disable the default click behavior since we override it here

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, [], false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked to the current selected node
        unHighlightLinkedNodes(currentSelectedElement, [], false);
        if (currentSelectedElement) {
            currentSelectedElement.removeClass(HIGHLIGHT_CLASS);
        }

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement, []);
        currentSelectedElement = newClickedElement;
    }
}

/**
 * Handler when double clicking on some elements
 * @param {Event} event
 */
function dblClickElement(event) {
    const newElementDlbClicked = event.currentTarget;
    const links = $(newElementDlbClicked).find("a[xlink\\:href]");

    if (links.length > 0) {
        document.location = $(links[0]).attr("xlink:href");
    } else {
        console.log("No links found on this element");
    }
}


$("#svg").ready(function () {
    let playbooks = $("g[id^=playbook_]");
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");
    let tasks = $("g[id^=pre_task_], g[id^=task_], g[id^=post_task_]");

    playbooks.hover(hoverMouseEnter, hoverMouseLeave);
    playbooks.click(clickOnElement);
    playbooks.dblclick(dblClickElement);

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);
    plays.dblclick(dblClickElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);
    roles.dblclick(dblClickElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);
    blocks.dblclick(dblClickElement);

    // Set hover and click events on the tasks
    tasks.hover(hoverMouseEnter, hoverMouseLeave);
    tasks.click(clickOnElement);
    tasks.dblclick(dblClickElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2142.04)">
<polygon fill="white" stroke="none" points="-4,4 -4,-2142.04 2160.06,-2142.04 2160.06,4 -4,4"/>
<!-- infra&#45;remove.yml -->
<g id="playbook_24addd5e" class="node">
<title>infra-remove.yml</title>
<g id="a_playbook_24addd5e"><a xlink:href="/Users/vonng/pigsty/infra-remove.yml" xlink:title="infra-remove.yml">
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="73.44" cy="-1004.04" rx="73.39" ry="18"/>
<text text-anchor="middle" x="73.44" y="-1000.34" font-family="Times,serif" font-size="14.00">infra-remove.yml</text>
</a>
</g>
<links><link target="play_92626cd6" edge="edge_1_playbook_24addd5e_play_92626cd6"/><link target="play_75a49ef3" edge="edge_2_playbook_24addd5e_play_75a49ef3"/></links></g>
<!-- play_92626cd6 -->
<g id="play_92626cd6" class="node">
<title>play_92626cd6</title>
<g id="a_play_92626cd6"><a xlink:href="/Users/vonng/pigsty/infra-remove.yml" xlink:title="10.10.10.10">
<polygon fill="#6227a5" stroke="#6227a5" points="496.89,-1058.04 336.89,-1058.04 336.89,-1022.04 496.89,-1022.04 496.89,-1058.04"/>
<text text-anchor="middle" x="416.89" y="-1036.34" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove (1)</text>
</a>
</g>
<links><link target="role_a9319469" edge="edge_1_play_92626cd6_role_a9319469"/></links></g>
<!-- infra&#45;remove.yml&#45;&gt;play_92626cd6 -->
<g id="edge_playbook_24addd5e_play_92626cd6" class="edge">
<title>infra-remove.yml-&gt;play_92626cd6</title>
<g id="a_edge_playbook_24addd5e_play_92626cd6"><a xlink:title="1 Play: PGSQL Remove (1)">
<path fill="none" stroke="#6227a5" d="M141.09,-1011.06C194,-1016.64 268.48,-1024.49 326.55,-1030.62" id="path_edge_playbook_24addd5e_play_92626cd6"/>
<polygon fill="#6227a5" stroke="#6227a5" points="326.52,-1034.13 336.83,-1031.7 327.25,-1027.17 326.52,-1034.13"/>
</a>
</g>
<g id="a_edge_playbook_24addd5e_play_92626cd6-label"><a xlink:title="1 Play: PGSQL Remove (1)">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_playbook_24addd5e_play_92626cd6" startOffset="117.73135089051698">1 Play: PGSQL Remove (1)</textPath></text>
</a>
</g>
</g>
<!-- play_75a49ef3 -->
<g id="play_75a49ef3" class="node">
<title>play_75a49ef3</title>
<g id="a_play_75a49ef3"><a xlink:href="/Users/vonng/pigsty/infra-remove.yml" xlink:title="10.10.10.10">
<polygon fill="#393c93" stroke="#393c93" points="488.39,-995.04 345.39,-995.04 345.39,-959.04 488.39,-959.04 488.39,-995.04"/>
<text text-anchor="middle" x="416.89" y="-973.34" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Infra Remove (1)</text>
</a>
</g>
<links><link target="task_4739f122" edge="edge_1_play_75a49ef3_task_4739f122"/><link target="task_d4ea20a2" edge="edge_2_play_75a49ef3_task_d4ea20a2"/><link target="task_2b3285c1" edge="edge_3_play_75a49ef3_task_2b3285c1"/></links></g>
<!-- infra&#45;remove.yml&#45;&gt;play_75a49ef3 -->
<g id="edge_playbook_24addd5e_play_75a49ef3" class="edge">
<title>infra-remove.yml-&gt;play_75a49ef3</title>
<g id="a_edge_playbook_24addd5e_play_75a49ef3"><a xlink:title="2 Play: Infra Remove (1)">
<path fill="none" stroke="#393c93" d="M134.17,-993.91C144.4,-992.43 154.93,-991.06 164.89,-990.04 221.52,-984.2 285.62,-980.94 334.87,-979.14" id="path_edge_playbook_24addd5e_play_75a49ef3"/>
<polygon fill="#393c93" stroke="#393c93" points="335.27,-982.63 345.14,-978.78 335.03,-975.63 335.27,-982.63"/>
</a>
</g>
<g id="a_edge_playbook_24addd5e_play_75a49ef3-label"><a xlink:title="2 Play: Infra Remove (1)">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#393c93" dy="-0.2%"><textPath xlink:href="#path_edge_playbook_24addd5e_play_75a49ef3" startOffset="129.00580510729583">2 Play: Infra Remove (1)</textPath></text>
</a>
</g>
</g>
<!-- role_a9319469 -->
<g id="role_a9319469" class="node">
<title>role_a9319469</title>
<g id="a_role_a9319469"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove" xlink:title="pg_remove">
<ellipse fill="none" stroke="#6227a5" cx="875.5" cy="-1066.04" rx="72.59" ry="18"/>
<text text-anchor="middle" x="875.5" y="-1062.34" font-family="Times,serif" font-size="14.00">[role] pg_remove</text>
</a>
</g>
<links><link target="task_41d8c269" edge="edge_1_role_a9319469_task_41d8c269"/><link target="task_47cc47a9" edge="edge_2_role_a9319469_task_47cc47a9"/><link target="task_9bd206d7" edge="edge_3_role_a9319469_task_9bd206d7"/><link target="task_fd0db1b6" edge="edge_4_role_a9319469_task_fd0db1b6"/><link target="task_ca54f873" edge="edge_5_role_a9319469_task_ca54f873"/><link target="task_806e0f08" edge="edge_6_role_a9319469_task_806e0f08"/><link target="task_81babac6" edge="edge_7_role_a9319469_task_81babac6"/><link target="task_e356eb1c" edge="edge_8_role_a9319469_task_e356eb1c"/><link target="task_f33851b8" edge="edge_9_role_a9319469_task_f33851b8"/><link target="task_5da9ef73" edge="edge_10_role_a9319469_task_5da9ef73"/><link target="task_b914d78a" edge="edge_11_role_a9319469_task_b914d78a"/><link target="task_8fe792f9" edge="edge_12_role_a9319469_task_8fe792f9"/><link target="task_df3c407a" edge="edge_13_role_a9319469_task_df3c407a"/><link target="task_b47ea42a" edge="edge_14_role_a9319469_task_b47ea42a"/><link target="task_60df0ecc" edge="edge_15_role_a9319469_task_60df0ecc"/><link target="task_febebcd0" edge="edge_16_role_a9319469_task_febebcd0"/><link target="task_34f3ce81" edge="edge_17_role_a9319469_task_34f3ce81"/><link target="task_10f083f1" edge="edge_18_role_a9319469_task_10f083f1"/><link target="task_a738629f" edge="edge_19_role_a9319469_task_a738629f"/><link target="task_0af388fb" edge="edge_20_role_a9319469_task_0af388fb"/><link target="task_719442a5" edge="edge_21_role_a9319469_task_719442a5"/><link target="task_bcc1dbf1" edge="edge_22_role_a9319469_task_bcc1dbf1"/><link target="task_b27e1d01" edge="edge_23_role_a9319469_task_b27e1d01"/><link target="task_8f0d3fde" edge="edge_24_role_a9319469_task_8f0d3fde"/><link target="task_91dc292c" edge="edge_25_role_a9319469_task_91dc292c"/><link target="task_e211838a" edge="edge_26_role_a9319469_task_e211838a"/><link target="task_c8ad92b8" edge="edge_27_role_a9319469_task_c8ad92b8"/><link target="task_312ff893" edge="edge_28_role_a9319469_task_312ff893"/><link target="task_5d0d24d0" edge="edge_29_role_a9319469_task_5d0d24d0"/><link target="task_15d9691c" edge="edge_30_role_a9319469_task_15d9691c"/><link target="task_22371b77" edge="edge_31_role_a9319469_task_22371b77"/><link target="task_3192091c" edge="edge_32_role_a9319469_task_3192091c"/><link target="task_50b3bfd1" edge="edge_33_role_a9319469_task_50b3bfd1"/><link target="task_d7e65be8" edge="edge_34_role_a9319469_task_d7e65be8"/><link target="task_361d10b2" edge="edge_35_role_a9319469_task_361d10b2"/><link target="task_936ab63c" edge="edge_36_role_a9319469_task_936ab63c"/><link target="task_370d4d06" edge="edge_37_role_a9319469_task_370d4d06"/><link target="task_cb0c67e7" edge="edge_38_role_a9319469_task_cb0c67e7"/><link target="task_3aa86e43" edge="edge_39_role_a9319469_task_3aa86e43"/></links></g>
<!-- play_92626cd6&#45;&gt;role_a9319469 -->
<g id="edge_1_play_92626cd6_role_a9319469" class="edge">
<title>play_92626cd6-&gt;role_a9319469</title>
<g id="a_edge_1_play_92626cd6_role_a9319469"><a xlink:title="1 ">
<path fill="none" stroke="#6227a5" d="M496.9,-1044.54C580.09,-1049.27 710.37,-1056.69 794.08,-1061.46" id="path_edge_1_play_92626cd6_role_a9319469"/>
<polygon fill="#6227a5" stroke="#6227a5" points="794.12,-1064.97 804.31,-1062.04 794.52,-1057.98 794.12,-1064.97"/>
</a>
</g>
<g id="a_edge_1_play_92626cd6_role_a9319469-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_1_play_92626cd6_role_a9319469" startOffset="224.22257443186317">1 </textPath></text>
</a>
</g>
</g>
<!-- task_41d8c269 -->
<g id="task_41d8c269" class="node">
<title>task_41d8c269</title>
<g id="a_task_41d8c269"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/prometheus.yml" xlink:title="pg_remove : Remove pgsql target from prometheus">
<polygon fill="none" stroke="#6227a5" points="2091.09,-2084.58 2091.09,-2099.49 1967.19,-2110.04 1791.98,-2110.04 1668.08,-2099.49 1668.08,-2084.58 1791.98,-2074.04 1967.19,-2074.04 2091.09,-2084.58"/>
<text text-anchor="middle" x="1879.58" y="-2088.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgsql target from prometheus</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_41d8c269 -->
<g id="edge_1_role_a9319469_task_41d8c269" class="edge">
<title>role_a9319469-&gt;task_41d8c269</title>
<g id="a_edge_1_role_a9319469_task_41d8c269"><a xlink:title="1 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M877.22,-1084.29C882.52,-1208.59 919.84,-1929.44 1077.11,-2063.04 1172.99,-2144.48 1532.83,-2125.4 1736.23,-2107.13" id="path_edge_1_role_a9319469_task_41d8c269"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1736.76,-2110.59 1746.4,-2106.2 1736.12,-2103.62 1736.76,-2110.59"/>
</a>
</g>
<g id="a_edge_1_role_a9319469_task_41d8c269-label"><a xlink:title="1 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_1_role_a9319469_task_41d8c269" startOffset="1255.679555720848">1 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_47cc47a9 -->
<g id="task_47cc47a9" class="node">
<title>task_47cc47a9</title>
<g id="a_task_47cc47a9"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/grafana.yml" xlink:title="pg_remove : Remove grafana datasource on meta node">
<polygon fill="none" stroke="#6227a5" points="2103.91,-2030.58 2103.91,-2045.49 1972.5,-2056.04 1786.66,-2056.04 1655.25,-2045.49 1655.25,-2030.58 1786.66,-2020.04 1972.5,-2020.04 2103.91,-2030.58"/>
<text text-anchor="middle" x="1879.58" y="-2034.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_47cc47a9 -->
<g id="edge_2_role_a9319469_task_47cc47a9" class="edge">
<title>role_a9319469-&gt;task_47cc47a9</title>
<g id="a_edge_2_role_a9319469_task_47cc47a9"><a xlink:title="2 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M877.43,-1084.08C884,-1203.88 927.64,-1883.48 1077.11,-2009.04 1119.88,-2044.97 1423.95,-2047.25 1644.93,-2043.94" id="path_edge_2_role_a9319469_task_47cc47a9"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1645.11,-2047.44 1655.06,-2043.79 1645.01,-2040.44 1645.11,-2047.44"/>
</a>
</g>
<g id="a_edge_2_role_a9319469_task_47cc47a9-label"><a xlink:title="2 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_2_role_a9319469_task_47cc47a9" startOffset="1140.5393162542973">2 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_9bd206d7 -->
<g id="task_9bd206d7" class="node">
<title>task_9bd206d7</title>
<g id="a_task_9bd206d7"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/nginx.yml" xlink:title="pg_remove : Remove haproxy upstream from nginx">
<polygon fill="none" stroke="#6227a5" points="2091.99,-1976.58 2091.99,-1991.49 1967.57,-2002.04 1791.6,-2002.04 1667.17,-1991.49 1667.17,-1976.58 1791.6,-1966.04 1967.57,-1966.04 2091.99,-1976.58"/>
<text text-anchor="middle" x="1879.58" y="-1980.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy upstream from nginx</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_9bd206d7 -->
<g id="edge_3_role_a9319469_task_9bd206d7" class="edge">
<title>role_a9319469-&gt;task_9bd206d7</title>
<g id="a_edge_3_role_a9319469_task_9bd206d7"><a xlink:title="3 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M877.68,-1084.17C885.65,-1200.2 935.55,-1837.6 1077.11,-1955.04 1120.88,-1991.34 1435.16,-1993.12 1656.89,-1989.66" id="path_edge_3_role_a9319469_task_9bd206d7"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1657.1,-1993.15 1667.04,-1989.49 1656.99,-1986.15 1657.1,-1993.15"/>
</a>
</g>
<g id="a_edge_3_role_a9319469_task_9bd206d7-label"><a xlink:title="3 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_3_role_a9319469_task_9bd206d7" startOffset="1108.7158215240054">3 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_fd0db1b6 -->
<g id="task_fd0db1b6" class="node">
<title>task_fd0db1b6</title>
<g id="a_task_fd0db1b6"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/nginx.yml" xlink:title="pg_remove : Remove haproxy url location from nginx">
<polygon fill="none" stroke="#6227a5" points="2100.38,-1922.58 2100.38,-1937.49 1971.04,-1948.04 1788.13,-1948.04 1658.79,-1937.49 1658.79,-1922.58 1788.13,-1912.04 1971.04,-1912.04 2100.38,-1922.58"/>
<text text-anchor="middle" x="1879.58" y="-1926.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy url location from nginx</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_fd0db1b6 -->
<g id="edge_4_role_a9319469_task_fd0db1b6" class="edge">
<title>role_a9319469-&gt;task_fd0db1b6</title>
<g id="a_edge_4_role_a9319469_task_fd0db1b6"><a xlink:title="4 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M877.96,-1084.13C887.41,-1195.85 943.59,-1790.72 1077.11,-1900.04 1120.55,-1935.6 1427.33,-1938.26 1648.42,-1935.36" id="path_edge_4_role_a9319469_task_fd0db1b6"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1648.6,-1938.86 1658.55,-1935.23 1648.5,-1931.86 1648.6,-1938.86"/>
</a>
</g>
<g id="a_edge_4_role_a9319469_task_fd0db1b6-label"><a xlink:title="4 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_4_role_a9319469_task_fd0db1b6" startOffset="1060.8380354645728">4 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_ca54f873 -->
<g id="task_ca54f873" class="node">
<title>task_ca54f873</title>
<g id="a_task_ca54f873"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/nginx.yml" xlink:title="pg_remove : Reload nginx to remove haproxy upstream">
<polygon fill="none" stroke="#6227a5" points="2107.04,-1868.58 2107.04,-1883.49 1973.8,-1894.04 1785.37,-1894.04 1652.13,-1883.49 1652.13,-1868.58 1785.37,-1858.04 1973.8,-1858.04 2107.04,-1868.58"/>
<text text-anchor="middle" x="1879.58" y="-1872.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload nginx to remove haproxy upstream</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_ca54f873 -->
<g id="edge_5_role_a9319469_task_ca54f873" class="edge">
<title>role_a9319469-&gt;task_ca54f873</title>
<g id="a_edge_5_role_a9319469_task_ca54f873"><a xlink:title="5 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M878.3,-1084.35C889.34,-1192.35 951.49,-1744.82 1077.11,-1846.04 1120.41,-1880.92 1421.7,-1883.95 1642.18,-1881.3" id="path_edge_5_role_a9319469_task_ca54f873"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1642.33,-1884.8 1652.29,-1881.17 1642.25,-1877.8 1642.33,-1884.8"/>
</a>
</g>
<g id="a_edge_5_role_a9319469_task_ca54f873-label"><a xlink:title="5 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_5_role_a9319469_task_ca54f873" startOffset="1015.3303157796588">5 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_806e0f08 -->
<g id="task_806e0f08" class="node">
<title>task_806e0f08</title>
<g id="a_task_806e0f08"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Remove cluster service from consul">
<polygon fill="none" stroke="#6227a5" points="2081.39,-1814.58 2081.39,-1829.49 1963.17,-1840.04 1795.99,-1840.04 1677.78,-1829.49 1677.78,-1814.58 1795.99,-1804.04 1963.17,-1804.04 2081.39,-1814.58"/>
<text text-anchor="middle" x="1879.58" y="-1818.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove cluster service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_806e0f08 -->
<g id="edge_6_role_a9319469_task_806e0f08" class="edge">
<title>role_a9319469-&gt;task_806e0f08</title>
<g id="a_edge_6_role_a9319469_task_806e0f08"><a xlink:title="6 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M878.64,-1084.09C891.22,-1187.07 959.17,-1698.73 1077.11,-1792.04 1122.38,-1827.85 1445.29,-1829.86 1667.16,-1826.82" id="path_edge_6_role_a9319469_task_806e0f08"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1667.37,-1830.32 1677.32,-1826.68 1667.27,-1823.32 1667.37,-1830.32"/>
</a>
</g>
<g id="a_edge_6_role_a9319469_task_806e0f08-label"><a xlink:title="6 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_6_role_a9319469_task_806e0f08" startOffset="965.0788162699711">6 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_81babac6 -->
<g id="task_81babac6" class="node">
<title>task_81babac6</title>
<g id="a_task_81babac6"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Remove haproxy service from consul">
<polygon fill="none" stroke="#6227a5" points="2087.14,-1760.58 2087.14,-1775.49 1965.56,-1786.04 1793.61,-1786.04 1672.02,-1775.49 1672.02,-1760.58 1793.61,-1750.04 1965.56,-1750.04 2087.14,-1760.58"/>
<text text-anchor="middle" x="1879.58" y="-1764.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_81babac6 -->
<g id="edge_7_role_a9319469_task_81babac6" class="edge">
<title>role_a9319469-&gt;task_81babac6</title>
<g id="a_edge_7_role_a9319469_task_81babac6"><a xlink:title="7 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M879.1,-1084.33C893.54,-1183.14 967.2,-1651.83 1077.11,-1737.04 1122.36,-1772.12 1440.29,-1774.92 1661.84,-1772.44" id="path_edge_7_role_a9319469_task_81babac6"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1662.03,-1775.93 1671.99,-1772.32 1661.95,-1768.93 1662.03,-1775.93"/>
</a>
</g>
<g id="a_edge_7_role_a9319469_task_81babac6-label"><a xlink:title="7 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_7_role_a9319469_task_81babac6" startOffset="919.8823438137572">7 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_e356eb1c -->
<g id="task_e356eb1c" class="node">
<title>task_e356eb1c</title>
<g id="a_task_e356eb1c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Reload consul to dereigster haproxy">
<polygon fill="none" stroke="#6227a5" points="2080.98,-1706.58 2080.98,-1721.49 1963,-1732.04 1796.16,-1732.04 1678.18,-1721.49 1678.18,-1706.58 1796.16,-1696.04 1963,-1696.04 2080.98,-1706.58"/>
<text text-anchor="middle" x="1879.58" y="-1710.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster haproxy</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_e356eb1c -->
<g id="edge_8_role_a9319469_task_e356eb1c" class="edge">
<title>role_a9319469-&gt;task_e356eb1c</title>
<g id="a_edge_8_role_a9319469_task_e356eb1c"><a xlink:title="8 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M879.55,-1084.09C895.75,-1177.62 974.81,-1605.66 1077.11,-1683.04 1123.19,-1717.89 1446.32,-1720.58 1667.94,-1718.16" id="path_edge_8_role_a9319469_task_e356eb1c"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1668.13,-1721.66 1678.09,-1718.05 1668.05,-1714.66 1668.13,-1721.66"/>
</a>
</g>
<g id="a_edge_8_role_a9319469_task_e356eb1c-label"><a xlink:title="8 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_8_role_a9319469_task_e356eb1c" startOffset="884.7053889476332">8 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_f33851b8 -->
<g id="task_f33851b8" class="node">
<title>task_f33851b8</title>
<g id="a_task_f33851b8"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Stop and disable haproxy load balancer">
<polygon fill="none" stroke="#6227a5" points="2093.31,-1652.58 2093.31,-1667.49 1968.11,-1678.04 1791.06,-1678.04 1665.86,-1667.49 1665.86,-1652.58 1791.06,-1642.04 1968.11,-1642.04 2093.31,-1652.58"/>
<text text-anchor="middle" x="1879.58" y="-1656.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable haproxy load balancer</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_f33851b8 -->
<g id="edge_9_role_a9319469_task_f33851b8" class="edge">
<title>role_a9319469-&gt;task_f33851b8</title>
<g id="a_edge_9_role_a9319469_task_f33851b8"><a xlink:title="9 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M876.36,-1084.28C876.83,-1164.85 890.55,-1490.89 1077.11,-1628.04 1122.8,-1661.62 1434.76,-1665.42 1655.69,-1663.75" id="path_edge_9_role_a9319469_task_f33851b8"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1655.84,-1667.25 1665.82,-1663.67 1655.79,-1660.25 1655.84,-1667.25"/>
</a>
</g>
<g id="a_edge_9_role_a9319469_task_f33851b8-label"><a xlink:title="9 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_9_role_a9319469_task_f33851b8" startOffset="874.5540164185318">9 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_5da9ef73 -->
<g id="task_5da9ef73" class="node">
<title>task_5da9ef73</title>
<g id="a_task_5da9ef73"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/service.yml" xlink:title="pg_remove : Stop and disable vip-manager">
<polygon fill="none" stroke="#6227a5" points="2056.64,-1598.58 2056.64,-1613.49 1952.92,-1624.04 1806.24,-1624.04 1702.52,-1613.49 1702.52,-1598.58 1806.24,-1588.04 1952.92,-1588.04 2056.64,-1598.58"/>
<text text-anchor="middle" x="1879.58" y="-1602.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable vip-manager</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_5da9ef73 -->
<g id="edge_10_role_a9319469_task_5da9ef73" class="edge">
<title>role_a9319469-&gt;task_5da9ef73</title>
<g id="a_edge_10_role_a9319469_task_5da9ef73"><a xlink:title="10 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M877.11,-1084.05C880.74,-1159.44 905.78,-1451.35 1077.11,-1573.04 1125.93,-1607.71 1470.87,-1610.69 1692.04,-1608.91" id="path_edge_10_role_a9319469_task_5da9ef73"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1692.17,-1612.41 1702.14,-1608.83 1692.11,-1605.41 1692.17,-1612.41"/>
</a>
</g>
<g id="a_edge_10_role_a9319469_task_5da9ef73-label"><a xlink:title="10 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_10_role_a9319469_task_5da9ef73" startOffset="860.0620793345332">10 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_b914d78a -->
<g id="task_b914d78a" class="node">
<title>task_b914d78a</title>
<g id="a_task_b914d78a"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Remove pg_exporter service from consul">
<polygon fill="none" stroke="#6227a5" points="2101.69,-1544.58 2101.69,-1559.49 1971.58,-1570.04 1787.58,-1570.04 1657.48,-1559.49 1657.48,-1544.58 1787.58,-1534.04 1971.58,-1534.04 2101.69,-1544.58"/>
<text text-anchor="middle" x="1879.58" y="-1548.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_b914d78a -->
<g id="edge_11_role_a9319469_task_b914d78a" class="edge">
<title>role_a9319469-&gt;task_b914d78a</title>
<g id="a_edge_11_role_a9319469_task_b914d78a"><a xlink:title="11 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M878,-1084.08C884.95,-1154.54 920.67,-1412.58 1077.11,-1519.04 1123.37,-1550.52 1427.43,-1555.48 1647.37,-1554.81" id="path_edge_11_role_a9319469_task_b914d78a"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1647.46,-1558.31 1657.45,-1554.77 1647.44,-1551.31 1647.46,-1558.31"/>
</a>
</g>
<g id="a_edge_11_role_a9319469_task_b914d78a-label"><a xlink:title="11 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_11_role_a9319469_task_b914d78a" startOffset="757.0859813888978">11 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_8fe792f9 -->
<g id="task_8fe792f9" class="node">
<title>task_8fe792f9</title>
<g id="a_task_8fe792f9"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Reload consul to dereigster pg_exporter">
<polygon fill="none" stroke="#6227a5" points="2095.53,-1490.58 2095.53,-1505.49 1969.03,-1516.04 1790.14,-1516.04 1663.64,-1505.49 1663.64,-1490.58 1790.14,-1480.04 1969.03,-1480.04 2095.53,-1490.58"/>
<text text-anchor="middle" x="1879.58" y="-1494.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pg_exporter</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_8fe792f9 -->
<g id="edge_12_role_a9319469_task_8fe792f9" class="edge">
<title>role_a9319469-&gt;task_8fe792f9</title>
<g id="a_edge_12_role_a9319469_task_8fe792f9"><a xlink:title="12 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M879.13,-1084.19C889.68,-1149.52 935.41,-1373.61 1077.11,-1465.04 1124.54,-1495.64 1433.37,-1500.72 1653.47,-1500.32" id="path_edge_12_role_a9319469_task_8fe792f9"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1653.56,-1503.82 1663.55,-1500.3 1653.55,-1496.82 1653.56,-1503.82"/>
</a>
</g>
<g id="a_edge_12_role_a9319469_task_8fe792f9-label"><a xlink:title="12 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_12_role_a9319469_task_8fe792f9" startOffset="722.3333232106913">12 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_df3c407a -->
<g id="task_df3c407a" class="node">
<title>task_df3c407a</title>
<g id="a_task_df3c407a"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Stop and disable pg_exporter service">
<polygon fill="none" stroke="#6227a5" points="2083.61,-1436.58 2083.61,-1451.49 1964.09,-1462.04 1795.07,-1462.04 1675.56,-1451.49 1675.56,-1436.58 1795.07,-1426.04 1964.09,-1426.04 2083.61,-1436.58"/>
<text text-anchor="middle" x="1879.58" y="-1440.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pg_exporter service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_df3c407a -->
<g id="edge_13_role_a9319469_task_df3c407a" class="edge">
<title>role_a9319469-&gt;task_df3c407a</title>
<g id="a_edge_13_role_a9319469_task_df3c407a"><a xlink:title="13 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M880.41,-1084C894.48,-1143.78 948.71,-1336.61 1077.11,-1414.04 1126.29,-1443.69 1444.89,-1447.58 1665.27,-1446.6" id="path_edge_13_role_a9319469_task_df3c407a"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1665.37,-1450.1 1675.36,-1446.56 1665.34,-1443.1 1665.37,-1450.1"/>
</a>
</g>
<g id="a_edge_13_role_a9319469_task_df3c407a-label"><a xlink:title="13 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_13_role_a9319469_task_df3c407a" startOffset="724.1554378299286">13 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_b47ea42a -->
<g id="task_b47ea42a" class="node">
<title>task_b47ea42a</title>
<g id="a_task_b47ea42a"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Remove pgbouncer_exporter service from consul">
<polygon fill="none" stroke="#6227a5" points="2132.19,-1382.58 2132.19,-1397.49 1984.22,-1408.04 1774.95,-1408.04 1626.97,-1397.49 1626.97,-1382.58 1774.95,-1372.04 1984.22,-1372.04 2132.19,-1382.58"/>
<text text-anchor="middle" x="1879.58" y="-1386.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_b47ea42a -->
<g id="edge_14_role_a9319469_task_b47ea42a" class="edge">
<title>role_a9319469-&gt;task_b47ea42a</title>
<g id="a_edge_14_role_a9319469_task_b47ea42a"><a xlink:title="14 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M881.9,-1084C899.41,-1138.7 960.39,-1303.37 1077.11,-1368.04 1123.7,-1393.85 1401.12,-1396.66 1616.67,-1394.75" id="path_edge_14_role_a9319469_task_b47ea42a"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1616.92,-1398.25 1626.89,-1394.65 1616.86,-1391.25 1616.92,-1398.25"/>
</a>
</g>
<g id="a_edge_14_role_a9319469_task_b47ea42a-label"><a xlink:title="14 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_14_role_a9319469_task_b47ea42a" startOffset="626.3931761078604">14 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_60df0ecc -->
<g id="task_60df0ecc" class="node">
<title>task_60df0ecc</title>
<g id="a_task_60df0ecc"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Reload consul to dereigster pgbouncer_exporter">
<polygon fill="none" stroke="#6227a5" points="2126.03,-1328.58 2126.03,-1343.49 1981.66,-1354.04 1777.5,-1354.04 1633.14,-1343.49 1633.14,-1328.58 1777.5,-1318.04 1981.66,-1318.04 2126.03,-1328.58"/>
<text text-anchor="middle" x="1879.58" y="-1332.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer_exporter</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_60df0ecc -->
<g id="edge_15_role_a9319469_task_60df0ecc" class="edge">
<title>role_a9319469-&gt;task_60df0ecc</title>
<g id="a_edge_15_role_a9319469_task_60df0ecc"><a xlink:title="15 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M884.73,-1084.19C907.38,-1131.64 975.74,-1259.17 1077.11,-1309.04 1178.54,-1358.93 1473.77,-1356.39 1676.12,-1347.86" id="path_edge_15_role_a9319469_task_60df0ecc"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1676.45,-1351.35 1686.29,-1347.43 1676.15,-1344.36 1676.45,-1351.35"/>
</a>
</g>
<g id="a_edge_15_role_a9319469_task_60df0ecc-label"><a xlink:title="15 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_15_role_a9319469_task_60df0ecc" startOffset="634.5913440652382">15 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_febebcd0 -->
<g id="task_febebcd0" class="node">
<title>task_febebcd0</title>
<g id="a_task_febebcd0"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/monitor.yml" xlink:title="pg_remove : Stop and disable pgbouncer_exporter service">
<polygon fill="none" stroke="#6227a5" points="2114.52,-1274.58 2114.52,-1289.49 1976.9,-1300.04 1782.27,-1300.04 1644.65,-1289.49 1644.65,-1274.58 1782.27,-1264.04 1976.9,-1264.04 2114.52,-1274.58"/>
<text text-anchor="middle" x="1879.58" y="-1278.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer_exporter service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_febebcd0 -->
<g id="edge_16_role_a9319469_task_febebcd0" class="edge">
<title>role_a9319469-&gt;task_febebcd0</title>
<g id="a_edge_16_role_a9319469_task_febebcd0"><a xlink:title="16 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M889,-1083.91C917.25,-1122.56 990.35,-1213.34 1077.11,-1249.04 1175.26,-1289.42 1440.67,-1293.41 1639.36,-1290.03" id="path_edge_16_role_a9319469_task_febebcd0"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1639.43,-1293.53 1649.37,-1289.86 1639.31,-1286.53 1639.43,-1293.53"/>
</a>
</g>
<g id="a_edge_16_role_a9319469_task_febebcd0-label"><a xlink:title="16 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_16_role_a9319469_task_febebcd0" startOffset="598.5721440037297">16 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_34f3ce81 -->
<g id="task_34f3ce81" class="node">
<title>task_34f3ce81</title>
<g id="a_task_34f3ce81"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgbouncer.yml" xlink:title="pg_remove : Remove pgbouncer service from consul">
<polygon fill="none" stroke="#6227a5" points="2096.43,-1220.58 2096.43,-1235.49 1969.41,-1246.04 1789.76,-1246.04 1662.73,-1235.49 1662.73,-1220.58 1789.76,-1210.04 1969.41,-1210.04 2096.43,-1220.58"/>
<text text-anchor="middle" x="1879.58" y="-1224.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_34f3ce81 -->
<g id="edge_17_role_a9319469_task_34f3ce81" class="edge">
<title>role_a9319469-&gt;task_34f3ce81</title>
<g id="a_edge_17_role_a9319469_task_34f3ce81"><a xlink:title="17 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M896.06,-1083.48C930.03,-1112.53 1003.37,-1169.9 1077.11,-1193.04 1180.43,-1225.45 1453.95,-1231.4 1652.77,-1231.08" id="path_edge_17_role_a9319469_task_34f3ce81"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1652.79,-1234.58 1662.78,-1231.06 1652.77,-1227.58 1652.79,-1234.58"/>
</a>
</g>
<g id="a_edge_17_role_a9319469_task_34f3ce81-label"><a xlink:title="17 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_17_role_a9319469_task_34f3ce81" startOffset="548.2624357287825">17 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_10f083f1 -->
<g id="task_10f083f1" class="node">
<title>task_10f083f1</title>
<g id="a_task_10f083f1"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgbouncer.yml" xlink:title="pg_remove : Reload consul to dereigster pgbouncer">
<polygon fill="none" stroke="#6227a5" points="2089.77,-1166.58 2089.77,-1181.49 1966.65,-1192.04 1792.52,-1192.04 1669.39,-1181.49 1669.39,-1166.58 1792.52,-1156.04 1966.65,-1156.04 2089.77,-1166.58"/>
<text text-anchor="middle" x="1879.58" y="-1170.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_10f083f1 -->
<g id="edge_18_role_a9319469_task_10f083f1" class="edge">
<title>role_a9319469-&gt;task_10f083f1</title>
<g id="a_edge_18_role_a9319469_task_10f083f1"><a xlink:title="18 [when: pg_clean|bool and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M914.99,-1081.27C954.85,-1096.3 1019.29,-1118.5 1077.11,-1129.04 1271.84,-1164.51 1497.19,-1174.47 1659.24,-1176.31" id="path_edge_18_role_a9319469_task_10f083f1"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1659.3,-1179.81 1669.34,-1176.42 1659.38,-1172.81 1659.3,-1179.81"/>
</a>
</g>
<g id="a_edge_18_role_a9319469_task_10f083f1-label"><a xlink:title="18 [when: pg_clean|bool and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_18_role_a9319469_task_10f083f1" startOffset="519.9774675384753">18 [when: pg_clean|bool and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_a738629f -->
<g id="task_a738629f" class="node">
<title>task_a738629f</title>
<g id="a_task_a738629f"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgbouncer.yml" xlink:title="pg_remove : Stop and disable pgbouncer service">
<polygon fill="none" stroke="#6227a5" points="2077.85,-1112.58 2077.85,-1127.49 1961.71,-1138.04 1797.46,-1138.04 1681.31,-1127.49 1681.31,-1112.58 1797.46,-1102.04 1961.71,-1102.04 2077.85,-1112.58"/>
<text text-anchor="middle" x="1879.58" y="-1116.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_a738629f -->
<g id="edge_19_role_a9319469_task_a738629f" class="edge">
<title>role_a9319469-&gt;task_a738629f</title>
<g id="a_edge_19_role_a9319469_task_a738629f"><a xlink:title="19 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M942.84,-1073.17C981.89,-1077.16 1032.26,-1081.94 1077.11,-1085.04 1278.7,-1098.98 1509.23,-1108.36 1671.14,-1113.87" id="path_edge_19_role_a9319469_task_a738629f"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1671.1,-1117.37 1681.21,-1114.21 1671.34,-1110.37 1671.1,-1117.37"/>
</a>
</g>
<g id="a_edge_19_role_a9319469_task_a738629f-label"><a xlink:title="19 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_19_role_a9319469_task_a738629f" startOffset="530.463209710894">19 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_0af388fb -->
<g id="task_0af388fb" class="node">
<title>task_0af388fb</title>
<g id="a_task_0af388fb"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Get actuall pg_role">
<polygon fill="none" stroke="#6227a5" points="2016.04,-1058.58 2016.04,-1073.49 1936.1,-1084.04 1823.06,-1084.04 1743.13,-1073.49 1743.13,-1058.58 1823.06,-1048.04 1936.1,-1048.04 2016.04,-1058.58"/>
<text text-anchor="middle" x="1879.58" y="-1062.34" font-family="Times,serif" font-size="14.00">pg_remove : Get actuall pg_role</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_0af388fb -->
<g id="edge_20_role_a9319469_task_0af388fb" class="edge">
<title>role_a9319469-&gt;task_0af388fb</title>
<g id="a_edge_20_role_a9319469_task_0af388fb"><a xlink:title="20 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M948.57,-1066.04C1112.24,-1066.04 1514.63,-1066.04 1732.6,-1066.04" id="path_edge_20_role_a9319469_task_0af388fb"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1732.84,-1069.54 1742.84,-1066.04 1732.84,-1062.54 1732.84,-1069.54"/>
</a>
</g>
<g id="a_edge_20_role_a9319469_task_0af388fb-label"><a xlink:title="20 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_20_role_a9319469_task_0af388fb" startOffset="571.8627999999999">20 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_719442a5 -->
<g id="task_719442a5" class="node">
<title>task_719442a5</title>
<g id="a_task_719442a5"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Get pg_role from result">
<polygon fill="none" stroke="#6227a5" points="2032.81,-1004.58 2032.81,-1019.49 1943.05,-1030.04 1816.12,-1030.04 1726.36,-1019.49 1726.36,-1004.58 1816.12,-994.04 1943.05,-994.04 2032.81,-1004.58"/>
<text text-anchor="middle" x="1879.58" y="-1008.34" font-family="Times,serif" font-size="14.00">pg_remove : Get pg_role from result</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_719442a5 -->
<g id="edge_21_role_a9319469_task_719442a5" class="edge">
<title>role_a9319469-&gt;task_719442a5</title>
<g id="a_edge_21_role_a9319469_task_719442a5"><a xlink:title="21 [when: pg_clean|bool]">
<path fill="none" stroke="#6227a5" d="M942.84,-1058.9C981.89,-1054.91 1032.26,-1050.14 1077.11,-1047.04 1298.27,-1031.75 1554.24,-1021.94 1716.25,-1016.71" id="path_edge_21_role_a9319469_task_719442a5"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1716.41,-1020.2 1726.3,-1016.39 1716.19,-1013.21 1716.41,-1020.2"/>
</a>
</g>
<g id="a_edge_21_role_a9319469_task_719442a5-label"><a xlink:title="21 [when: pg_clean|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_21_role_a9319469_task_719442a5" startOffset="564.7650945074176">21 [when: pg_clean|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_bcc1dbf1 -->
<g id="task_bcc1dbf1" class="node">
<title>task_bcc1dbf1</title>
<g id="a_task_bcc1dbf1"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Set pg_role if applicable">
<polygon fill="none" stroke="#6227a5" points="2036.34,-950.58 2036.34,-965.49 1944.51,-976.04 1814.65,-976.04 1722.82,-965.49 1722.82,-950.58 1814.65,-940.04 1944.51,-940.04 2036.34,-950.58"/>
<text text-anchor="middle" x="1879.58" y="-954.34" font-family="Times,serif" font-size="14.00">pg_remove : Set pg_role if applicable</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_bcc1dbf1 -->
<g id="edge_22_role_a9319469_task_bcc1dbf1" class="edge">
<title>role_a9319469-&gt;task_bcc1dbf1</title>
<g id="a_edge_22_role_a9319469_task_bcc1dbf1"><a xlink:title="22 [when: pg_clean|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<path fill="none" stroke="#6227a5" d="M946.07,-1070.65C982.86,-1069.65 1026.93,-1062.62 1059.11,-1039.04 1073.86,-1028.23 1061.88,-1012.16 1077.11,-1002.04 1179.84,-933.78 1523.69,-938.88 1726.1,-948.53" id="path_edge_22_role_a9319469_task_bcc1dbf1"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1726.07,-952.03 1736.23,-949.02 1726.41,-945.04 1726.07,-952.03"/>
</a>
</g>
<g id="a_edge_22_role_a9319469_task_bcc1dbf1-label"><a xlink:title="22 [when: pg_clean|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_22_role_a9319469_task_bcc1dbf1" startOffset="531.4379537297419">22 [when: pg_clean|bool and pg_role_detected == 'primary' or pg_role_detected == 'replica']</textPath></text>
</a>
</g>
</g>
<!-- task_b27e1d01 -->
<g id="task_b27e1d01" class="node">
<title>task_b27e1d01</title>
<g id="a_task_b27e1d01"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove follower postgres service from consul">
<polygon fill="none" stroke="#6227a5" points="2122.49,-896.58 2122.49,-911.49 1980.2,-922.04 1778.97,-922.04 1636.67,-911.49 1636.67,-896.58 1778.97,-886.04 1980.2,-886.04 2122.49,-896.58"/>
<text text-anchor="middle" x="1879.58" y="-900.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower postgres service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_b27e1d01 -->
<g id="edge_23_role_a9319469_task_b27e1d01" class="edge">
<title>role_a9319469-&gt;task_b27e1d01</title>
<g id="a_edge_23_role_a9319469_task_b27e1d01"><a xlink:title="23 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M940.63,-1074.1C980.03,-1075.27 1028.64,-1069.29 1059.11,-1039.04 1096.13,-1002.28 1037.9,-957.45 1077.11,-923.04 1119.27,-886.04 1426.16,-888.1 1647.65,-894.7" id="path_edge_23_role_a9319469_task_b27e1d01"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1647.7,-898.21 1657.8,-895.01 1647.91,-891.21 1647.7,-898.21"/>
</a>
</g>
<g id="a_edge_23_role_a9319469_task_b27e1d01-label"><a xlink:title="23 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_23_role_a9319469_task_b27e1d01" startOffset="550.0085769292722">23 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_8f0d3fde -->
<g id="task_8f0d3fde" class="node">
<title>task_8f0d3fde</title>
<g id="a_task_8f0d3fde"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove follower patroni service from consul">
<polygon fill="none" stroke="#6227a5" points="2117.14,-842.58 2117.14,-857.49 1977.98,-868.04 1781.18,-868.04 1642.02,-857.49 1642.02,-842.58 1781.18,-832.04 1977.98,-832.04 2117.14,-842.58"/>
<text text-anchor="middle" x="1879.58" y="-846.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower patroni service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_8f0d3fde -->
<g id="edge_24_role_a9319469_task_8f0d3fde" class="edge">
<title>role_a9319469-&gt;task_8f0d3fde</title>
<g id="a_edge_24_role_a9319469_task_8f0d3fde"><a xlink:title="24 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M939.78,-1074.53C979.62,-1076.07 1029.02,-1070.34 1059.11,-1039.04 1084.98,-1012.13 1049.68,-897.35 1077.11,-872.04 1118.28,-834.03 1424.76,-835.13 1646.5,-841.18" id="path_edge_24_role_a9319469_task_8f0d3fde"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1646.57,-844.68 1656.66,-841.46 1646.76,-837.69 1646.57,-844.68"/>
</a>
</g>
<g id="a_edge_24_role_a9319469_task_8f0d3fde-label"><a xlink:title="24 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_24_role_a9319469_task_8f0d3fde" startOffset="585.941419785332">24 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_91dc292c -->
<g id="task_91dc292c" class="node">
<title>task_91dc292c</title>
<g id="a_task_91dc292c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Reload follower consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#6227a5" points="2156.03,-788.58 2156.03,-803.49 1994.09,-814.04 1765.08,-814.04 1603.14,-803.49 1603.14,-788.58 1765.08,-778.04 1994.09,-778.04 2156.03,-788.58"/>
<text text-anchor="middle" x="1879.58" y="-792.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_91dc292c -->
<g id="edge_25_role_a9319469_task_91dc292c" class="edge">
<title>role_a9319469-&gt;task_91dc292c</title>
<g id="a_edge_25_role_a9319469_task_91dc292c"><a xlink:title="25 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M939.61,-1074.77C979.64,-1076.48 1029.31,-1070.84 1059.11,-1039.04 1092.65,-1003.24 1041.52,-852.79 1077.11,-819.04 1116.17,-781.99 1400.65,-781.32 1619.7,-786.59" id="path_edge_25_role_a9319469_task_91dc292c"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1619.67,-790.09 1629.75,-786.83 1619.84,-783.09 1619.67,-790.09"/>
</a>
</g>
<g id="a_edge_25_role_a9319469_task_91dc292c-label"><a xlink:title="25 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_25_role_a9319469_task_91dc292c" startOffset="607.0983600461855">25 [when: pg_clean|bool and pg_role != 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_e211838a -->
<g id="task_e211838a" class="node">
<title>task_e211838a</title>
<g id="a_task_e211838a"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable follower patroni service">
<polygon fill="none" stroke="#6227a5" points="2099.97,-734.58 2099.97,-749.49 1970.87,-760.04 1788.3,-760.04 1659.2,-749.49 1659.2,-734.58 1788.3,-724.04 1970.87,-724.04 2099.97,-734.58"/>
<text text-anchor="middle" x="1879.58" y="-738.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower patroni service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_e211838a -->
<g id="edge_26_role_a9319469_task_e211838a" class="edge">
<title>role_a9319469-&gt;task_e211838a</title>
<g id="a_edge_26_role_a9319469_task_e211838a"><a xlink:title="26 [when: pg_clean|bool and pg_role != 'primary']">
<path fill="none" stroke="#6227a5" d="M939.34,-1074.9C979.51,-1076.74 1029.45,-1071.2 1059.11,-1039.04 1100.33,-994.34 1033.35,-808.25 1077.11,-766.04 1118.06,-726.53 1433.58,-727.7 1656.27,-733.7" id="path_edge_26_role_a9319469_task_e211838a"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1656.38,-737.2 1666.47,-733.98 1656.57,-730.2 1656.38,-737.2"/>
</a>
</g>
<g id="a_edge_26_role_a9319469_task_e211838a-label"><a xlink:title="26 [when: pg_clean|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_26_role_a9319469_task_e211838a" startOffset="705.4770048693102">26 [when: pg_clean|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_c8ad92b8 -->
<g id="task_c8ad92b8" class="node">
<title>task_c8ad92b8</title>
<g id="a_task_c8ad92b8"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable follower postgres service">
<polygon fill="none" stroke="#6227a5" points="2104.82,-680.58 2104.82,-695.49 1972.88,-706.04 1786.29,-706.04 1654.35,-695.49 1654.35,-680.58 1786.29,-670.04 1972.88,-670.04 2104.82,-680.58"/>
<text text-anchor="middle" x="1879.58" y="-684.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower postgres service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_c8ad92b8 -->
<g id="edge_27_role_a9319469_task_c8ad92b8" class="edge">
<title>role_a9319469-&gt;task_c8ad92b8</title>
<g id="a_edge_27_role_a9319469_task_c8ad92b8"><a xlink:title="27 [when: pg_clean|bool and pg_role != 'primary']">
<path fill="none" stroke="#6227a5" d="M939.01,-1074.99C979.3,-1076.93 1029.52,-1071.47 1059.11,-1039.04 1108.16,-985.27 1025.01,-762.85 1077.11,-712.04 1117.67,-672.48 1430.81,-673.53 1653.42,-679.54" id="path_edge_27_role_a9319469_task_c8ad92b8"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1653.52,-683.04 1663.61,-679.82 1653.71,-676.04 1653.52,-683.04"/>
</a>
</g>
<g id="a_edge_27_role_a9319469_task_c8ad92b8-label"><a xlink:title="27 [when: pg_clean|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_27_role_a9319469_task_c8ad92b8" startOffset="745.6689325696141">27 [when: pg_clean|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_312ff893 -->
<g id="task_312ff893" class="node">
<title>task_312ff893</title>
<g id="a_task_312ff893"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Force follower postgres shutdown">
<polygon fill="none" stroke="#6227a5" points="2073,-626.58 2073,-641.49 1959.7,-652.04 1799.47,-652.04 1686.16,-641.49 1686.16,-626.58 1799.47,-616.04 1959.7,-616.04 2073,-626.58"/>
<text text-anchor="middle" x="1879.58" y="-630.34" font-family="Times,serif" font-size="14.00">pg_remove : Force follower postgres shutdown</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_312ff893 -->
<g id="edge_28_role_a9319469_task_312ff893" class="edge">
<title>role_a9319469-&gt;task_312ff893</title>
<g id="a_edge_28_role_a9319469_task_312ff893"><a xlink:title="28 [when: pg_clean|bool and pg_role != 'primary']">
<path fill="none" stroke="#6227a5" d="M938.65,-1075.04C979.05,-1077.07 1029.54,-1071.71 1059.11,-1039.04 1087.55,-1007.62 1046.88,-687.74 1077.11,-658.04 1118.97,-616.89 1453.55,-619.54 1676.98,-626.14" id="path_edge_28_role_a9319469_task_312ff893"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1677.1,-629.65 1687.2,-626.45 1677.31,-622.65 1677.1,-629.65"/>
</a>
</g>
<g id="a_edge_28_role_a9319469_task_312ff893-label"><a xlink:title="28 [when: pg_clean|bool and pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_28_role_a9319469_task_312ff893" startOffset="801.4614467864233">28 [when: pg_clean|bool and pg_role != 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_5d0d24d0 -->
<g id="task_5d0d24d0" class="node">
<title>task_5d0d24d0</title>
<g id="a_task_5d0d24d0"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove leader postgres service from consul">
<polygon fill="none" stroke="#6227a5" points="2113.2,-572.58 2113.2,-587.49 1976.35,-598.04 1782.81,-598.04 1645.96,-587.49 1645.96,-572.58 1782.81,-562.04 1976.35,-562.04 2113.2,-572.58"/>
<text text-anchor="middle" x="1879.58" y="-576.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader postgres service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_5d0d24d0 -->
<g id="edge_29_role_a9319469_task_5d0d24d0" class="edge">
<title>role_a9319469-&gt;task_5d0d24d0</title>
<g id="a_edge_29_role_a9319469_task_5d0d24d0"><a xlink:title="29 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M938.71,-1075.09C979.14,-1077.15 1029.64,-1071.79 1059.11,-1039.04 1091.47,-1003.08 1042.71,-638.05 1077.11,-604.04 1117.11,-564.49 1426.13,-565.31 1648.49,-571.3" id="path_edge_29_role_a9319469_task_5d0d24d0"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1648.59,-574.8 1658.68,-571.57 1648.78,-567.8 1648.59,-574.8"/>
</a>
</g>
<g id="a_edge_29_role_a9319469_task_5d0d24d0-label"><a xlink:title="29 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_29_role_a9319469_task_5d0d24d0" startOffset="792.1727089998612">29 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_15d9691c -->
<g id="task_15d9691c" class="node">
<title>task_15d9691c</title>
<g id="a_task_15d9691c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove leader patroni service from consul">
<polygon fill="none" stroke="#6227a5" points="2108.76,-518.58 2108.76,-533.49 1974.51,-544.04 1784.65,-544.04 1650.41,-533.49 1650.41,-518.58 1784.65,-508.04 1974.51,-508.04 2108.76,-518.58"/>
<text text-anchor="middle" x="1879.58" y="-522.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader patroni service from consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_15d9691c -->
<g id="edge_30_role_a9319469_task_15d9691c" class="edge">
<title>role_a9319469-&gt;task_15d9691c</title>
<g id="a_edge_30_role_a9319469_task_15d9691c"><a xlink:title="30 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M938.76,-1075.14C979.21,-1077.22 1029.71,-1071.86 1059.11,-1039.04 1095.38,-998.54 1038.53,-588.35 1077.11,-550.04 1117.24,-510.18 1429.37,-511.26 1652.01,-517.36" id="path_edge_30_role_a9319469_task_15d9691c"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1652.11,-520.86 1662.21,-517.64 1652.31,-513.86 1652.11,-520.86"/>
</a>
</g>
<g id="a_edge_30_role_a9319469_task_15d9691c-label"><a xlink:title="30 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_30_role_a9319469_task_15d9691c" startOffset="836.227960045933">30 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_22371b77 -->
<g id="task_22371b77" class="node">
<title>task_22371b77</title>
<g id="a_task_22371b77"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Reload leader consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#6227a5" points="2146.74,-464.58 2146.74,-479.49 1990.24,-490.04 1768.92,-490.04 1612.43,-479.49 1612.43,-464.58 1768.92,-454.04 1990.24,-454.04 2146.74,-464.58"/>
<text text-anchor="middle" x="1879.58" y="-468.34" font-family="Times,serif" font-size="14.00">pg_remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_22371b77 -->
<g id="edge_31_role_a9319469_task_22371b77" class="edge">
<title>role_a9319469-&gt;task_22371b77</title>
<g id="a_edge_31_role_a9319469_task_22371b77"><a xlink:title="31 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<path fill="none" stroke="#6227a5" d="M938.36,-1075.15C978.9,-1077.3 1029.66,-1072.04 1059.11,-1039.04 1099.3,-994 1034.36,-538.65 1077.11,-496.04 1115.68,-457.59 1406.51,-457.18 1626.83,-462.67" id="path_edge_31_role_a9319469_task_22371b77"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1626.85,-466.17 1636.94,-462.92 1627.03,-459.17 1626.85,-466.17"/>
</a>
</g>
<g id="a_edge_31_role_a9319469_task_22371b77-label"><a xlink:title="31 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_31_role_a9319469_task_22371b77" startOffset="858.8004263485647">31 [when: pg_clean|bool and pg_role == 'primary' and dcs_registry == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_3192091c -->
<g id="task_3192091c" class="node">
<title>task_3192091c</title>
<g id="a_task_3192091c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable leader patroni service">
<polygon fill="none" stroke="#6227a5" points="2090.68,-410.58 2090.68,-425.49 1967.02,-436.04 1792.14,-436.04 1668.49,-425.49 1668.49,-410.58 1792.14,-400.04 1967.02,-400.04 2090.68,-410.58"/>
<text text-anchor="middle" x="1879.58" y="-414.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader patroni service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_3192091c -->
<g id="edge_32_role_a9319469_task_3192091c" class="edge">
<title>role_a9319469-&gt;task_3192091c</title>
<g id="a_edge_32_role_a9319469_task_3192091c"><a xlink:title="32 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#6227a5" d="M938.39,-1075.18C978.95,-1077.34 1029.71,-1072.08 1059.11,-1039.04 1103.22,-989.46 1030.18,-488.96 1077.11,-442.04 1117.89,-401.26 1441.67,-403.22 1665.01,-409.67" id="path_edge_32_role_a9319469_task_3192091c"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1665.13,-413.18 1675.23,-409.97 1665.34,-406.18 1665.13,-413.18"/>
</a>
</g>
<g id="a_edge_32_role_a9319469_task_3192091c-label"><a xlink:title="32 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_32_role_a9319469_task_3192091c" startOffset="958.2144354643286">32 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_50b3bfd1 -->
<g id="task_50b3bfd1" class="node">
<title>task_50b3bfd1</title>
<g id="a_task_50b3bfd1"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Stop and disable leader postgres service">
<polygon fill="none" stroke="#6227a5" points="2095.53,-356.58 2095.53,-371.49 1969.03,-382.04 1790.14,-382.04 1663.64,-371.49 1663.64,-356.58 1790.14,-346.04 1969.03,-346.04 2095.53,-356.58"/>
<text text-anchor="middle" x="1879.58" y="-360.34" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader postgres service</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_50b3bfd1 -->
<g id="edge_33_role_a9319469_task_50b3bfd1" class="edge">
<title>role_a9319469-&gt;task_50b3bfd1</title>
<g id="a_edge_33_role_a9319469_task_50b3bfd1"><a xlink:title="33 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#6227a5" d="M938.42,-1075.2C978.98,-1077.38 1029.75,-1072.12 1059.11,-1039.04 1107.14,-984.91 1026,-439.26 1077.11,-388.04 1117.66,-347.4 1438.75,-349.17 1661.99,-355.57" id="path_edge_33_role_a9319469_task_50b3bfd1"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1662.12,-359.07 1672.22,-355.86 1662.32,-352.07 1662.12,-359.07"/>
</a>
</g>
<g id="a_edge_33_role_a9319469_task_50b3bfd1-label"><a xlink:title="33 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_33_role_a9319469_task_50b3bfd1" startOffset="997.303066163905">33 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_d7e65be8 -->
<g id="task_d7e65be8" class="node">
<title>task_d7e65be8</title>
<g id="a_task_d7e65be8"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Force leader postgres shutdown">
<polygon fill="none" stroke="#6227a5" points="2063.71,-302.58 2063.71,-317.49 1955.85,-328.04 1803.31,-328.04 1695.45,-317.49 1695.45,-302.58 1803.31,-292.04 1955.85,-292.04 2063.71,-302.58"/>
<text text-anchor="middle" x="1879.58" y="-306.34" font-family="Times,serif" font-size="14.00">pg_remove : Force leader postgres shutdown</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_d7e65be8 -->
<g id="edge_34_role_a9319469_task_d7e65be8" class="edge">
<title>role_a9319469-&gt;task_d7e65be8</title>
<g id="a_edge_34_role_a9319469_task_d7e65be8"><a xlink:title="34 [when: pg_clean|bool and pg_role == 'primary']">
<path fill="none" stroke="#6227a5" d="M938.44,-1075.22C979.02,-1077.41 1029.79,-1072.15 1059.11,-1039.04 1085.08,-1009.71 1049.47,-361.8 1077.11,-334.04 1119.04,-291.93 1461.59,-295.31 1685.09,-302.24" id="path_edge_34_role_a9319469_task_d7e65be8"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1685.21,-305.74 1695.31,-302.56 1685.43,-298.75 1685.21,-305.74"/>
</a>
</g>
<g id="a_edge_34_role_a9319469_task_d7e65be8-label"><a xlink:title="34 [when: pg_clean|bool and pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_34_role_a9319469_task_d7e65be8" startOffset="1053.2808639429206">34 [when: pg_clean|bool and pg_role == 'primary']</textPath></text>
</a>
</g>
</g>
<!-- task_361d10b2 -->
<g id="task_361d10b2" class="node">
<title>task_361d10b2</title>
<g id="a_task_361d10b2"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove postgres metadata in consul">
<polygon fill="none" stroke="#6227a5" points="2083.61,-248.58 2083.61,-263.49 1964.09,-274.04 1795.07,-274.04 1675.56,-263.49 1675.56,-248.58 1795.07,-238.04 1964.09,-238.04 2083.61,-248.58"/>
<text text-anchor="middle" x="1879.58" y="-252.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres metadata in consul</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_361d10b2 -->
<g id="edge_35_role_a9319469_task_361d10b2" class="edge">
<title>role_a9319469-&gt;task_361d10b2</title>
<g id="a_edge_35_role_a9319469_task_361d10b2"><a xlink:title="35 [when: pg_clean|bool and pg_role == 'primary' and pg_dcs_type == 'consul']">
<path fill="none" stroke="#6227a5" d="M938.46,-1075.24C979.04,-1077.43 1029.82,-1072.17 1059.11,-1039.04 1087.04,-1007.43 1047.38,-309.95 1077.11,-280.04 1118.09,-238.8 1446.89,-241.16 1670.41,-247.78" id="path_edge_35_role_a9319469_task_361d10b2"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1670.54,-251.29 1680.64,-248.09 1670.75,-244.29 1670.54,-251.29"/>
</a>
</g>
<g id="a_edge_35_role_a9319469_task_361d10b2-label"><a xlink:title="35 [when: pg_clean|bool and pg_role == 'primary' and pg_dcs_type == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_35_role_a9319469_task_361d10b2" startOffset="1055.2725656381642">35 [when: pg_clean|bool and pg_role == 'primary' and pg_dcs_type == 'consul']</textPath></text>
</a>
</g>
</g>
<!-- task_936ab63c -->
<g id="task_936ab63c" class="node">
<title>task_936ab63c</title>
<g id="a_task_936ab63c"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/postgres.yml" xlink:title="pg_remove : Remove postgres metadata in etcd">
<polygon fill="none" stroke="#6227a5" points="2075.22,-194.58 2075.22,-209.49 1960.62,-220.04 1798.55,-220.04 1683.94,-209.49 1683.94,-194.58 1798.55,-184.04 1960.62,-184.04 2075.22,-194.58"/>
<text text-anchor="middle" x="1879.58" y="-198.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres metadata in etcd</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_936ab63c -->
<g id="edge_36_role_a9319469_task_936ab63c" class="edge">
<title>role_a9319469-&gt;task_936ab63c</title>
<g id="a_edge_36_role_a9319469_task_936ab63c"><a xlink:title="36 [when: pg_clean|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']">
<path fill="none" stroke="#6227a5" d="M938.47,-1075.25C979.07,-1077.45 1029.85,-1072.2 1059.11,-1039.04 1089.04,-1005.12 1045.23,-257.13 1077.11,-225.04 1118.6,-183.28 1455.17,-186.66 1678.76,-193.76" id="path_edge_36_role_a9319469_task_936ab63c"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1678.88,-197.27 1688.99,-194.09 1679.11,-190.27 1678.88,-197.27"/>
</a>
</g>
<g id="a_edge_36_role_a9319469_task_936ab63c-label"><a xlink:title="36 [when: pg_clean|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_36_role_a9319469_task_936ab63c" startOffset="1105.522325595573">36 [when: pg_clean|bool and pg_role == 'primary' and pg_dcs_type == 'etcd']</textPath></text>
</a>
</g>
</g>
<!-- task_370d4d06 -->
<g id="task_370d4d06" class="node">
<title>task_370d4d06</title>
<g id="a_task_370d4d06"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgdata.yml" xlink:title="pg_remove : Remove postgres data">
<polygon fill="none" stroke="#6227a5" points="2027.55,-140.58 2027.55,-155.49 1940.87,-166.04 1818.29,-166.04 1731.62,-155.49 1731.62,-140.58 1818.29,-130.04 1940.87,-130.04 2027.55,-140.58"/>
<text text-anchor="middle" x="1879.58" y="-144.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres data</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_370d4d06 -->
<g id="edge_37_role_a9319469_task_370d4d06" class="edge">
<title>role_a9319469-&gt;task_370d4d06</title>
<g id="a_edge_37_role_a9319469_task_370d4d06"><a xlink:title="37 [when: pg_clean|bool and rm_pgdata|bool]">
<path fill="none" stroke="#6227a5" d="M938.49,-1075.26C979.09,-1077.47 1029.87,-1072.22 1059.11,-1039.04 1091,-1002.85 1043.14,-205.28 1077.11,-171.04 1121.31,-126.48 1501.03,-133.29 1721.57,-141.2" id="path_edge_37_role_a9319469_task_370d4d06"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1721.51,-144.7 1731.63,-141.57 1721.76,-137.71 1721.51,-144.7"/>
</a>
</g>
<g id="a_edge_37_role_a9319469_task_370d4d06-label"><a xlink:title="37 [when: pg_clean|bool and rm_pgdata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_37_role_a9319469_task_370d4d06" startOffset="1211.230256216554">37 [when: pg_clean|bool and rm_pgdata|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_cb0c67e7 -->
<g id="task_cb0c67e7" class="node">
<title>task_cb0c67e7</title>
<g id="a_task_cb0c67e7"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgpkgs.yml" xlink:title="pg_remove : Remove pg packages">
<polygon fill="none" stroke="#6227a5" points="2024.42,-86.58 2024.42,-101.49 1939.58,-112.04 1819.59,-112.04 1734.74,-101.49 1734.74,-86.58 1819.59,-76.04 1939.58,-76.04 2024.42,-86.58"/>
<text text-anchor="middle" x="1879.58" y="-90.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg packages</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_cb0c67e7 -->
<g id="edge_38_role_a9319469_task_cb0c67e7" class="edge">
<title>role_a9319469-&gt;task_cb0c67e7</title>
<g id="a_edge_38_role_a9319469_task_cb0c67e7"><a xlink:title="38 [when: pg_clean|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#6227a5" d="M938.06,-1075.25C978.74,-1077.53 1029.78,-1072.36 1059.11,-1039.04 1092.96,-1000.58 1041.05,-153.43 1077.11,-117.04 1121.47,-72.27 1504.13,-79.33 1724.27,-87.29" id="path_edge_38_role_a9319469_task_cb0c67e7"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1724.18,-90.79 1734.3,-87.66 1724.44,-83.8 1724.18,-90.79"/>
</a>
</g>
<g id="a_edge_38_role_a9319469_task_cb0c67e7-label"><a xlink:title="38 [when: pg_clean|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_38_role_a9319469_task_cb0c67e7" startOffset="1254.779754614175">38 [when: pg_clean|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_3aa86e43 -->
<g id="task_3aa86e43" class="node">
<title>task_3aa86e43</title>
<g id="a_task_3aa86e43"><a xlink:href="/Users/vonng/pigsty/roles/pg_remove/tasks/pgpkgs.yml" xlink:title="pg_remove : Remove pg extensions">
<polygon fill="none" stroke="#6227a5" points="2029.27,-32.58 2029.27,-47.49 1941.59,-58.04 1817.58,-58.04 1729.89,-47.49 1729.89,-32.58 1817.58,-22.04 1941.59,-22.04 2029.27,-32.58"/>
<text text-anchor="middle" x="1879.58" y="-36.34" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg extensions</text>
</a>
</g>
</g>
<!-- role_a9319469&#45;&gt;task_3aa86e43 -->
<g id="edge_39_role_a9319469_task_3aa86e43" class="edge">
<title>role_a9319469-&gt;task_3aa86e43</title>
<g id="a_edge_39_role_a9319469_task_3aa86e43"><a xlink:title="39 [when: pg_clean|bool and rm_pgpkgs|bool]">
<path fill="none" stroke="#6227a5" d="M938.07,-1075.26C978.76,-1077.54 1029.8,-1072.37 1059.11,-1039.04 1094.92,-998.31 1038.96,-101.58 1077.11,-63.04 1170.71,31.53 1571.48,-2.32 1768.44,-25.52" id="path_edge_39_role_a9319469_task_3aa86e43"/>
<polygon fill="#6227a5" stroke="#6227a5" points="1768.19,-29.02 1778.53,-26.72 1769.01,-22.07 1768.19,-29.02"/>
</a>
</g>
<g id="a_edge_39_role_a9319469_task_3aa86e43-label"><a xlink:title="39 [when: pg_clean|bool and rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#6227a5" dy="-0.2%"><textPath xlink:href="#path_edge_39_role_a9319469_task_3aa86e43" startOffset="1335.871809075721">39 [when: pg_clean|bool and rm_pgpkgs|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_4739f122 -->
<g id="task_4739f122" class="node">
<title>task_4739f122</title>
<g id="a_task_4739f122"><a xlink:href="/Users/vonng/pigsty/infra-remove.yml" xlink:title="Stop and disable systemd infra service">
<polygon fill="none" stroke="#393c93" points="1059.22,-1004.58 1059.22,-1019.49 951.6,-1030.04 799.4,-1030.04 691.78,-1019.49 691.78,-1004.58 799.4,-994.04 951.6,-994.04 1059.22,-1004.58"/>
<text text-anchor="middle" x="875.5" y="-1008.34" font-family="Times,serif" font-size="14.00">[task] Stop and disable systemd infra service</text>
</a>
</g>
</g>
<!-- play_75a49ef3&#45;&gt;task_4739f122 -->
<g id="edge_1_play_75a49ef3_task_4739f122" class="edge">
<title>play_75a49ef3-&gt;task_4739f122</title>
<g id="a_edge_1_play_75a49ef3_task_4739f122"><a xlink:title="1 ">
<path fill="none" stroke="#393c93" d="M488.54,-987.11C497.4,-988.19 506.35,-989.2 514.89,-990.04 571.41,-995.55 633.08,-999.92 689.13,-1003.26" id="path_edge_1_play_75a49ef3_task_4739f122"/>
<polygon fill="#393c93" stroke="#393c93" points="688.97,-1006.76 699.16,-1003.85 689.39,-999.77 688.97,-1006.76"/>
</a>
</g>
<g id="a_edge_1_play_75a49ef3_task_4739f122-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#393c93" dy="-0.2%"><textPath xlink:href="#path_edge_1_play_75a49ef3_task_4739f122" startOffset="150.9604442469826">1 </textPath></text>
</a>
</g>
</g>
<!-- task_d4ea20a2 -->
<g id="task_d4ea20a2" class="node">
<title>task_d4ea20a2</title>
<g id="a_task_d4ea20a2"><a xlink:href="/Users/vonng/pigsty/infra-remove.yml" xlink:title="Remove infra data on meta nodes">
<polygon fill="none" stroke="#393c93" points="1041.55,-950.58 1041.55,-965.49 944.28,-976.04 806.72,-976.04 709.45,-965.49 709.45,-950.58 806.72,-940.04 944.28,-940.04 1041.55,-950.58"/>
<text text-anchor="middle" x="875.5" y="-954.34" font-family="Times,serif" font-size="14.00">[task] Remove infra data on meta nodes</text>
</a>
</g>
</g>
<!-- play_75a49ef3&#45;&gt;task_d4ea20a2 -->
<g id="edge_2_play_75a49ef3_task_d4ea20a2" class="edge">
<title>play_75a49ef3-&gt;task_d4ea20a2</title>
<g id="a_edge_2_play_75a49ef3_task_d4ea20a2"><a xlink:title="2 [when: rm_metadata|bool]">
<path fill="none" stroke="#393c93" d="M488.73,-974.09C544.83,-971.75 625.67,-968.39 698.87,-965.35" id="path_edge_2_play_75a49ef3_task_d4ea20a2"/>
<polygon fill="#393c93" stroke="#393c93" points="699.29,-968.83 709.14,-964.92 699,-961.84 699.29,-968.83"/>
</a>
</g>
<g id="a_edge_2_play_75a49ef3_task_d4ea20a2-label"><a xlink:title="2 [when: rm_metadata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#393c93" dy="-0.2%"><textPath xlink:href="#path_edge_2_play_75a49ef3_task_d4ea20a2" startOffset="133.84447359222506">2 [when: rm_metadata|bool]</textPath></text>
</a>
</g>
</g>
<!-- task_2b3285c1 -->
<g id="task_2b3285c1" class="node">
<title>task_2b3285c1</title>
<g id="a_task_2b3285c1"><a xlink:href="/Users/vonng/pigsty/infra-remove.yml" xlink:title="Uninstall meta packages">
<polygon fill="none" stroke="#393c93" points="1005.79,-896.58 1005.79,-911.49 929.47,-922.04 821.53,-922.04 745.21,-911.49 745.21,-896.58 821.53,-886.04 929.47,-886.04 1005.79,-896.58"/>
<text text-anchor="middle" x="875.5" y="-900.34" font-family="Times,serif" font-size="14.00">[task] Uninstall meta packages</text>
</a>
</g>
</g>
<!-- play_75a49ef3&#45;&gt;task_2b3285c1 -->
<g id="edge_3_play_75a49ef3_task_2b3285c1" class="edge">
<title>play_75a49ef3-&gt;task_2b3285c1</title>
<g id="a_edge_3_play_75a49ef3_task_2b3285c1"><a xlink:title="3 [when: rm_metapkgs|bool]">
<path fill="none" stroke="#393c93" d="M470.04,-959.01C484.43,-954.56 500.15,-950.17 514.89,-947.04 590.36,-930.99 676.11,-920.45 744.94,-913.82" id="path_edge_3_play_75a49ef3_task_2b3285c1"/>
<polygon fill="#393c93" stroke="#393c93" points="745.34,-917.3 754.97,-912.87 744.68,-910.33 745.34,-917.3"/>
</a>
</g>
<g id="a_edge_3_play_75a49ef3_task_2b3285c1-label"><a xlink:title="3 [when: rm_metapkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#393c93" dy="-0.2%"><textPath xlink:href="#path_edge_3_play_75a49ef3_task_2b3285c1" startOffset="186.03206898431898">3 [when: rm_metapkgs|bool]</textPath></text>
</a>
</g>
</g>
</g>
</svg>