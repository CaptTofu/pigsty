<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 3.0.0 (20220226.1711)
 --><!-- Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1918pt" height="2128pt" viewBox="0.00 0.00 1918.06 2127.73" id="svg">
<script type="text/javascript" href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" id="jquery"/><script type="text/javascript" id="my_javascript"><![CDATA[/**
 * This file contains the functions responsible to highlight the plays, roles and tasks when rendering the SVG file in a browser
 * or any SVG reader that support Javascript.
 */

/**
 * The name of the CSS class for highlighted elements
 * @type {string}
 */
const HIGHLIGHT_CLASS = "highlight";

/**
 * The current selected element on the graph
 * @type {null}
 */
let currentSelectedElement = null;

/**
 * Highlight the linked nodes of the given root element
 * @param rootElement
 */
function highlightLinkedNodes(rootElement) {
    $(rootElement).find('link').each(function (index, element) {
        let target = $(element).attr('target');
        let currentElement = $('#' + target);
        currentElement.addClass(HIGHLIGHT_CLASS);

        // Recursively highlight
        highlightLinkedNodes(currentElement);
    })
}


/**
 * Unhighlight the linked nodes of the given root element
 * @param {Element} rootElement
 * @param {boolean} isHover True when we are coming from a mouseleave event. In that case, we should not unhighlight if
 * the rootElement is the current selected element
 */
function unHighlightLinkedNodes(rootElement, isHover) {
    const currentSelectedElementId = $(currentSelectedElement).attr('id');

    // Do not unhighlight the current current selected element
    if ($(rootElement).attr('id') !== currentSelectedElementId || !isHover) {

        $(rootElement).find('link').each(function (index, element) {
            let linkedElementId = $(element).attr('target');
            let linkedElement = $('#' + linkedElementId);

            if (linkedElement.attr("id") !== currentSelectedElementId) {
                linkedElement.removeClass(HIGHLIGHT_CLASS);
                // Recursively unhighlight
                unHighlightLinkedNodes(linkedElement, isHover);
            }
            
        })
    }

}

/**
 * Hover handler for mouseenter event
 * @param event
 */
function hoverMouseEnter(event) {
    highlightLinkedNodes(event.currentTarget);
}

/**
 * Hover handler for mouseleave event
 * @param event
 */
function hoverMouseLeave(event) {
    unHighlightLinkedNodes(event.currentTarget, true);
}

/**
 * Handler when clicking on some elements
 * @param event
 */
function clickOnElement(event) {
    let newClickedElement = $(event.currentTarget);

    if (newClickedElement.attr('id') === $(currentSelectedElement).attr('id')) { // clicking again on the same element
        newClickedElement.removeClass(HIGHLIGHT_CLASS);
        unHighlightLinkedNodes(currentSelectedElement, false);
        currentSelectedElement = null;
    } else { // clicking on a different node

        // Remove highlight from all the nodes linked the current selected node
        unHighlightLinkedNodes(currentSelectedElement, false);

        newClickedElement.addClass(HIGHLIGHT_CLASS);
        highlightLinkedNodes(newClickedElement);
        currentSelectedElement = newClickedElement;
    }
}


$("#svg").ready(function () {
    let plays = $("g[id^=play_]");
    let roles = $("g[id^=role_]");
    let blocks = $("g[id^=block_]");

    // Set hover and click events on the plays
    plays.hover(hoverMouseEnter, hoverMouseLeave);
    plays.click(clickOnElement);

    // Set hover and click events on the roles
    roles.hover(hoverMouseEnter, hoverMouseLeave);
    roles.click(clickOnElement);

    // Set hover and click events on the blocks
    blocks.hover(hoverMouseEnter, hoverMouseLeave);
    blocks.click(clickOnElement);

});
]]></script><style type="text/css" id="my_css"><![CDATA[/**
 Hover on nodes, edges, path and polygon
 */
.node:hover, .edge:hover, path:hover, path + polygon:hover {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}

/**
 Manually added class by the script highlight-hover.js when hovering on plays and roles
 */
.highlight {
    cursor: pointer;
    stroke-width: 3;
    font-weight: bolder;
}
]]></style><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2123.73)">
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2123.73 1914.06,-2123.73 1914.06,4 -4,4"/>
<!-- infra&#45;remove.yml -->
<g id="root_node" class="node">
<title>infra-remove.yml</title>
<ellipse fill="none" stroke="black" stroke-dasharray="1,5" cx="73.44" cy="-994.73" rx="73.39" ry="18"/>
<text text-anchor="middle" x="73.44" y="-991.03" font-family="Times,serif" font-size="14.00">infra-remove.yml</text>
</g>
<!-- play_8a41c33b -->
<g id="play_8a41c33b" class="node">
<title>play_8a41c33b</title>
<g id="a_play_8a41c33b"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#62319b" stroke="#62319b" points="352.89,-1048.73 193.89,-1048.73 193.89,-1012.73 352.89,-1012.73 352.89,-1048.73"/>
<text text-anchor="middle" x="273.39" y="-1027.03" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: PGSQL Remove (3)</text>
</a>
</g>
<links><link target="edge_787a1aa8"/></links></g>
<!-- infra&#45;remove.yml&#45;&gt;play_8a41c33b -->
<g id="edge_1adc2870" class="edge">
<title>infra-remove.yml-&gt;play_8a41c33b</title>
<g id="a_edge_1adc2870"><a xlink:title="1 ">
<path fill="none" stroke="#62319b" d="M133.03,-1005.38C148.94,-1008.28 166.54,-1011.48 183.72,-1014.6" id="path_edge_1adc2870"/>
<polygon fill="#62319b" stroke="#62319b" points="183.3,-1018.08 193.77,-1016.43 184.56,-1011.2 183.3,-1018.08"/>
</a>
</g>
<g id="a_edge_1adc2870-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_1adc2870" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="play_8a41c33b"/></links></g>
<!-- play_c4e1fecf -->
<g id="play_c4e1fecf" class="node">
<title>play_c4e1fecf</title>
<g id="a_play_c4e1fecf"><a xlink:title="10.10.10.10,10.10.10.11,10.10.10.12">
<polygon fill="#12ba4d" stroke="#12ba4d" points="344.89,-985.73 201.89,-985.73 201.89,-949.73 344.89,-949.73 344.89,-985.73"/>
<text text-anchor="middle" x="273.39" y="-964.03" font-family="Times,serif" font-size="14.00" fill="#ffffff">Play: Infra Remove (3)</text>
</a>
</g>
<links><link target="edge_64c3acd5"/><link target="edge_4f7162b0"/><link target="edge_3e8fe797"/></links></g>
<!-- infra&#45;remove.yml&#45;&gt;play_c4e1fecf -->
<g id="edge_47821ba7" class="edge">
<title>infra-remove.yml-&gt;play_c4e1fecf</title>
<g id="a_edge_47821ba7"><a xlink:title="2 ">
<path fill="none" stroke="#12ba4d" d="M135.7,-984.96C145.46,-983.49 155.44,-982.03 164.89,-980.73 173.55,-979.53 182.61,-978.35 191.64,-977.2" id="path_edge_47821ba7"/>
<polygon fill="#12ba4d" stroke="#12ba4d" points="192.31,-980.64 201.8,-975.92 191.44,-973.7 192.31,-980.64"/>
</a>
</g>
<g id="a_edge_47821ba7-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#12ba4d" dy="-1%"><textPath xlink:href="#path_edge_47821ba7" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="play_c4e1fecf"/></links></g>
<!-- role_ea53d2b0 -->
<g id="role_ea53d2b0" class="node">
<title>role_ea53d2b0</title>
<g id="a_role_ea53d2b0"><a xlink:title="pg_remove">
<ellipse fill="none" stroke="#62319b" cx="731.5" cy="-1056.73" rx="72.59" ry="18"/>
<text text-anchor="middle" x="731.5" y="-1053.03" font-family="Times,serif" font-size="14.00">[role] pg_remove</text>
</a>
</g>
<links><link target="edge_6d511b09"/><link target="edge_77323ac2"/><link target="edge_470dda33"/><link target="edge_2d2d9ffc"/><link target="edge_cf776f78"/><link target="edge_77eaa294"/><link target="edge_ac08ea6e"/><link target="edge_61f0f4b3"/><link target="edge_e80a8b3b"/><link target="edge_4a33374d"/><link target="edge_c2af7651"/><link target="edge_8d0ccfd3"/><link target="edge_0738657b"/><link target="edge_0f79ef65"/><link target="edge_98bca9c2"/><link target="edge_37d7fe10"/><link target="edge_6728b237"/><link target="edge_970b25ea"/><link target="edge_f1265ec5"/><link target="edge_d4e99839"/><link target="edge_bc594d2b"/><link target="edge_d2a62d28"/><link target="edge_f0c393ad"/><link target="edge_a687210d"/><link target="edge_343a896a"/><link target="edge_2c8ade6b"/><link target="edge_790af908"/><link target="edge_85cda015"/><link target="edge_364e8681"/><link target="edge_8b48e379"/><link target="edge_4a898731"/><link target="edge_ab130082"/><link target="edge_35af3abf"/><link target="edge_2153fc24"/><link target="edge_019eff68"/><link target="edge_2412c4d7"/><link target="edge_16bf4bb6"/><link target="edge_75cda66c"/><link target="edge_f3a31005"/></links></g>
<!-- play_8a41c33b&#45;&gt;role_ea53d2b0 -->
<g id="edge_787a1aa8" class="edge">
<title>play_8a41c33b-&gt;role_ea53d2b0</title>
<g id="a_edge_787a1aa8"><a xlink:title="1 ">
<path fill="none" stroke="#62319b" d="M353.05,-1035.21C436.11,-1039.95 566.36,-1047.37 650.07,-1052.14" id="path_edge_787a1aa8"/>
<polygon fill="#62319b" stroke="#62319b" points="650.12,-1055.65 660.3,-1052.73 650.51,-1048.66 650.12,-1055.65"/>
</a>
</g>
<g id="a_edge_787a1aa8-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_787a1aa8" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="role_ea53d2b0"/></links></g>
<!-- task_87a8df58 -->
<g id="task_87a8df58" class="node">
<title>task_87a8df58</title>
<g id="a_task_87a8df58"><a xlink:title="pg_remove : Remove pgsql target from prometheus">
<polygon fill="none" stroke="#62319b" points="1845.09,-2075.27 1845.09,-2090.18 1721.19,-2100.73 1545.98,-2100.73 1422.08,-2090.18 1422.08,-2075.27 1545.98,-2064.73 1721.19,-2064.73 1845.09,-2075.27"/>
<text text-anchor="middle" x="1633.58" y="-2079.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgsql target from prometheus</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_87a8df58 -->
<g id="edge_6d511b09" class="edge">
<title>role_ea53d2b0-&gt;task_87a8df58</title>
<g id="a_edge_6d511b09"><a xlink:title="1 ">
<path fill="none" stroke="#62319b" d="M733.25,-1074.89C738.74,-1198.57 777.13,-1915.85 933.11,-2049.73 1011.99,-2117.43 1297.64,-2109.41 1478.59,-2096.62" id="path_edge_6d511b09"/>
<polygon fill="#62319b" stroke="#62319b" points="1479.02,-2100.09 1488.74,-2095.89 1478.51,-2093.11 1479.02,-2100.09"/>
</a>
</g>
<g id="a_edge_6d511b09-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_6d511b09" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_87a8df58"/></links></g>
<!-- task_39b7eff9 -->
<g id="task_39b7eff9" class="node">
<title>task_39b7eff9</title>
<g id="a_task_39b7eff9"><a xlink:title="pg_remove : Remove grafana datasource on meta node">
<polygon fill="none" stroke="#62319b" points="1857.91,-2021.27 1857.91,-2036.18 1726.5,-2046.73 1540.66,-2046.73 1409.25,-2036.18 1409.25,-2021.27 1540.66,-2010.73 1726.5,-2010.73 1857.91,-2021.27"/>
<text text-anchor="middle" x="1633.58" y="-2025.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove grafana datasource on meta node</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_39b7eff9 -->
<g id="edge_77323ac2" class="edge">
<title>role_ea53d2b0-&gt;task_39b7eff9</title>
<g id="a_edge_77323ac2"><a xlink:title="2 ">
<path fill="none" stroke="#62319b" d="M733.49,-1075.04C740.36,-1195.13 785.27,-1869.1 933.11,-1994.73 968.41,-2024.72 1209.57,-2031.05 1398.97,-2031.27" id="path_edge_77323ac2"/>
<polygon fill="#62319b" stroke="#62319b" points="1399.09,-2034.77 1409.09,-2031.27 1399.09,-2027.77 1399.09,-2034.77"/>
</a>
</g>
<g id="a_edge_77323ac2-label"><a xlink:title="2 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_77323ac2" text-anchor="middle" startOffset="50%">2 </textPath></text>
</a>
</g>
<links><link target="task_39b7eff9"/></links></g>
<!-- task_9cf15ac3 -->
<g id="task_9cf15ac3" class="node">
<title>task_9cf15ac3</title>
<g id="a_task_9cf15ac3"><a xlink:title="pg_remove : Remove haproxy upstream from nginx">
<polygon fill="none" stroke="#62319b" points="1845.99,-1967.27 1845.99,-1982.18 1721.57,-1992.73 1545.6,-1992.73 1421.17,-1982.18 1421.17,-1967.27 1545.6,-1956.73 1721.57,-1956.73 1845.99,-1967.27"/>
<text text-anchor="middle" x="1633.58" y="-1971.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy upstream from nginx</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_9cf15ac3 -->
<g id="edge_470dda33" class="edge">
<title>role_ea53d2b0-&gt;task_9cf15ac3</title>
<g id="a_edge_470dda33"><a xlink:title="3 ">
<path fill="none" stroke="#62319b" d="M733.72,-1074.73C741.91,-1189.99 792.96,-1823.13 933.11,-1940.73 969.34,-1971.13 1219.91,-1977.13 1410.9,-1977.17" id="path_edge_470dda33"/>
<polygon fill="#62319b" stroke="#62319b" points="1411.09,-1980.67 1421.09,-1977.16 1411.09,-1973.67 1411.09,-1980.67"/>
</a>
</g>
<g id="a_edge_470dda33-label"><a xlink:title="3 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_470dda33" text-anchor="middle" startOffset="50%">3 </textPath></text>
</a>
</g>
<links><link target="task_9cf15ac3"/></links></g>
<!-- task_125b6ddf -->
<g id="task_125b6ddf" class="node">
<title>task_125b6ddf</title>
<g id="a_task_125b6ddf"><a xlink:title="pg_remove : Remove haproxy url location from nginx">
<polygon fill="none" stroke="#62319b" points="1854.38,-1913.27 1854.38,-1928.18 1725.04,-1938.73 1542.13,-1938.73 1412.79,-1928.18 1412.79,-1913.27 1542.13,-1902.73 1725.04,-1902.73 1854.38,-1913.27"/>
<text text-anchor="middle" x="1633.58" y="-1917.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy url location from nginx</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_125b6ddf -->
<g id="edge_2d2d9ffc" class="edge">
<title>role_ea53d2b0-&gt;task_125b6ddf</title>
<g id="a_edge_2d2d9ffc"><a xlink:title="4 ">
<path fill="none" stroke="#62319b" d="M734.03,-1075.07C743.75,-1187.06 800.89,-1777.35 933.11,-1886.73 969,-1916.42 1212.61,-1922.75 1402.37,-1923.04" id="path_edge_2d2d9ffc"/>
<polygon fill="#62319b" stroke="#62319b" points="1402.49,-1926.54 1412.5,-1923.05 1402.5,-1919.54 1402.49,-1926.54"/>
</a>
</g>
<g id="a_edge_2d2d9ffc-label"><a xlink:title="4 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_2d2d9ffc" text-anchor="middle" startOffset="50%">4 </textPath></text>
</a>
</g>
<links><link target="task_125b6ddf"/></links></g>
<!-- task_354eb6af -->
<g id="task_354eb6af" class="node">
<title>task_354eb6af</title>
<g id="a_task_354eb6af"><a xlink:title="pg_remove : Reload nginx to remove haproxy upstream">
<polygon fill="none" stroke="#62319b" points="1861.04,-1859.27 1861.04,-1874.18 1727.8,-1884.73 1539.37,-1884.73 1406.13,-1874.18 1406.13,-1859.27 1539.37,-1848.73 1727.8,-1848.73 1861.04,-1859.27"/>
<text text-anchor="middle" x="1633.58" y="-1863.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload nginx to remove haproxy upstream</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_354eb6af -->
<g id="edge_cf776f78" class="edge">
<title>role_ea53d2b0-&gt;task_354eb6af</title>
<g id="a_edge_cf776f78"><a xlink:title="5 ">
<path fill="none" stroke="#62319b" d="M734.33,-1074.93C745.56,-1182.26 808.6,-1731.38 933.11,-1832.73 968.83,-1861.8 1207.36,-1868.37 1396.08,-1868.89" id="path_edge_cf776f78"/>
<polygon fill="#62319b" stroke="#62319b" points="1396.15,-1872.39 1406.16,-1868.91 1396.16,-1865.39 1396.15,-1872.39"/>
</a>
</g>
<g id="a_edge_cf776f78-label"><a xlink:title="5 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_cf776f78" text-anchor="middle" startOffset="50%">5 </textPath></text>
</a>
</g>
<links><link target="task_354eb6af"/></links></g>
<!-- task_c638eb9c -->
<g id="task_c638eb9c" class="node">
<title>task_c638eb9c</title>
<g id="a_task_c638eb9c"><a xlink:title="pg_remove : Remove cluster service from consul">
<polygon fill="none" stroke="#62319b" points="1835.39,-1805.27 1835.39,-1820.18 1717.17,-1830.73 1549.99,-1830.73 1431.78,-1820.18 1431.78,-1805.27 1549.99,-1794.73 1717.17,-1794.73 1835.39,-1805.27"/>
<text text-anchor="middle" x="1633.58" y="-1809.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove cluster service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_c638eb9c -->
<g id="edge_77eaa294" class="edge">
<title>role_ea53d2b0-&gt;task_c638eb9c</title>
<g id="a_edge_77eaa294"><a xlink:title="6 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M734.72,-1074.97C747.63,-1177.89 816.56,-1684.49 933.11,-1777.73 970.68,-1807.78 1229.22,-1814.05 1421.1,-1814.46" id="path_edge_77eaa294"/>
<polygon fill="#62319b" stroke="#62319b" points="1421.33,-1817.96 1431.34,-1814.48 1421.34,-1810.96 1421.33,-1817.96"/>
</a>
</g>
<g id="a_edge_77eaa294-label"><a xlink:title="6 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_77eaa294" text-anchor="middle" startOffset="50%">6 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_c638eb9c"/></links></g>
<!-- task_770c40f6 -->
<g id="task_770c40f6" class="node">
<title>task_770c40f6</title>
<g id="a_task_770c40f6"><a xlink:title="pg_remove : Remove haproxy service from consul">
<polygon fill="none" stroke="#62319b" points="1841.14,-1751.27 1841.14,-1766.18 1719.56,-1776.73 1547.61,-1776.73 1426.02,-1766.18 1426.02,-1751.27 1547.61,-1740.73 1719.56,-1740.73 1841.14,-1751.27"/>
<text text-anchor="middle" x="1633.58" y="-1755.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove haproxy service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_770c40f6 -->
<g id="edge_ac08ea6e" class="edge">
<title>role_ea53d2b0-&gt;task_770c40f6</title>
<g id="a_edge_ac08ea6e"><a xlink:title="7 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M735.13,-1074.89C749.75,-1173.02 824.22,-1638.46 933.11,-1723.73 970.61,-1753.09 1224.27,-1759.62 1415.42,-1760.27" id="path_edge_ac08ea6e"/>
<polygon fill="#62319b" stroke="#62319b" points="1415.6,-1763.77 1425.61,-1760.3 1415.62,-1756.77 1415.6,-1763.77"/>
</a>
</g>
<g id="a_edge_ac08ea6e-label"><a xlink:title="7 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_ac08ea6e" text-anchor="middle" startOffset="50%">7 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_770c40f6"/></links></g>
<!-- task_cca67120 -->
<g id="task_cca67120" class="node">
<title>task_cca67120</title>
<g id="a_task_cca67120"><a xlink:title="pg_remove : Reload consul to dereigster haproxy">
<polygon fill="none" stroke="#62319b" points="1834.98,-1697.27 1834.98,-1712.18 1717,-1722.73 1550.16,-1722.73 1432.18,-1712.18 1432.18,-1697.27 1550.16,-1686.73 1717,-1686.73 1834.98,-1697.27"/>
<text text-anchor="middle" x="1633.58" y="-1701.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster haproxy</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_cca67120 -->
<g id="edge_61f0f4b3" class="edge">
<title>role_ea53d2b0-&gt;task_cca67120</title>
<g id="a_edge_61f0f4b3"><a xlink:title="8 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M735.64,-1074.95C752.14,-1168.4 831.88,-1592.41 933.11,-1669.73 971.38,-1698.96 1230.13,-1705.41 1421.84,-1706.09" id="path_edge_61f0f4b3"/>
<polygon fill="#62319b" stroke="#62319b" points="1422.05,-1709.59 1432.06,-1706.12 1422.07,-1702.59 1422.05,-1709.59"/>
</a>
</g>
<g id="a_edge_61f0f4b3-label"><a xlink:title="8 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_61f0f4b3" text-anchor="middle" startOffset="50%">8 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_cca67120"/></links></g>
<!-- task_561be0eb -->
<g id="task_561be0eb" class="node">
<title>task_561be0eb</title>
<g id="a_task_561be0eb"><a xlink:title="pg_remove : Stop and disable haproxy load balancer">
<polygon fill="none" stroke="#62319b" points="1847.31,-1643.27 1847.31,-1658.18 1722.11,-1668.73 1545.06,-1668.73 1419.86,-1658.18 1419.86,-1643.27 1545.06,-1632.73 1722.11,-1632.73 1847.31,-1643.27"/>
<text text-anchor="middle" x="1633.58" y="-1647.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable haproxy load balancer</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_561be0eb -->
<g id="edge_e80a8b3b" class="edge">
<title>role_ea53d2b0-&gt;task_561be0eb</title>
<g id="a_edge_e80a8b3b"><a xlink:title="9 ">
<path fill="none" stroke="#62319b" d="M732.43,-1074.83C733.2,-1154.8 748.01,-1478.45 933.11,-1615.73 970.95,-1643.79 1219.32,-1650.7 1409.45,-1651.79" id="path_edge_e80a8b3b"/>
<polygon fill="#62319b" stroke="#62319b" points="1409.58,-1655.29 1419.6,-1651.84 1409.62,-1648.29 1409.58,-1655.29"/>
</a>
</g>
<g id="a_edge_e80a8b3b-label"><a xlink:title="9 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_e80a8b3b" text-anchor="middle" startOffset="50%">9 </textPath></text>
</a>
</g>
<links><link target="task_561be0eb"/></links></g>
<!-- task_9ae5844a -->
<g id="task_9ae5844a" class="node">
<title>task_9ae5844a</title>
<g id="a_task_9ae5844a"><a xlink:title="pg_remove : Stop and disable vip-manager">
<polygon fill="none" stroke="#62319b" points="1810.64,-1589.27 1810.64,-1604.18 1706.92,-1614.73 1560.24,-1614.73 1456.52,-1604.18 1456.52,-1589.27 1560.24,-1578.73 1706.92,-1578.73 1810.64,-1589.27"/>
<text text-anchor="middle" x="1633.58" y="-1593.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable vip-manager</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_9ae5844a -->
<g id="edge_4a33374d" class="edge">
<title>role_ea53d2b0-&gt;task_9ae5844a</title>
<g id="a_edge_4a33374d"><a xlink:title="10 ">
<path fill="none" stroke="#62319b" d="M733.16,-1074.93C736.98,-1150.44 762.68,-1440.81 933.11,-1562.73 973.91,-1591.91 1252.84,-1597.6 1445.89,-1597.95" id="path_edge_4a33374d"/>
<polygon fill="#62319b" stroke="#62319b" points="1446.17,-1601.46 1456.17,-1597.97 1446.18,-1594.46 1446.17,-1601.46"/>
</a>
</g>
<g id="a_edge_4a33374d-label"><a xlink:title="10 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_4a33374d" text-anchor="middle" startOffset="50%">10 </textPath></text>
</a>
</g>
<links><link target="task_9ae5844a"/></links></g>
<!-- task_33708148 -->
<g id="task_33708148" class="node">
<title>task_33708148</title>
<g id="a_task_33708148"><a xlink:title="pg_remove : Remove pg_exporter service from consul">
<polygon fill="none" stroke="#62319b" points="1855.69,-1535.27 1855.69,-1550.18 1725.58,-1560.73 1541.58,-1560.73 1411.48,-1550.18 1411.48,-1535.27 1541.58,-1524.73 1725.58,-1524.73 1855.69,-1535.27"/>
<text text-anchor="middle" x="1633.58" y="-1539.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_33708148 -->
<g id="edge_c2af7651" class="edge">
<title>role_ea53d2b0-&gt;task_33708148</title>
<g id="a_edge_c2af7651"><a xlink:title="11 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M733.98,-1074.83C740.86,-1145.54 776.35,-1404.5 933.11,-1511.73 971.4,-1537.92 1212.71,-1543.9 1401.32,-1544.46" id="path_edge_c2af7651"/>
<polygon fill="#62319b" stroke="#62319b" points="1401.39,-1547.96 1411.4,-1544.48 1401.4,-1540.96 1401.39,-1547.96"/>
</a>
</g>
<g id="a_edge_c2af7651-label"><a xlink:title="11 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_c2af7651" text-anchor="middle" startOffset="50%">11 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_33708148"/></links></g>
<!-- task_7142b1ab -->
<g id="task_7142b1ab" class="node">
<title>task_7142b1ab</title>
<g id="a_task_7142b1ab"><a xlink:title="pg_remove : Reload consul to dereigster pg_exporter">
<polygon fill="none" stroke="#62319b" points="1849.53,-1481.27 1849.53,-1496.18 1723.03,-1506.73 1544.14,-1506.73 1417.64,-1496.18 1417.64,-1481.27 1544.14,-1470.73 1723.03,-1470.73 1849.53,-1481.27"/>
<text text-anchor="middle" x="1633.58" y="-1485.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pg_exporter</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_7142b1ab -->
<g id="edge_8d0ccfd3" class="edge">
<title>role_ea53d2b0-&gt;task_7142b1ab</title>
<g id="a_edge_8d0ccfd3"><a xlink:title="12 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M734.86,-1074.95C744.56,-1141.58 788.01,-1372.98 933.11,-1466.73 972.43,-1492.13 1217.92,-1494.92 1407.09,-1493.12" id="path_edge_8d0ccfd3"/>
<polygon fill="#62319b" stroke="#62319b" points="1407.22,-1496.62 1417.18,-1493.02 1407.15,-1489.62 1407.22,-1496.62"/>
</a>
</g>
<g id="a_edge_8d0ccfd3-label"><a xlink:title="12 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_8d0ccfd3" text-anchor="middle" startOffset="50%">12 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_7142b1ab"/></links></g>
<!-- task_ac48441a -->
<g id="task_ac48441a" class="node">
<title>task_ac48441a</title>
<g id="a_task_ac48441a"><a xlink:title="pg_remove : Stop and disable pg_exporter service">
<polygon fill="none" stroke="#62319b" points="1837.61,-1427.27 1837.61,-1442.18 1718.09,-1452.73 1549.07,-1452.73 1429.56,-1442.18 1429.56,-1427.27 1549.07,-1416.73 1718.09,-1416.73 1837.61,-1427.27"/>
<text text-anchor="middle" x="1633.58" y="-1431.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pg_exporter service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_ac48441a -->
<g id="edge_0738657b" class="edge">
<title>role_ea53d2b0-&gt;task_ac48441a</title>
<g id="a_edge_0738657b"><a xlink:title="13 ">
<path fill="none" stroke="#62319b" d="M736.57,-1074.97C750.99,-1134.76 805.79,-1325.45 933.11,-1402.73 1017.32,-1453.84 1275.22,-1453.06 1453.17,-1445.61" id="path_edge_0738657b"/>
<polygon fill="#62319b" stroke="#62319b" points="1453.33,-1449.11 1463.17,-1445.18 1453.03,-1442.11 1453.33,-1449.11"/>
</a>
</g>
<g id="a_edge_0738657b-label"><a xlink:title="13 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_0738657b" text-anchor="middle" startOffset="50%">13 </textPath></text>
</a>
</g>
<links><link target="task_ac48441a"/></links></g>
<!-- task_18bb4715 -->
<g id="task_18bb4715" class="node">
<title>task_18bb4715</title>
<g id="a_task_18bb4715"><a xlink:title="pg_remove : Remove pgbouncer_exporter service from consul">
<polygon fill="none" stroke="#62319b" points="1886.19,-1373.27 1886.19,-1388.18 1738.22,-1398.73 1528.95,-1398.73 1380.97,-1388.18 1380.97,-1373.27 1528.95,-1362.73 1738.22,-1362.73 1886.19,-1373.27"/>
<text text-anchor="middle" x="1633.58" y="-1377.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer_exporter service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_18bb4715 -->
<g id="edge_0f79ef65" class="edge">
<title>role_ea53d2b0-&gt;task_18bb4715</title>
<g id="a_edge_0f79ef65"><a xlink:title="14 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M737.91,-1074.67C755.45,-1129.31 816.52,-1293.82 933.11,-1358.73 971.39,-1380.03 1188.53,-1384.32 1370.87,-1383.99" id="path_edge_0f79ef65"/>
<polygon fill="#62319b" stroke="#62319b" points="1370.9,-1387.49 1380.89,-1383.97 1370.88,-1380.49 1370.9,-1387.49"/>
</a>
</g>
<g id="a_edge_0f79ef65-label"><a xlink:title="14 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_0f79ef65" text-anchor="middle" startOffset="50%">14 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_18bb4715"/></links></g>
<!-- task_409712b0 -->
<g id="task_409712b0" class="node">
<title>task_409712b0</title>
<g id="a_task_409712b0"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer_exporter">
<polygon fill="none" stroke="#62319b" points="1880.03,-1319.27 1880.03,-1334.18 1735.66,-1344.73 1531.5,-1344.73 1387.14,-1334.18 1387.14,-1319.27 1531.5,-1308.73 1735.66,-1308.73 1880.03,-1319.27"/>
<text text-anchor="middle" x="1633.58" y="-1323.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer_exporter</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_409712b0 -->
<g id="edge_98bca9c2" class="edge">
<title>role_ea53d2b0-&gt;task_409712b0</title>
<g id="a_edge_98bca9c2"><a xlink:title="15 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M740.5,-1074.74C762.82,-1122.48 830.92,-1252.03 933.11,-1302.73 1016.66,-1344.18 1251.55,-1344.54 1426.22,-1338.19" id="path_edge_98bca9c2"/>
<polygon fill="#62319b" stroke="#62319b" points="1426.46,-1341.69 1436.32,-1337.82 1426.2,-1334.69 1426.46,-1341.69"/>
</a>
</g>
<g id="a_edge_98bca9c2-label"><a xlink:title="15 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_98bca9c2" text-anchor="middle" startOffset="50%">15 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_409712b0"/></links></g>
<!-- task_5c9c542d -->
<g id="task_5c9c542d" class="node">
<title>task_5c9c542d</title>
<g id="a_task_5c9c542d"><a xlink:title="pg_remove : Stop and disable pgbouncer_exporter service">
<polygon fill="none" stroke="#62319b" points="1868.52,-1265.27 1868.52,-1280.18 1730.9,-1290.73 1536.27,-1290.73 1398.65,-1280.18 1398.65,-1265.27 1536.27,-1254.73 1730.9,-1254.73 1868.52,-1265.27"/>
<text text-anchor="middle" x="1633.58" y="-1269.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer_exporter service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_5c9c542d -->
<g id="edge_37d7fe10" class="edge">
<title>role_ea53d2b0-&gt;task_5c9c542d</title>
<g id="a_edge_37d7fe10"><a xlink:title="16 ">
<path fill="none" stroke="#62319b" d="M744.11,-1074.69C771.35,-1115 843.84,-1212.04 933.11,-1249.73 1016.79,-1285.06 1241.34,-1286.96 1413.65,-1282.44" id="path_edge_37d7fe10"/>
<polygon fill="#62319b" stroke="#62319b" points="1413.98,-1285.93 1423.89,-1282.16 1413.79,-1278.93 1413.98,-1285.93"/>
</a>
</g>
<g id="a_edge_37d7fe10-label"><a xlink:title="16 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_37d7fe10" text-anchor="middle" startOffset="50%">16 </textPath></text>
</a>
</g>
<links><link target="task_5c9c542d"/></links></g>
<!-- task_5316eb6a -->
<g id="task_5316eb6a" class="node">
<title>task_5316eb6a</title>
<g id="a_task_5316eb6a"><a xlink:title="pg_remove : Stop and disable promtail service">
<polygon fill="none" stroke="#62319b" points="1824.78,-1211.27 1824.78,-1226.18 1712.78,-1236.73 1554.38,-1236.73 1442.38,-1226.18 1442.38,-1211.27 1554.38,-1200.73 1712.78,-1200.73 1824.78,-1211.27"/>
<text text-anchor="middle" x="1633.58" y="-1215.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable promtail service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_5316eb6a -->
<g id="edge_6728b237" class="edge">
<title>role_ea53d2b0-&gt;task_5316eb6a</title>
<g id="a_edge_6728b237"><a xlink:title="17 ">
<path fill="none" stroke="#62319b" d="M753.4,-1073.96C788.16,-1101.49 861.18,-1154.51 933.11,-1176.73 1111.75,-1231.9 1328,-1235.96 1472.31,-1230.4" id="path_edge_6728b237"/>
<polygon fill="#62319b" stroke="#62319b" points="1472.73,-1233.89 1482.58,-1229.98 1472.44,-1226.89 1472.73,-1233.89"/>
</a>
</g>
<g id="a_edge_6728b237-label"><a xlink:title="17 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_6728b237" text-anchor="middle" startOffset="50%">17 </textPath></text>
</a>
</g>
<links><link target="task_5316eb6a"/></links></g>
<!-- task_7a1ec514 -->
<g id="task_7a1ec514" class="node">
<title>task_7a1ec514</title>
<g id="a_task_7a1ec514"><a xlink:title="pg_remove : Remove pgbouncer service from consul">
<polygon fill="none" stroke="#62319b" points="1850.43,-1157.27 1850.43,-1172.18 1723.41,-1182.73 1543.76,-1182.73 1416.73,-1172.18 1416.73,-1157.27 1543.76,-1146.73 1723.41,-1146.73 1850.43,-1157.27"/>
<text text-anchor="middle" x="1633.58" y="-1161.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove pgbouncer service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_7a1ec514 -->
<g id="edge_970b25ea" class="edge">
<title>role_ea53d2b0-&gt;task_7a1ec514</title>
<g id="a_edge_970b25ea"><a xlink:title="18 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M772.58,-1071.6C812.62,-1085.76 876.24,-1106.4 933.11,-1116.73 1089.68,-1145.15 1268.74,-1157.06 1406.5,-1161.91" id="path_edge_970b25ea"/>
<polygon fill="#62319b" stroke="#62319b" points="1406.65,-1165.42 1416.76,-1162.26 1406.89,-1158.42 1406.65,-1165.42"/>
</a>
</g>
<g id="a_edge_970b25ea-label"><a xlink:title="18 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_970b25ea" text-anchor="middle" startOffset="50%">18 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_7a1ec514"/></links></g>
<!-- task_8253e058 -->
<g id="task_8253e058" class="node">
<title>task_8253e058</title>
<g id="a_task_8253e058"><a xlink:title="pg_remove : Reload consul to dereigster pgbouncer">
<polygon fill="none" stroke="#62319b" points="1843.77,-1103.27 1843.77,-1118.18 1720.65,-1128.73 1546.52,-1128.73 1423.39,-1118.18 1423.39,-1103.27 1546.52,-1092.73 1720.65,-1092.73 1843.77,-1103.27"/>
<text text-anchor="middle" x="1633.58" y="-1107.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload consul to dereigster pgbouncer</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_8253e058 -->
<g id="edge_f1265ec5" class="edge">
<title>role_ea53d2b0-&gt;task_8253e058</title>
<g id="a_edge_f1265ec5"><a xlink:title="19 [when: service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M798.85,-1063.76C837.9,-1067.71 888.27,-1072.48 933.11,-1075.73 1095.34,-1087.46 1279.03,-1096.49 1417.45,-1102.44" id="path_edge_f1265ec5"/>
<polygon fill="#62319b" stroke="#62319b" points="1417.61,-1105.95 1427.75,-1102.88 1417.91,-1098.95 1417.61,-1105.95"/>
</a>
</g>
<g id="a_edge_f1265ec5-label"><a xlink:title="19 [when: service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_f1265ec5" text-anchor="middle" startOffset="50%">19 [when: service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_8253e058"/></links></g>
<!-- task_03eaddac -->
<g id="task_03eaddac" class="node">
<title>task_03eaddac</title>
<g id="a_task_03eaddac"><a xlink:title="pg_remove : Stop and disable pgbouncer service">
<polygon fill="none" stroke="#62319b" points="1831.85,-1049.27 1831.85,-1064.18 1715.71,-1074.73 1551.46,-1074.73 1435.31,-1064.18 1435.31,-1049.27 1551.46,-1038.73 1715.71,-1038.73 1831.85,-1049.27"/>
<text text-anchor="middle" x="1633.58" y="-1053.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable pgbouncer service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_03eaddac -->
<g id="edge_d4e99839" class="edge">
<title>role_ea53d2b0-&gt;task_03eaddac</title>
<g id="a_edge_d4e99839"><a xlink:title="20 ">
<path fill="none" stroke="#62319b" d="M804.63,-1056.73C937.69,-1056.73 1226.28,-1056.73 1424.98,-1056.73" id="path_edge_d4e99839"/>
<polygon fill="#62319b" stroke="#62319b" points="1425.26,-1060.23 1435.26,-1056.73 1425.26,-1053.23 1425.26,-1060.23"/>
</a>
</g>
<g id="a_edge_d4e99839-label"><a xlink:title="20 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_d4e99839" text-anchor="middle" startOffset="50%">20 </textPath></text>
</a>
</g>
<links><link target="task_03eaddac"/></links></g>
<!-- task_55889f8a -->
<g id="task_55889f8a" class="node">
<title>task_55889f8a</title>
<g id="a_task_55889f8a"><a xlink:title="pg_remove : Get actuall pg_role">
<polygon fill="none" stroke="#62319b" points="1770.04,-995.27 1770.04,-1010.18 1690.1,-1020.73 1577.06,-1020.73 1497.13,-1010.18 1497.13,-995.27 1577.06,-984.73 1690.1,-984.73 1770.04,-995.27"/>
<text text-anchor="middle" x="1633.58" y="-999.03" font-family="Times,serif" font-size="14.00">pg_remove : Get actuall pg_role</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_55889f8a -->
<g id="edge_bc594d2b" class="edge">
<title>role_ea53d2b0-&gt;task_55889f8a</title>
<g id="a_edge_bc594d2b"><a xlink:title="21 ">
<path fill="none" stroke="#62319b" d="M798.85,-1049.7C837.9,-1045.75 888.27,-1040.97 933.11,-1037.73 1124.37,-1023.89 1345.45,-1013.82 1487.02,-1008.13" id="path_edge_bc594d2b"/>
<polygon fill="#62319b" stroke="#62319b" points="1487.22,-1011.62 1497.07,-1007.72 1486.94,-1004.63 1487.22,-1011.62"/>
</a>
</g>
<g id="a_edge_bc594d2b-label"><a xlink:title="21 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_bc594d2b" text-anchor="middle" startOffset="50%">21 </textPath></text>
</a>
</g>
<links><link target="task_55889f8a"/></links></g>
<!-- task_78d3d4d4 -->
<g id="task_78d3d4d4" class="node">
<title>task_78d3d4d4</title>
<g id="a_task_78d3d4d4"><a xlink:title="pg_remove : Get pg_role from result">
<polygon fill="none" stroke="#62319b" points="1786.81,-941.27 1786.81,-956.18 1697.05,-966.73 1570.12,-966.73 1480.36,-956.18 1480.36,-941.27 1570.12,-930.73 1697.05,-930.73 1786.81,-941.27"/>
<text text-anchor="middle" x="1633.58" y="-945.03" font-family="Times,serif" font-size="14.00">pg_remove : Get pg_role from result</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_78d3d4d4 -->
<g id="edge_d2a62d28" class="edge">
<title>role_ea53d2b0-&gt;task_78d3d4d4</title>
<g id="a_edge_d2a62d28"><a xlink:title="22 ">
<path fill="none" stroke="#62319b" d="M802.64,-1060.88C839.15,-1059.66 882.79,-1052.57 915.11,-1029.73 929.07,-1019.86 918.77,-1005.03 933.11,-995.73 1018.6,-940.26 1291.55,-937.25 1470.13,-941.8" id="path_edge_d2a62d28"/>
<polygon fill="#62319b" stroke="#62319b" points="1470.06,-945.3 1480.15,-942.07 1470.25,-938.3 1470.06,-945.3"/>
</a>
</g>
<g id="a_edge_d2a62d28-label"><a xlink:title="22 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_d2a62d28" text-anchor="middle" startOffset="50%">22 </textPath></text>
</a>
</g>
<links><link target="task_78d3d4d4"/></links></g>
<!-- task_678ddbb4 -->
<g id="task_678ddbb4" class="node">
<title>task_678ddbb4</title>
<g id="a_task_678ddbb4"><a xlink:title="pg_remove : Set pg_role if applicable">
<polygon fill="none" stroke="#62319b" points="1790.34,-887.27 1790.34,-902.18 1698.51,-912.73 1568.65,-912.73 1476.82,-902.18 1476.82,-887.27 1568.65,-876.73 1698.51,-876.73 1790.34,-887.27"/>
<text text-anchor="middle" x="1633.58" y="-891.03" font-family="Times,serif" font-size="14.00">pg_remove : Set pg_role if applicable</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_678ddbb4 -->
<g id="edge_f0c393ad" class="edge">
<title>role_ea53d2b0-&gt;task_678ddbb4</title>
<g id="a_edge_f0c393ad"><a xlink:title="23 [when: pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<path fill="none" stroke="#62319b" d="M796.97,-1064.7C836.25,-1065.78 884.6,-1059.72 915.11,-1029.73 950.12,-995.3 896.27,-953.18 933.11,-920.73 1015.68,-847.99 1331.51,-865.16 1509.22,-881.43" id="path_edge_f0c393ad"/>
<polygon fill="#62319b" stroke="#62319b" points="1509.13,-884.93 1519.41,-882.37 1509.78,-877.96 1509.13,-884.93"/>
</a>
</g>
<g id="a_edge_f0c393ad-label"><a xlink:title="23 [when: pg_role_detected == 'primary' or pg_role_detected == 'replica']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_f0c393ad" text-anchor="middle" startOffset="50%">23 [when: pg_role_detected == 'primary' or pg_role_detected == 'replica']</textPath></text>
</a>
</g>
<links><link target="task_678ddbb4"/></links></g>
<!-- task_efaef6c9 -->
<g id="task_efaef6c9" class="node">
<title>task_efaef6c9</title>
<g id="a_task_efaef6c9"><a xlink:title="pg_remove : Remove follower postgres service from consul">
<polygon fill="none" stroke="#62319b" points="1876.49,-833.27 1876.49,-848.18 1734.2,-858.73 1532.97,-858.73 1390.67,-848.18 1390.67,-833.27 1532.97,-822.73 1734.2,-822.73 1876.49,-833.27"/>
<text text-anchor="middle" x="1633.58" y="-837.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower postgres service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_efaef6c9 -->
<g id="edge_a687210d" class="edge">
<title>role_ea53d2b0-&gt;task_efaef6c9</title>
<g id="a_edge_a687210d"><a xlink:title="24 [when: pg_role != 'primary' and service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M795.87,-1065.3C835.74,-1066.88 885.14,-1061.16 915.11,-1029.73 943,-1000.47 903.3,-876.03 933.11,-848.73 968.93,-815.92 1233.1,-820.99 1426.26,-829.41" id="path_edge_a687210d"/>
<polygon fill="#62319b" stroke="#62319b" points="1426.13,-832.91 1436.27,-829.85 1426.44,-825.92 1426.13,-832.91"/>
</a>
</g>
<g id="a_edge_a687210d-label"><a xlink:title="24 [when: pg_role != 'primary' and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_a687210d" text-anchor="middle" startOffset="50%">24 [when: pg_role != 'primary' and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_efaef6c9"/></links></g>
<!-- task_ed78fda9 -->
<g id="task_ed78fda9" class="node">
<title>task_ed78fda9</title>
<g id="a_task_ed78fda9"><a xlink:title="pg_remove : Remove follower patroni service from consul">
<polygon fill="none" stroke="#62319b" points="1871.14,-779.27 1871.14,-794.18 1731.98,-804.73 1535.18,-804.73 1396.02,-794.18 1396.02,-779.27 1535.18,-768.73 1731.98,-768.73 1871.14,-779.27"/>
<text text-anchor="middle" x="1633.58" y="-783.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove follower patroni service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_ed78fda9 -->
<g id="edge_343a896a" class="edge">
<title>role_ea53d2b0-&gt;task_ed78fda9</title>
<g id="a_edge_343a896a"><a xlink:title="25 [when: pg_role != 'primary' and service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M795.19,-1065.46C835.3,-1067.23 885.23,-1061.68 915.11,-1029.73 949.37,-993.09 896.7,-839.22 933.11,-804.73 966.98,-772.64 1212.1,-772.58 1402.72,-777.67" id="path_edge_343a896a"/>
<polygon fill="#62319b" stroke="#62319b" points="1402.81,-781.17 1412.9,-777.95 1403,-774.17 1402.81,-781.17"/>
</a>
</g>
<g id="a_edge_343a896a-label"><a xlink:title="25 [when: pg_role != 'primary' and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_343a896a" text-anchor="middle" startOffset="50%">25 [when: pg_role != 'primary' and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_ed78fda9"/></links></g>
<!-- task_f4c839d2 -->
<g id="task_f4c839d2" class="node">
<title>task_f4c839d2</title>
<g id="a_task_f4c839d2"><a xlink:title="pg_remove : Reload follower consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#62319b" points="1910.03,-725.27 1910.03,-740.18 1748.09,-750.73 1519.08,-750.73 1357.14,-740.18 1357.14,-725.27 1519.08,-714.73 1748.09,-714.73 1910.03,-725.27"/>
<text text-anchor="middle" x="1633.58" y="-729.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload follower consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_f4c839d2 -->
<g id="edge_2c8ade6b" class="edge">
<title>role_ea53d2b0-&gt;task_f4c839d2</title>
<g id="a_edge_2c8ade6b"><a xlink:title="26 [when: pg_role != 'primary' and service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M795.34,-1065.59C835.51,-1067.43 885.45,-1061.89 915.11,-1029.73 956.33,-985.03 889.45,-799.04 933.11,-756.73 1008.42,-683.75 1300.18,-698.28 1482.26,-715.48" id="path_edge_2c8ade6b"/>
<polygon fill="#62319b" stroke="#62319b" points="1482.17,-718.99 1492.46,-716.46 1482.84,-712.02 1482.17,-718.99"/>
</a>
</g>
<g id="a_edge_2c8ade6b-label"><a xlink:title="26 [when: pg_role != 'primary' and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_2c8ade6b" text-anchor="middle" startOffset="50%">26 [when: pg_role != 'primary' and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_f4c839d2"/></links></g>
<!-- task_959a5c7b -->
<g id="task_959a5c7b" class="node">
<title>task_959a5c7b</title>
<g id="a_task_959a5c7b"><a xlink:title="pg_remove : Stop and disable follower patroni service">
<polygon fill="none" stroke="#62319b" points="1853.97,-671.27 1853.97,-686.18 1724.87,-696.73 1542.3,-696.73 1413.2,-686.18 1413.2,-671.27 1542.3,-660.73 1724.87,-660.73 1853.97,-671.27"/>
<text text-anchor="middle" x="1633.58" y="-675.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower patroni service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_959a5c7b -->
<g id="edge_790af908" class="edge">
<title>role_ea53d2b0-&gt;task_959a5c7b</title>
<g id="a_edge_790af908"><a xlink:title="27 [when: pg_role != 'primary']">
<path fill="none" stroke="#62319b" d="M795.04,-1065.71C835.35,-1067.66 885.57,-1062.21 915.11,-1029.73 941.08,-1001.16 905.19,-709.39 933.11,-682.73 969.61,-647.87 1253.65,-656.6 1448.35,-667" id="path_edge_790af908"/>
<polygon fill="#62319b" stroke="#62319b" points="1448.25,-670.5 1458.43,-667.55 1448.63,-663.51 1448.25,-670.5"/>
</a>
</g>
<g id="a_edge_790af908-label"><a xlink:title="27 [when: pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_790af908" text-anchor="middle" startOffset="50%">27 [when: pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_959a5c7b"/></links></g>
<!-- task_c39de489 -->
<g id="task_c39de489" class="node">
<title>task_c39de489</title>
<g id="a_task_c39de489"><a xlink:title="pg_remove : Stop and disable follower postgres service">
<polygon fill="none" stroke="#62319b" points="1858.82,-617.27 1858.82,-632.18 1726.88,-642.73 1540.29,-642.73 1408.35,-632.18 1408.35,-617.27 1540.29,-606.73 1726.88,-606.73 1858.82,-617.27"/>
<text text-anchor="middle" x="1633.58" y="-621.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable follower postgres service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_c39de489 -->
<g id="edge_85cda015" class="edge">
<title>role_ea53d2b0-&gt;task_c39de489</title>
<g id="a_edge_85cda015"><a xlink:title="28 [when: pg_role != 'primary']">
<path fill="none" stroke="#62319b" d="M794.66,-1065.74C835.07,-1067.78 885.56,-1062.42 915.11,-1029.73 944.2,-997.55 902.06,-670.02 933.11,-639.73 967.64,-606.04 1228.68,-608.39 1421.8,-615.02" id="path_edge_85cda015"/>
<polygon fill="#62319b" stroke="#62319b" points="1421.69,-618.52 1431.81,-615.37 1421.94,-611.52 1421.69,-618.52"/>
</a>
</g>
<g id="a_edge_85cda015-label"><a xlink:title="28 [when: pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_85cda015" text-anchor="middle" startOffset="50%">28 [when: pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_c39de489"/></links></g>
<!-- task_ae16adb8 -->
<g id="task_ae16adb8" class="node">
<title>task_ae16adb8</title>
<g id="a_task_ae16adb8"><a xlink:title="pg_remove : Force follower postgres shutdown">
<polygon fill="none" stroke="#62319b" points="1827,-563.27 1827,-578.18 1713.7,-588.73 1553.47,-588.73 1440.16,-578.18 1440.16,-563.27 1553.47,-552.73 1713.7,-552.73 1827,-563.27"/>
<text text-anchor="middle" x="1633.58" y="-567.03" font-family="Times,serif" font-size="14.00">pg_remove : Force follower postgres shutdown</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_ae16adb8 -->
<g id="edge_364e8681" class="edge">
<title>role_ea53d2b0-&gt;task_ae16adb8</title>
<g id="a_edge_364e8681"><a xlink:title="29 [when: pg_role != 'primary']">
<path fill="none" stroke="#62319b" d="M794.71,-1065.79C835.15,-1067.85 885.64,-1062.49 915.11,-1029.73 947.61,-993.6 898.58,-626.92 933.11,-592.73 967.87,-558.3 1235.8,-558.49 1429.72,-563.36" id="path_edge_364e8681"/>
<polygon fill="#62319b" stroke="#62319b" points="1429.68,-566.86 1439.77,-563.62 1429.86,-559.86 1429.68,-566.86"/>
</a>
</g>
<g id="a_edge_364e8681-label"><a xlink:title="29 [when: pg_role != 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_364e8681" text-anchor="middle" startOffset="50%">29 [when: pg_role != 'primary']</textPath></text>
</a>
</g>
<links><link target="task_ae16adb8"/></links></g>
<!-- task_029da9d9 -->
<g id="task_029da9d9" class="node">
<title>task_029da9d9</title>
<g id="a_task_029da9d9"><a xlink:title="pg_remove : Remove leader postgres service from consul">
<polygon fill="none" stroke="#62319b" points="1867.2,-509.27 1867.2,-524.18 1730.35,-534.73 1536.81,-534.73 1399.96,-524.18 1399.96,-509.27 1536.81,-498.73 1730.35,-498.73 1867.2,-509.27"/>
<text text-anchor="middle" x="1633.58" y="-513.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader postgres service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_029da9d9 -->
<g id="edge_8b48e379" class="edge">
<title>role_ea53d2b0-&gt;task_029da9d9</title>
<g id="a_edge_8b48e379"><a xlink:title="30 [when: pg_role == 'primary' and service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M794.76,-1065.83C835.21,-1067.9 885.71,-1062.55 915.11,-1029.73 951.24,-989.4 894.83,-581.02 933.11,-542.73 1008.53,-467.29 1309.45,-483.09 1491.13,-500.47" id="path_edge_8b48e379"/>
<polygon fill="#62319b" stroke="#62319b" points="1491.01,-503.98 1501.3,-501.46 1491.68,-497.01 1491.01,-503.98"/>
</a>
</g>
<g id="a_edge_8b48e379-label"><a xlink:title="30 [when: pg_role == 'primary' and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_8b48e379" text-anchor="middle" startOffset="50%">30 [when: pg_role == 'primary' and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_029da9d9"/></links></g>
<!-- task_616a0234 -->
<g id="task_616a0234" class="node">
<title>task_616a0234</title>
<g id="a_task_616a0234"><a xlink:title="pg_remove : Remove leader patroni service from consul">
<polygon fill="none" stroke="#62319b" points="1862.76,-455.27 1862.76,-470.18 1728.51,-480.73 1538.65,-480.73 1404.41,-470.18 1404.41,-455.27 1538.65,-444.73 1728.51,-444.73 1862.76,-455.27"/>
<text text-anchor="middle" x="1633.58" y="-459.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove leader patroni service from consul</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_616a0234 -->
<g id="edge_4a898731" class="edge">
<title>role_ea53d2b0-&gt;task_616a0234</title>
<g id="a_edge_4a898731"><a xlink:title="31 [when: pg_role == 'primary' and service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M794.37,-1065.85C834.92,-1068.01 885.68,-1062.74 915.11,-1029.73 956.68,-983.09 888.39,-511.35 933.11,-467.73 968.92,-432.8 1248.37,-440.76 1443.01,-450.87" id="path_edge_4a898731"/>
<polygon fill="#62319b" stroke="#62319b" points="1442.91,-454.37 1453.08,-451.4 1443.28,-447.38 1442.91,-454.37"/>
</a>
</g>
<g id="a_edge_4a898731-label"><a xlink:title="31 [when: pg_role == 'primary' and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_4a898731" text-anchor="middle" startOffset="50%">31 [when: pg_role == 'primary' and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_616a0234"/></links></g>
<!-- task_d4e9fa50 -->
<g id="task_d4e9fa50" class="node">
<title>task_d4e9fa50</title>
<g id="a_task_d4e9fa50"><a xlink:title="pg_remove : Reload leader consul to dereigster postgres &amp; patroni">
<polygon fill="none" stroke="#62319b" points="1900.74,-401.27 1900.74,-416.18 1744.24,-426.73 1522.92,-426.73 1366.43,-416.18 1366.43,-401.27 1522.92,-390.73 1744.24,-390.73 1900.74,-401.27"/>
<text text-anchor="middle" x="1633.58" y="-405.03" font-family="Times,serif" font-size="14.00">pg_remove : Reload leader consul to dereigster postgres &amp; patroni</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_d4e9fa50 -->
<g id="edge_ab130082" class="edge">
<title>role_ea53d2b0-&gt;task_d4e9fa50</title>
<g id="a_edge_ab130082"><a xlink:title="32 [when: pg_role == 'primary' and service_registry == 'consul']">
<path fill="none" stroke="#62319b" d="M794.39,-1065.87C834.95,-1068.04 885.72,-1062.78 915.11,-1029.73 959.87,-979.39 885.28,-471.16 933.11,-423.73 965.99,-391.11 1207.98,-392.04 1398.23,-398.11" id="path_edge_ab130082"/>
<polygon fill="#62319b" stroke="#62319b" points="1398.29,-401.62 1408.4,-398.44 1398.51,-394.62 1398.29,-401.62"/>
</a>
</g>
<g id="a_edge_ab130082-label"><a xlink:title="32 [when: pg_role == 'primary' and service_registry == 'consul']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_ab130082" text-anchor="middle" startOffset="50%">32 [when: pg_role == 'primary' and service_registry == 'consul']</textPath></text>
</a>
</g>
<links><link target="task_d4e9fa50"/></links></g>
<!-- task_207d70b1 -->
<g id="task_207d70b1" class="node">
<title>task_207d70b1</title>
<g id="a_task_207d70b1"><a xlink:title="pg_remove : Stop and disable leader patroni service">
<polygon fill="none" stroke="#62319b" points="1844.68,-347.27 1844.68,-362.18 1721.02,-372.73 1546.14,-372.73 1422.49,-362.18 1422.49,-347.27 1546.14,-336.73 1721.02,-336.73 1844.68,-347.27"/>
<text text-anchor="middle" x="1633.58" y="-351.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader patroni service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_207d70b1 -->
<g id="edge_35af3abf" class="edge">
<title>role_ea53d2b0-&gt;task_207d70b1</title>
<g id="a_edge_35af3abf"><a xlink:title="33 [when: pg_role == 'primary']">
<path fill="none" stroke="#62319b" d="M794.42,-1065.89C834.98,-1068.07 885.76,-1062.81 915.11,-1029.73 963.28,-975.44 881.89,-428.15 933.11,-376.73 966.7,-343.01 1221.23,-342.32 1413.65,-346.87" id="path_edge_35af3abf"/>
<polygon fill="#62319b" stroke="#62319b" points="1413.83,-350.37 1423.92,-347.12 1414,-343.38 1413.83,-350.37"/>
</a>
</g>
<g id="a_edge_35af3abf-label"><a xlink:title="33 [when: pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_35af3abf" text-anchor="middle" startOffset="50%">33 [when: pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_207d70b1"/></links></g>
<!-- task_bed9bb95 -->
<g id="task_bed9bb95" class="node">
<title>task_bed9bb95</title>
<g id="a_task_bed9bb95"><a xlink:title="pg_remove : Stop and disable leader postgres service">
<polygon fill="none" stroke="#62319b" points="1849.53,-293.27 1849.53,-308.18 1723.03,-318.73 1544.14,-318.73 1417.64,-308.18 1417.64,-293.27 1544.14,-282.73 1723.03,-282.73 1849.53,-293.27"/>
<text text-anchor="middle" x="1633.58" y="-297.03" font-family="Times,serif" font-size="14.00">pg_remove : Stop and disable leader postgres service</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_bed9bb95 -->
<g id="edge_2153fc24" class="edge">
<title>role_ea53d2b0-&gt;task_bed9bb95</title>
<g id="a_edge_2153fc24"><a xlink:title="34 [when: pg_role == 'primary']">
<path fill="none" stroke="#62319b" d="M794.44,-1065.91C835.01,-1068.1 885.79,-1062.84 915.11,-1029.73 941.01,-1000.48 905.64,-354.51 933.11,-326.73 1008.83,-250.13 1315.1,-267.15 1496.3,-284.86" id="path_edge_2153fc24"/>
<polygon fill="#62319b" stroke="#62319b" points="1496.15,-288.36 1506.44,-285.86 1496.84,-281.39 1496.15,-288.36"/>
</a>
</g>
<g id="a_edge_2153fc24-label"><a xlink:title="34 [when: pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_2153fc24" text-anchor="middle" startOffset="50%">34 [when: pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_bed9bb95"/></links></g>
<!-- task_6608e828 -->
<g id="task_6608e828" class="node">
<title>task_6608e828</title>
<g id="a_task_6608e828"><a xlink:title="pg_remove : Force leader postgres shutdown">
<polygon fill="none" stroke="#62319b" points="1817.71,-239.27 1817.71,-254.18 1709.85,-264.73 1557.31,-264.73 1449.45,-254.18 1449.45,-239.27 1557.31,-228.73 1709.85,-228.73 1817.71,-239.27"/>
<text text-anchor="middle" x="1633.58" y="-243.03" font-family="Times,serif" font-size="14.00">pg_remove : Force leader postgres shutdown</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_6608e828 -->
<g id="edge_019eff68" class="edge">
<title>role_ea53d2b0-&gt;task_6608e828</title>
<g id="a_edge_019eff68"><a xlink:title="35 [when: pg_role == 'primary']">
<path fill="none" stroke="#62319b" d="M794.46,-1065.93C835.05,-1068.13 885.83,-1062.87 915.11,-1029.73 943.73,-997.33 902.3,-282.05 933.11,-251.73 970.2,-215.23 1271.16,-225.36 1466.04,-236.05" id="path_edge_019eff68"/>
<polygon fill="#62319b" stroke="#62319b" points="1465.93,-239.54 1476.1,-236.6 1466.31,-232.56 1465.93,-239.54"/>
</a>
</g>
<g id="a_edge_019eff68-label"><a xlink:title="35 [when: pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_019eff68" text-anchor="middle" startOffset="50%">35 [when: pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_6608e828"/></links></g>
<!-- task_bbfdcf4e -->
<g id="task_bbfdcf4e" class="node">
<title>task_bbfdcf4e</title>
<g id="a_task_bbfdcf4e"><a xlink:title="pg_remove : Remove consul metadata about pgsql cluster">
<polygon fill="none" stroke="#62319b" points="1868.52,-185.27 1868.52,-200.18 1730.9,-210.73 1536.27,-210.73 1398.65,-200.18 1398.65,-185.27 1536.27,-174.73 1730.9,-174.73 1868.52,-185.27"/>
<text text-anchor="middle" x="1633.58" y="-189.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove consul metadata about pgsql cluster</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_bbfdcf4e -->
<g id="edge_2412c4d7" class="edge">
<title>role_ea53d2b0-&gt;task_bbfdcf4e</title>
<g id="a_edge_2412c4d7"><a xlink:title="36 [when: pg_role == 'primary']">
<path fill="none" stroke="#62319b" d="M794.48,-1065.94C835.07,-1068.15 885.85,-1062.89 915.11,-1029.73 945.33,-995.48 900.8,-240.02 933.11,-207.73 966.99,-173.86 1224.74,-176.04 1417.58,-182.7" id="path_edge_2412c4d7"/>
<polygon fill="#62319b" stroke="#62319b" points="1417.46,-186.19 1427.58,-183.05 1417.7,-179.2 1417.46,-186.19"/>
</a>
</g>
<g id="a_edge_2412c4d7-label"><a xlink:title="36 [when: pg_role == 'primary']">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_2412c4d7" text-anchor="middle" startOffset="50%">36 [when: pg_role == 'primary']</textPath></text>
</a>
</g>
<links><link target="task_bbfdcf4e"/></links></g>
<!-- task_065ab978 -->
<g id="task_065ab978" class="node">
<title>task_065ab978</title>
<g id="a_task_065ab978"><a xlink:title="pg_remove : Remove postgres data">
<polygon fill="none" stroke="#62319b" points="1781.55,-131.27 1781.55,-146.18 1694.87,-156.73 1572.29,-156.73 1485.62,-146.18 1485.62,-131.27 1572.29,-120.73 1694.87,-120.73 1781.55,-131.27"/>
<text text-anchor="middle" x="1633.58" y="-135.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove postgres data</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_065ab978 -->
<g id="edge_16bf4bb6" class="edge">
<title>role_ea53d2b0-&gt;task_065ab978</title>
<g id="a_edge_16bf4bb6"><a xlink:title="37 [when: rm_pgdata|bool]">
<path fill="none" stroke="#62319b" d="M794.49,-1065.96C835.09,-1068.16 885.87,-1062.91 915.11,-1029.73 947.07,-993.46 899.09,-194.07 933.11,-159.73 970.35,-122.14 1280.86,-125.98 1475.45,-132.28" id="path_edge_16bf4bb6"/>
<polygon fill="#62319b" stroke="#62319b" points="1475.38,-135.78 1485.49,-132.61 1475.61,-128.78 1475.38,-135.78"/>
</a>
</g>
<g id="a_edge_16bf4bb6-label"><a xlink:title="37 [when: rm_pgdata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_16bf4bb6" text-anchor="middle" startOffset="50%">37 [when: rm_pgdata|bool]</textPath></text>
</a>
</g>
<links><link target="task_065ab978"/></links></g>
<!-- task_ebe7a05c -->
<g id="task_ebe7a05c" class="node">
<title>task_ebe7a05c</title>
<g id="a_task_ebe7a05c"><a xlink:title="pg_remove : Remove pg packages">
<polygon fill="none" stroke="#62319b" points="1778.42,-77.27 1778.42,-92.18 1693.58,-102.73 1573.59,-102.73 1488.74,-92.18 1488.74,-77.27 1573.59,-66.73 1693.58,-66.73 1778.42,-77.27"/>
<text text-anchor="middle" x="1633.58" y="-81.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg packages</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_ebe7a05c -->
<g id="edge_75cda66c" class="edge">
<title>role_ea53d2b0-&gt;task_ebe7a05c</title>
<g id="a_edge_75cda66c"><a xlink:title="38 [when: rm_pgpkgs|bool]">
<path fill="none" stroke="#62319b" d="M794.06,-1065.94C834.74,-1068.22 885.78,-1063.05 915.11,-1029.73 948.89,-991.36 897.26,-146.17 933.11,-109.73 970.44,-71.79 1284.3,-74.07 1478.69,-79.29" id="path_edge_75cda66c"/>
<polygon fill="#62319b" stroke="#62319b" points="1478.63,-82.79 1488.72,-79.56 1478.82,-75.79 1478.63,-82.79"/>
</a>
</g>
<g id="a_edge_75cda66c-label"><a xlink:title="38 [when: rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_75cda66c" text-anchor="middle" startOffset="50%">38 [when: rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_ebe7a05c"/></links></g>
<!-- task_3d6d3ca4 -->
<g id="task_3d6d3ca4" class="node">
<title>task_3d6d3ca4</title>
<g id="a_task_3d6d3ca4"><a xlink:title="pg_remove : Remove pg extensions">
<polygon fill="none" stroke="#62319b" points="1783.27,-23.27 1783.27,-38.18 1695.59,-48.73 1571.58,-48.73 1483.89,-38.18 1483.89,-23.27 1571.58,-12.73 1695.59,-12.73 1783.27,-23.27"/>
<text text-anchor="middle" x="1633.58" y="-27.03" font-family="Times,serif" font-size="14.00">pg_remove : Remove pg extensions</text>
</a>
</g>
</g>
<!-- role_ea53d2b0&#45;&gt;task_3d6d3ca4 -->
<g id="edge_f3a31005" class="edge">
<title>role_ea53d2b0-&gt;task_3d6d3ca4</title>
<g id="a_edge_f3a31005"><a xlink:title="39 [when: rm_pgpkgs|bool]">
<path fill="none" stroke="#62319b" d="M794.07,-1065.95C834.75,-1068.23 885.8,-1063.06 915.11,-1029.73 950.77,-989.17 895.3,-96.3 933.11,-57.73 1011.44,22.19 1339.1,1.09 1516.79,-17.04" id="path_edge_f3a31005"/>
<polygon fill="#62319b" stroke="#62319b" points="1516.66,-20.54 1526.97,-18.09 1517.38,-13.58 1516.66,-20.54"/>
</a>
</g>
<g id="a_edge_f3a31005-label"><a xlink:title="39 [when: rm_pgpkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#62319b" dy="-1%"><textPath xlink:href="#path_edge_f3a31005" text-anchor="middle" startOffset="50%">39 [when: rm_pgpkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_3d6d3ca4"/></links></g>
<!-- task_2f375b67 -->
<g id="task_2f375b67" class="node">
<title>task_2f375b67</title>
<g id="a_task_2f375b67"><a xlink:title="Stop and disable systemd infra service">
<polygon fill="none" stroke="#12ba4d" points="915.22,-995.27 915.22,-1010.18 807.6,-1020.73 655.4,-1020.73 547.78,-1010.18 547.78,-995.27 655.4,-984.73 807.6,-984.73 915.22,-995.27"/>
<text text-anchor="middle" x="731.5" y="-999.03" font-family="Times,serif" font-size="14.00">[task] Stop and disable systemd infra service</text>
</a>
</g>
</g>
<!-- play_c4e1fecf&#45;&gt;task_2f375b67 -->
<g id="edge_64c3acd5" class="edge">
<title>play_c4e1fecf-&gt;task_2f375b67</title>
<g id="a_edge_64c3acd5"><a xlink:title="1 ">
<path fill="none" stroke="#12ba4d" d="M344.94,-977.84C353.67,-978.91 362.47,-979.9 370.89,-980.73 427.26,-986.24 488.76,-990.61 544.69,-993.95" id="path_edge_64c3acd5"/>
<polygon fill="#12ba4d" stroke="#12ba4d" points="544.52,-997.44 554.7,-994.54 544.93,-990.46 544.52,-997.44"/>
</a>
</g>
<g id="a_edge_64c3acd5-label"><a xlink:title="1 ">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#12ba4d" dy="-1%"><textPath xlink:href="#path_edge_64c3acd5" text-anchor="middle" startOffset="50%">1 </textPath></text>
</a>
</g>
<links><link target="task_2f375b67"/></links></g>
<!-- task_a135f73f -->
<g id="task_a135f73f" class="node">
<title>task_a135f73f</title>
<g id="a_task_a135f73f"><a xlink:title="Remove infra data on meta nodes">
<polygon fill="none" stroke="#12ba4d" points="897.55,-941.27 897.55,-956.18 800.28,-966.73 662.72,-966.73 565.45,-956.18 565.45,-941.27 662.72,-930.73 800.28,-930.73 897.55,-941.27"/>
<text text-anchor="middle" x="731.5" y="-945.03" font-family="Times,serif" font-size="14.00">[task] Remove infra data on meta nodes</text>
</a>
</g>
</g>
<!-- play_c4e1fecf&#45;&gt;task_a135f73f -->
<g id="edge_4f7162b0" class="edge">
<title>play_c4e1fecf-&gt;task_a135f73f</title>
<g id="a_edge_4f7162b0"><a xlink:title="2 [when: rm_metadata|bool]">
<path fill="none" stroke="#12ba4d" d="M345.15,-964.78C401.19,-962.45 481.94,-959.08 555.06,-956.04" id="path_edge_4f7162b0"/>
<polygon fill="#12ba4d" stroke="#12ba4d" points="555.48,-959.52 565.32,-955.61 555.18,-952.53 555.48,-959.52"/>
</a>
</g>
<g id="a_edge_4f7162b0-label"><a xlink:title="2 [when: rm_metadata|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#12ba4d" dy="-1%"><textPath xlink:href="#path_edge_4f7162b0" text-anchor="middle" startOffset="50%">2 [when: rm_metadata|bool]</textPath></text>
</a>
</g>
<links><link target="task_a135f73f"/></links></g>
<!-- task_1ca9f3fd -->
<g id="task_1ca9f3fd" class="node">
<title>task_1ca9f3fd</title>
<g id="a_task_1ca9f3fd"><a xlink:title="Uninstall meta packages">
<polygon fill="none" stroke="#12ba4d" points="861.79,-887.27 861.79,-902.18 785.47,-912.73 677.53,-912.73 601.21,-902.18 601.21,-887.27 677.53,-876.73 785.47,-876.73 861.79,-887.27"/>
<text text-anchor="middle" x="731.5" y="-891.03" font-family="Times,serif" font-size="14.00">[task] Uninstall meta packages</text>
</a>
</g>
</g>
<!-- play_c4e1fecf&#45;&gt;task_1ca9f3fd -->
<g id="edge_3e8fe797" class="edge">
<title>play_c4e1fecf-&gt;task_1ca9f3fd</title>
<g id="a_edge_3e8fe797"><a xlink:title="3 [when: rm_metapkgs|bool]">
<path fill="none" stroke="#12ba4d" d="M326.26,-949.7C340.58,-945.24 356.22,-940.86 370.89,-937.73 446.2,-921.66 531.76,-911.12 600.53,-904.5" id="path_edge_3e8fe797"/>
<polygon fill="#12ba4d" stroke="#12ba4d" points="600.92,-907.98 610.55,-903.56 600.26,-901.01 600.92,-907.98"/>
</a>
</g>
<g id="a_edge_3e8fe797-label"><a xlink:title="3 [when: rm_metapkgs|bool]">
<text text-anchor="middle" font-family="Times,serif" font-size="14.00" fill="#12ba4d" dy="-1%"><textPath xlink:href="#path_edge_3e8fe797" text-anchor="middle" startOffset="50%">3 [when: rm_metapkgs|bool]</textPath></text>
</a>
</g>
<links><link target="task_1ca9f3fd"/></links></g>
</g>
</svg>